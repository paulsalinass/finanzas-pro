{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createClient } from \"@/utils/supabase/client\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const supabase = createClient();\r\n    const [isLogin, setIsLogin] = useState(true);\r\n    const [loading, setLoading] = useState(false);\r\n    const [message, setMessage] = useState<string | null>(null);\r\n\r\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setMessage(null);\r\n\r\n        const formData = new FormData(e.currentTarget);\r\n        const email = formData.get(\"email\") as string;\r\n        const password = formData.get(\"password\") as string;\r\n        const fullName = formData.get(\"fullName\") as string;\r\n\r\n        if (isLogin) {\r\n            const { error } = await supabase.auth.signInWithPassword({\r\n                email,\r\n                password,\r\n            });\r\n\r\n            if (error) {\r\n                setMessage(error.message);\r\n            } else {\r\n                router.push(\"/\");\r\n                router.refresh();\r\n            }\r\n        } else {\r\n            const { error } = await supabase.auth.signUp({\r\n                email,\r\n                password,\r\n                options: {\r\n                    data: {\r\n                        full_name: fullName,\r\n                    },\r\n                    emailRedirectTo: `${window.location.origin}/auth/callback`,\r\n                },\r\n            });\r\n\r\n            if (error) {\r\n                setMessage(error.message);\r\n            } else {\r\n                setMessage(\"Account created! Please check your email to confirm.\");\r\n            }\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-background-page dark:bg-background-dark flex py-10 items-center justify-center p-4\">\r\n            <div className=\"bg-white dark:bg-slate-900 rounded-[2rem] shadow-2xl w-full max-w-md p-8 relative overflow-hidden\">\r\n                {/* Decorative Background Elements */}\r\n                <div className=\"absolute top-[-50px] left-[-50px] w-32 h-32 bg-primary/10 rounded-full blur-3xl pointer-events-none\"></div>\r\n                <div className=\"absolute bottom-[-50px] right-[-50px] w-32 h-32 bg-purple-500/10 rounded-full blur-3xl pointer-events-none\"></div>\r\n\r\n                <div className=\"relative z-10 text-center mb-8\">\r\n                    <h1 className=\"text-2xl font-bold font-display text-text-main dark:text-white mb-2\">\r\n                        {isLogin ? \"Bienvenido de nuevo\" : \"Comienza ahora\"}\r\n                    </h1>\r\n                    <p className=\"text-sm text-text-muted\">\r\n                        {isLogin\r\n                            ? \"Ingresa tus credenciales para continuar.\"\r\n                            : \"Crea tu cuenta e inicia sesión para continuar.\"}\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Toggle Pills */}\r\n                <div className=\"bg-slate-100 dark:bg-slate-800 p-1 rounded-full flex mb-8 relative\">\r\n                    <button\r\n                        onClick={() => setIsLogin(true)}\r\n                        className={`flex-1 py-2 text-sm font-medium rounded-full transition-all duration-200 z-10 ${isLogin\r\n                                ? \"bg-white dark:bg-slate-700 text-text-main dark:text-white shadow-sm\"\r\n                                : \"text-text-muted hover:text-text-main dark:hover:text-white\"\r\n                            }`}\r\n                    >\r\n                        Iniciar Sesión\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setIsLogin(false)}\r\n                        className={`flex-1 py-2 text-sm font-medium rounded-full transition-all duration-200 z-10 ${!isLogin\r\n                                ? \"bg-white dark:bg-slate-700 text-text-main dark:text-white shadow-sm\"\r\n                                : \"text-text-muted hover:text-text-main dark:hover:text-white\"\r\n                            }`}\r\n                    >\r\n                        Registrarse\r\n                    </button>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"flex flex-col gap-4\">\r\n                    {!isLogin && (\r\n                        <div className=\"space-y-1\">\r\n                            <label className=\"text-xs font-bold text-text-main dark:text-slate-300 ml-1\">\r\n                                Nombre completo\r\n                            </label>\r\n                            <input\r\n                                name=\"fullName\"\r\n                                type=\"text\"\r\n                                placeholder=\"Ej. Juan Pérez\"\r\n                                className=\"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all text-sm text-text-main dark:text-white\"\r\n                                required={!isLogin}\r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"space-y-1\">\r\n                        <label className=\"text-xs font-bold text-text-main dark:text-slate-300 ml-1\">\r\n                            Correo electrónico\r\n                        </label>\r\n                        <input\r\n                            name=\"email\"\r\n                            type=\"email\"\r\n                            placeholder=\"hola@ejemplo.com\"\r\n                            className=\"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all text-sm text-text-main dark:text-white\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-1\">\r\n                        <label className=\"text-xs font-bold text-text-main dark:text-slate-300 ml-1\">\r\n                            Contraseña\r\n                        </label>\r\n                        <input\r\n                            name=\"password\"\r\n                            type=\"password\"\r\n                            placeholder=\"••••••••\"\r\n                            className=\"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all text-sm text-text-main dark:text-white\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"mt-4 w-full bg-primary hover:bg-primary-hover text-white font-bold py-3.5 rounded-xl transition-all shadow-lg shadow-primary/25 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n                    >\r\n                        {loading ? (\r\n                            <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n                        ) : isLogin ? (\r\n                            \"Ingresar\"\r\n                        ) : (\r\n                            \"Crear cuenta gratuita\"\r\n                        )}\r\n                    </button>\r\n                </form>\r\n\r\n                {message && (\r\n                    <div className={`mt-6 p-4 rounded-xl text-sm text-center ${message.includes(\"created\") ? \"bg-green-50 text-green-600 border border-green-100\" : \"bg-red-50 text-red-600 border border-red-100\"}`}>\r\n                        {message}\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"mt-8 relative flex py-5 items-center\">\r\n                    <div className=\"flex-grow border-t border-slate-200 dark:border-slate-700\"></div>\r\n                    <span className=\"flex-shrink-0 mx-4 text-xs font-bold text-text-muted tracking-wider uppercase\">O continúa con</span>\r\n                    <div className=\"flex-grow border-t border-slate-200 dark:border-slate-700\"></div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-3\">\r\n                    <button className=\"flex-1 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl flex items-center justify-center gap-2 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors\">\r\n                        <span className=\"font-bold text-sm text-text-main dark:text-white\">Google</span>\r\n                    </button>\r\n                    <button className=\"flex-1 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl flex items-center justify-center gap-2 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors\">\r\n                        <span className=\"font-bold text-sm text-text-main dark:text-white\">Apple</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <p className=\"mt-8 text-center text-xs text-text-muted\">\r\n                    Al registrarte, aceptas nuestros <a href=\"#\" className=\"text-primary hover:underline\">Términos</a> y <a href=\"#\" className=\"text-primary hover:underline\">Política de Privacidad</a>.\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}