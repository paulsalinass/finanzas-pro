{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/components/DateRangeModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useMemo, useLayoutEffect } from 'react';\nimport { DayPicker, DateRange } from 'react-day-picker';\nimport { format, startOfDay, endOfDay, subDays, startOfMonth, endOfMonth, subMonths, addMonths } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport 'react-day-picker/dist/style.css';\n\ninterface DateRangeModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onApply: (start: Date, end: Date) => void;\n    initialStartDate?: Date | null;\n    initialEndDate?: Date | null;\n}\n\ninterface QuickRange {\n    label: string;\n    description?: string;\n    getRange: () => { from: Date; to: Date };\n}\n\nconst quickRanges: QuickRange[] = [\n    {\n        label: 'Hoy',\n        getRange: () => {\n            const today = new Date();\n            return { from: startOfDay(today), to: endOfDay(today) };\n        }\n    },\n    {\n        label: 'Ayer',\n        getRange: () => {\n            const yesterday = subDays(new Date(), 1);\n            return { from: startOfDay(yesterday), to: endOfDay(yesterday) };\n        }\n    },\n    {\n        label: 'Últimos 7 días',\n        getRange: () => ({\n            from: startOfDay(subDays(new Date(), 6)),\n            to: endOfDay(new Date())\n        })\n    },\n    {\n        label: 'Últimos 30 días',\n        getRange: () => ({\n            from: startOfDay(subDays(new Date(), 29)),\n            to: endOfDay(new Date())\n        })\n    },\n    {\n        label: 'Este mes',\n        getRange: () => ({\n            from: startOfMonth(new Date()),\n            to: endOfDay(new Date())\n        })\n    },\n    {\n        label: 'Mes pasado',\n        getRange: () => {\n            const reference = subMonths(new Date(), 1);\n            return {\n                from: startOfMonth(reference),\n                to: endOfMonth(reference)\n            };\n        }\n    },\n    {\n        label: 'Últimos 3 meses',\n        getRange: () => ({\n            from: startOfMonth(subMonths(new Date(), 2)),\n            to: endOfDay(new Date())\n        })\n    }\n];\n\nconst monthNames = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];\n\nexport const DateRangeModal: React.FC<DateRangeModalProps> = ({ isOpen, onClose, onApply, initialStartDate, initialEndDate }) => {\n    const [range, setRange] = useState<DateRange | undefined>({\n        from: initialStartDate || undefined,\n        to: initialEndDate || undefined\n    });\n    const [activePreset, setActivePreset] = useState<string | null>(null);\n    const [leftMonth, setLeftMonth] = useState<Date>(() => startOfMonth(initialStartDate || new Date()));\n    const [rightMonth, setRightMonth] = useState<Date>(() => addMonths(startOfMonth(initialStartDate || new Date()), 1));\n    const [isMounted, setIsMounted] = useState(false);\n    const [isVisible, setIsVisible] = useState(false);\n\n    const syncCalendarMonths = (fromDate?: Date | null, toDate?: Date | null) => {\n        const baseLeft = startOfMonth(fromDate || new Date());\n        let baseRight = toDate ? startOfMonth(toDate) : addMonths(baseLeft, 1);\n        if (baseRight <= baseLeft) {\n            baseRight = addMonths(baseLeft, 1);\n        }\n        setLeftMonth(baseLeft);\n        setRightMonth(baseRight);\n    };\n\n    useEffect(() => {\n        if (isOpen) {\n            setRange({\n                from: initialStartDate || undefined,\n                to: initialEndDate || undefined\n            });\n            setActivePreset(null);\n            syncCalendarMonths(initialStartDate || undefined, initialEndDate || undefined);\n        }\n    }, [isOpen, initialStartDate, initialEndDate]);\n\n    useEffect(() => {\n        if (!isOpen) return;\n        const handleKeyDown = (event: KeyboardEvent) => {\n            if (event.key === 'Escape') {\n                onClose();\n            }\n        };\n        window.addEventListener('keydown', handleKeyDown);\n        return () => window.removeEventListener('keydown', handleKeyDown);\n    }, [isOpen, onClose]);\n\n    useLayoutEffect(() => {\n        if (isOpen) {\n            setIsMounted(true);\n            const raf = requestAnimationFrame(() => setIsVisible(true));\n            return () => cancelAnimationFrame(raf);\n        }\n\n        if (isMounted) {\n            setIsVisible(false);\n            const timeout = setTimeout(() => setIsMounted(false), 300);\n            return () => clearTimeout(timeout);\n        }\n    }, [isOpen, isMounted]);\n\n    const years = useMemo(() => {\n        const current = new Date().getFullYear();\n        return Array.from({ length: 11 }, (_, idx) => current - 5 + idx);\n    }, []);\n\n    const handleRangeSelect = (selected: DateRange | undefined) => {\n        if (!selected?.from) {\n            setRange(undefined);\n            return;\n        }\n\n        if (!selected.to) {\n            setRange({ from: selected.from, to: undefined });\n            syncCalendarMonths(selected.from, undefined);\n            setActivePreset(null);\n            return;\n        }\n\n        const start = startOfDay(selected.from);\n        const end = endOfDay(selected.to);\n\n        if (end < start) {\n            setRange({ from: end, to: undefined });\n            syncCalendarMonths(end, undefined);\n            setActivePreset(null);\n            return;\n        }\n\n        setRange({ from: start, to: end });\n        syncCalendarMonths(start, end);\n        setActivePreset(null);\n    };\n\n    const handlePresetClick = (preset: QuickRange) => {\n        const presetRange = preset.getRange();\n        setRange(presetRange);\n        setActivePreset(preset.label);\n        syncCalendarMonths(presetRange.from, presetRange.to);\n    };\n\n    const handleApply = () => {\n        if (range?.from && range?.to) {\n            onApply(range.from, range.to);\n            onClose();\n        }\n    };\n\n    const formattedRange = useMemo(() => {\n        if (!range?.from || !range?.to) return 'Selecciona un rango';\n        return `${format(range.from, \"d MMM, yyyy\", { locale: es })} - ${format(range.to, \"d MMM, yyyy\", { locale: es })}`;\n    }, [range]);\n\n    if (!isMounted) return null;\n\n    const handleLeftMonthChange = (next: Date) => {\n        const normalized = startOfMonth(next);\n        setLeftMonth(normalized);\n        if (rightMonth <= normalized) {\n            setRightMonth(addMonths(normalized, 1));\n        }\n    };\n\n    const handleRightMonthChange = (next: Date) => {\n        const normalized = startOfMonth(next);\n        if (normalized <= leftMonth) {\n            setRightMonth(addMonths(leftMonth, 1));\n            return;\n        }\n        setRightMonth(normalized);\n    };\n\n    const MonthControls = ({\n        month,\n        onChange,\n        disablePrev,\n        disableNext\n    }: {\n        month: Date;\n        onChange: (date: Date) => void;\n        disablePrev?: boolean;\n        disableNext?: boolean;\n    }) => (\n        <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"flex items-center gap-2\">\n                <select\n                    value={month.getMonth()}\n                    onChange={(event) => {\n                        const updated = new Date(month);\n                        updated.setMonth(Number(event.target.value));\n                        updated.setDate(1);\n                        onChange(updated);\n                    }}\n                    className=\"px-2 py-1 text-xs font-semibold rounded-lg border border-slate-200 bg-white focus:border-primary focus:outline-none dark:bg-transparent dark:border-white/20 dark:text-white\"\n                >\n                    {monthNames.map((name, idx) => (\n                        <option key={name} value={idx}>\n                            {name.charAt(0).toUpperCase() + name.slice(1)}\n                        </option>\n                    ))}\n                </select>\n                <select\n                    value={month.getFullYear()}\n                    onChange={(event) => {\n                        const updated = new Date(month);\n                        updated.setFullYear(Number(event.target.value));\n                        updated.setDate(1);\n                        onChange(updated);\n                    }}\n                    className=\"px-2 py-1 text-xs font-semibold rounded-lg border border-slate-200 bg-white focus:border-primary focus:outline-none dark:bg-transparent dark:border-white/20 dark:text-white\"\n                >\n                    {years.map((year) => (\n                        <option key={year} value={year}>\n                            {year}\n                        </option>\n                    ))}\n                </select>\n            </div>\n            <div className=\"flex items-center gap-1 text-primary\">\n                <button\n                    type=\"button\"\n                    onClick={() => onChange(addMonths(month, -1))}\n                    disabled={disablePrev}\n                    className=\"size-7 flex items-center justify-center rounded-full bg-primary/10 text-primary hover:bg-primary/20 disabled:opacity-40\"\n                >\n                    <span className=\"material-symbols-outlined text-sm\">chevron_left</span>\n                </button>\n                <button\n                    type=\"button\"\n                    onClick={() => onChange(addMonths(month, 1))}\n                    disabled={disableNext}\n                    className=\"size-7 flex items-center justify-center rounded-full bg-primary/10 text-primary hover:bg-primary/20 disabled:opacity-40\"\n                >\n                    <span className=\"material-symbols-outlined text-sm\">chevron_right</span>\n                </button>\n            </div>\n        </div>\n    );\n\n    return (\n        <div\n            className={`fixed inset-0 z-[120] flex transition-opacity duration-400 ease-[cubic-bezier(0.22,1,0.36,1)] ${isVisible ? 'opacity-100' : 'opacity-0'}`}\n            onClick={onClose}\n        >\n            <div\n                className=\"hidden lg:block h-full\"\n                style={{ width: 'var(--sidebar-width, 280px)' }}\n            />\n            <div\n                className={`flex-1 w-full relative flex items-center justify-center bg-slate-900/35 p-3 sm:p-4 transition-[opacity,backdrop-filter] duration-300 ease-out ${isVisible ? 'opacity-100 backdrop-blur-md' : 'opacity-0 backdrop-blur-none'}`}\n            >\n                <div\n                    className={`date-range-modal w-full max-w-5xl bg-white dark:bg-[#101828] rounded-[28px] shadow-2xl border border-slate-200/80 dark:border-white/10 p-4 sm:p-5 transition-all duration-500 ease-[cubic-bezier(0.22,1,0.36,1)] ${isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-8'}`}\n                    onClick={(e) => e.stopPropagation()}\n                >\n                    <div className=\"flex items-start justify-between gap-3 mb-4\">\n                        <h3 className=\"text-base font-black text-slate-900 dark:text-white\">Seleccionar Rango</h3>\n                        <button\n                            onClick={onClose}\n                            className=\"size-8 flex items-center justify-center rounded-full bg-slate-100 text-slate-500 hover:text-primary hover:bg-primary/10 transition-colors dark:bg-white/10 dark:text-white\"\n                        >\n                            <span className=\"material-symbols-outlined text-lg\">close</span>\n                        </button>\n                    </div>\n\n                    <div className=\"flex flex-col lg:flex-row gap-4\">\n                        <aside className=\"flex flex-col gap-2 w-full lg:w-56\">\n                            <p className=\"text-[9px] font-semibold text-slate-500 uppercase tracking-wide\">Rangos rápidos</p>\n                            <div className=\"grid grid-cols-2 lg:grid-cols-1 gap-2\">\n                                {quickRanges.map((preset) => {\n                                    const isActive = activePreset === preset.label;\n                                    return (\n                                        <button\n                                            key={preset.label}\n                                            onClick={() => handlePresetClick(preset)}\n                                            className={`text-left px-3 py-1.5 rounded-2xl border text-[11px] font-semibold transition-all ${\n                                                isActive\n                                                    ? 'bg-primary/10 border-primary/40 text-primary'\n                                                    : 'border-slate-200 text-slate-600 hover:border-primary/30 hover:text-primary'\n                                            }`}\n                                        >\n                                            {preset.label}\n                                        </button>\n                                    );\n                                })}\n                            </div>\n                        </aside>\n\n                        <div className=\"flex-1 overflow-hidden px-2 md:px-4\">\n                            <style>{`\n                                .date-range-modal .rdp {\n                                    --rdp-cell-size: 30px;\n                                    --rdp-accent-color: #2563eb;\n                                    --rdp-background-color: rgba(37, 99, 235, 0.12);\n                                    --rdp-range_border-radius: 999px;\n                                    margin: 0;\n                                    color: #0f172a;\n                                }\n                                .dark .date-range-modal .rdp {\n                                    color: #f8fafc;\n                                }\n                                .date-range-modal .rdp-head_cell {\n                                    color: #94a3b8;\n                                    font-weight: 600;\n                                    font-size: 0.7rem;\n                                    text-transform: uppercase;\n                                }\n                                .dark .date-range-modal .rdp-head_cell {\n                                    color: rgba(255,255,255,0.7);\n                                }\n                                .date-range-modal .rdp-day {\n                                    font-weight: 500;\n                                    font-size: 0.85rem;\n                                }\n                                .date-range-modal .rdp-day_selected:not([disabled]) {\n                                    background-color: #2563eb;\n                                    color: #fff;\n                                }\n                                .date-range-modal .rdp-day_range_middle {\n                                    background-color: rgba(37,99,235,0.12);\n                                    color: inherit;\n                                    border-radius: 999px !important;\n                                }\n                                .date-range-modal .rdp-root,\n                                .date-range-modal .rdp-months,\n                                .date-range-modal .rdp-month {\n                                    width: 100%;\n                                }\n                                .date-range-modal .rdp-caption,\n                                .date-range-modal .rdp-nav {\n                                    display: none;\n                                }\n                            `}</style>\n                            <div className=\"w-full flex flex-col md:flex-row gap-3 md:gap-6 justify-between\">\n                                <div className=\"flex-1 border border-slate-100 rounded-2xl p-2 shadow-sm dark:border-white/10 backdrop-blur-sm\">\n                                    <MonthControls\n                                        month={leftMonth}\n                                        onChange={handleLeftMonthChange}\n                                    />\n                                    <DayPicker\n                                        mode=\"range\"\n                                        selected={range}\n                                        onSelect={handleRangeSelect}\n                                        month={leftMonth}\n                                        onMonthChange={handleLeftMonthChange}\n                                        numberOfMonths={1}\n                                        locale={es}\n                                    />\n                                </div>\n                                <div className=\"flex-1 border border-slate-100 rounded-2xl p-2 shadow-sm dark:border-white/10 backdrop-blur-sm\">\n                                    <MonthControls\n                                        month={rightMonth}\n                                        onChange={handleRightMonthChange}\n                                        disablePrev={rightMonth <= addMonths(leftMonth, 1)}\n                                    />\n                                    <DayPicker\n                                        mode=\"range\"\n                                        selected={range}\n                                        onSelect={handleRangeSelect}\n                                        month={rightMonth}\n                                        onMonthChange={handleRightMonthChange}\n                                        numberOfMonths={1}\n                                        locale={es}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"mt-5 border-t border-slate-100 dark:border-white/10 pt-3 flex flex-col gap-3\">\n                        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\n                            <div className=\"flex flex-col sm:flex-row sm:items-center gap-2 flex-1\">\n                                <div className=\"flex items-center gap-2 w-full sm:w-auto\">\n                                    <input\n                                        readOnly\n                                        value={range?.from ? format(range.from, 'dd/MM/yyyy') : ''}\n                                        placeholder=\"Inicio\"\n                                        className=\"flex-1 sm:w-32 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-[11px] text-slate-700 focus:border-primary focus:outline-none dark:border-white/10 dark:bg-white/5 dark:text-white\"\n                                    />\n                                    <span className=\"text-slate-400 text-xs\">-</span>\n                                    <input\n                                        readOnly\n                                        value={range?.to ? format(range.to, 'dd/MM/yyyy') : ''}\n                                        placeholder=\"Fin\"\n                                        className=\"flex-1 sm:w-32 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-[11px] text-slate-700 focus:border-primary focus:outline-none dark:border-white/10 dark:bg-white/5 dark:text-white\"\n                                    />\n                                </div>\n                                <p className=\"text-[11px] text-slate-400 dark:text-white/60\">{formattedRange}</p>\n                            </div>\n                            <div className=\"flex flex-col sm:flex-row items-center gap-2 justify-end w-full sm:w-auto\">\n                                <button onClick={onClose} className=\"px-4 py-2 rounded-xl border border-slate-200 text-slate-600 text-[11px] font-semibold hover:border-slate-300 dark:border-white/10 dark:text-white\">\n                                    Cancelar\n                                </button>\n                                <button\n                                    onClick={handleApply}\n                                    disabled={!range?.from || !range?.to}\n                                    className=\"px-6 py-2 rounded-xl bg-primary text-white text-[11px] font-bold shadow-lg shadow-primary/30 hover:bg-primary-hover transition disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none\"\n                                >\n                                    Aplicar\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 729, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/components/NotificationsModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\n\ntype NotificationType = \"WARNING\" | \"INFO\" | \"SUCCESS\";\n\ninterface Notification {\n  id: number;\n  title: string;\n  message: string;\n  time: string;\n  type: NotificationType;\n  read: boolean;\n}\n\nconst notificationsData: Notification[] = [\n  {\n    id: 1,\n    title: \"Presupuesto excedido\",\n    message: \"Has superado el 80% de tu presupuesto de Comida para este mes.\",\n    time: \"Hace 2 horas\",\n    type: \"WARNING\",\n    read: false\n  },\n  {\n    id: 2,\n    title: \"Pago recibido\",\n    message: \"Se ha registrado el ingreso de Nómina por $5,000.00.\",\n    time: \"Ayer, 10:30 AM\",\n    type: \"SUCCESS\",\n    read: true\n  },\n  {\n    id: 3,\n    title: \"Nueva función\",\n    message: \"Ahora puedes crear reglas recurrentes para automatizar tus gastos.\",\n    time: \"20 Oct, 2023\",\n    type: \"INFO\",\n    read: true\n  },\n  {\n    id: 4,\n    title: \"Factura pendiente\",\n    message: \"Recuerda pagar tu servicio de Internet antes del día 25.\",\n    time: \"18 Oct, 2023\",\n    type: \"WARNING\",\n    read: true\n  }\n];\n\ninterface NotificationsModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  notifications?: Notification[];\n}\n\nexport const NotificationsModal: React.FC<NotificationsModalProps> = ({\n  isOpen,\n  onClose,\n  notifications = notificationsData\n}) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    if (!isOpen) return;\n    setIsMounted(true);\n    const micro = requestAnimationFrame(() => setIsVisible(true));\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === \"Escape\") {\n        onClose();\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      cancelAnimationFrame(micro);\n      setIsVisible(false);\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [isOpen, onClose]);\n\n  useEffect(() => {\n    if (!isOpen && isMounted) {\n      const timeout = setTimeout(() => {\n        setIsMounted(false);\n      }, 250);\n      return () => clearTimeout(timeout);\n    }\n  }, [isOpen, isMounted]);\n\n  if (!isMounted) return null;\n\n  return (\n    <div\n      className={`fixed inset-0 z-[140] flex justify-end p-4 sm:p-6 bg-black/20 backdrop-blur-sm transition-opacity duration-300 ease-out ${isVisible ? \"opacity-100\" : \"opacity-0\"\n        }`}\n      onClick={onClose}\n    >\n      <div\n        className={`relative w-full max-w-md bg-white/95 dark:bg-slate-900 rounded-3xl shadow-2xl border border-white/60 dark:border-slate-800 flex flex-col gap-6 overflow-hidden transition-all duration-500 ease-[cubic-bezier(0.22,1,0.36,1)] ${isVisible ? \"opacity-100 translate-x-0\" : \"opacity-0 translate-x-28 sm:translate-x-40\"\n          }`}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"flex items-center justify-between px-6 pt-6\">\n          <h2 className=\"text-lg font-black text-slate-900 dark:text-white tracking-tight uppercase\">Notificaciones</h2>\n          <div className=\"flex items-center gap-2\">\n            <button className=\"text-[10px] font-black uppercase tracking-wider text-primary hover:text-primary-hover\">\n              Marcar todo leído\n            </button>\n            <button onClick={onClose} className=\"size-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500 hover:text-primary\">\n              <span className=\"material-symbols-outlined text-base\">close</span>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"px-6 pb-6 pt-2 max-h-[70vh] overflow-y-auto flex flex-col gap-4 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700\">\n          {notifications.map((notif) => (\n            <div\n              key={notif.id}\n              className={`glass-card p-4 rounded-2xl border transition-all hover:bg-white dark:hover:bg-slate-800 ${\n                notif.read\n                  ? \"border-transparent opacity-80\"\n                  : \"border-l-4 border-l-primary border-y-white/60 border-r-white/60 dark:border-y-slate-800 dark:border-r-slate-800 bg-white/70 dark:bg-slate-800/70 shadow-md\"\n              }`}\n            >\n              <div className=\"flex items-start gap-4\">\n                <div\n                  className={`mt-1 size-10 rounded-xl flex items-center justify-center shrink-0 ${\n                    notif.type === \"WARNING\"\n                      ? \"bg-orange-100 text-orange-600 dark:bg-orange-900/30\"\n                      : notif.type === \"SUCCESS\"\n                        ? \"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30\"\n                        : \"bg-blue-100 text-blue-600 dark:bg-blue-900/30\"\n                  }`}\n                >\n                  <span className=\"material-symbols-outlined text-[20px]\">\n                    {notif.type === \"WARNING\" ? \"warning\" : notif.type === \"SUCCESS\" ? \"check_circle\" : \"info\"}\n                  </span>\n                </div>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <h3 className={`font-black text-sm ${notif.read ? \"text-slate-700 dark:text-slate-300\" : \"text-slate-900 dark:text-white\"}`}>\n                      {notif.title}\n                    </h3>\n                    <span className=\"text-[10px] font-bold text-slate-400 uppercase tracking-wider\">{notif.time}</span>\n                  </div>\n                  <p className=\"text-xs text-slate-600 dark:text-slate-400 font-medium leading-relaxed\">{notif.message}</p>\n                </div>\n                {!notif.read && <div className=\"size-2 rounded-full bg-primary mt-2\"></div>}\n              </div>\n            </div>\n          ))}\n\n          {notifications.length === 0 && (\n            <div className=\"flex flex-col items-center justify-center py-20 text-slate-400\">\n              <span className=\"material-symbols-outlined text-6xl mb-4 opacity-50\">notifications_off</span>\n              <p className=\"font-bold\">No tienes notificaciones</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAeA,MAAM,oBAAoC;IACxC;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,MAAM;QACN,MAAM;QACN,MAAM;IACR;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,MAAM;QACN,MAAM;QACN,MAAM;IACR;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,MAAM;QACN,MAAM;QACN,MAAM;IACR;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,MAAM;QACN,MAAM;QACN,MAAM;IACR;CACD;AAQM,MAAM,qBAAwD,CAAC,EACpE,MAAM,EACN,OAAO,EACP,gBAAgB,iBAAiB,EAClC;;IACC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;wCAAC;YACR,IAAI,CAAC,QAAQ;YACb,aAAa;YACb,MAAM,QAAQ;sDAAsB,IAAM,aAAa;;YACvD,MAAM;8DAAgB,CAAC;oBACrB,IAAI,MAAM,GAAG,KAAK,UAAU;wBAC1B;oBACF;gBACF;;YACA,OAAO,gBAAgB,CAAC,WAAW;YACnC;gDAAO;oBACL,qBAAqB;oBACrB,aAAa;oBACb,OAAO,mBAAmB,CAAC,WAAW;gBACxC;;QACF;uCAAG;QAAC;QAAQ;KAAQ;IAEpB,IAAA,0KAAS;wCAAC;YACR,IAAI,CAAC,UAAU,WAAW;gBACxB,MAAM,UAAU;4DAAW;wBACzB,aAAa;oBACf;2DAAG;gBACH;oDAAO,IAAM,aAAa;;YAC5B;QACF;uCAAG;QAAC;QAAQ;KAAU;IAEtB,IAAI,CAAC,WAAW,OAAO;IAEvB,qBACE,6LAAC;QACC,WAAW,CAAC,wHAAwH,EAAE,YAAY,gBAAgB,aAC9J;QACJ,SAAS;kBAET,cAAA,6LAAC;YACC,WAAW,CAAC,8NAA8N,EAAE,YAAY,8BAA8B,8CAClR;YACJ,SAAS,CAAC,IAAM,EAAE,eAAe;;8BAEjC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAA6E;;;;;;sCAC3F,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAO,WAAU;8CAAwF;;;;;;8CAG1G,6LAAC;oCAAO,SAAS;oCAAS,WAAU;8CAClC,cAAA,6LAAC;wCAAK,WAAU;kDAAsC;;;;;;;;;;;;;;;;;;;;;;;8BAK5D,6LAAC;oBAAI,WAAU;;wBACZ,cAAc,GAAG,CAAC,CAAC,sBAClB,6LAAC;gCAEC,WAAW,CAAC,wFAAwF,EAClG,MAAM,IAAI,GACN,kCACA,8JACJ;0CAEF,cAAA,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CACC,WAAW,CAAC,kEAAkE,EAC5E,MAAM,IAAI,KAAK,YACX,wDACA,MAAM,IAAI,KAAK,YACb,2DACA,iDACN;sDAEF,cAAA,6LAAC;gDAAK,WAAU;0DACb,MAAM,IAAI,KAAK,YAAY,YAAY,MAAM,IAAI,KAAK,YAAY,iBAAiB;;;;;;;;;;;sDAGxF,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAG,WAAW,CAAC,mBAAmB,EAAE,MAAM,IAAI,GAAG,uCAAuC,kCAAkC;sEACxH,MAAM,KAAK;;;;;;sEAEd,6LAAC;4DAAK,WAAU;sEAAiE,MAAM,IAAI;;;;;;;;;;;;8DAE7F,6LAAC;oDAAE,WAAU;8DAA0E,MAAM,OAAO;;;;;;;;;;;;wCAErG,CAAC,MAAM,IAAI,kBAAI,6LAAC;4CAAI,WAAU;;;;;;;;;;;;+BA9B5B,MAAM,EAAE;;;;;wBAmChB,cAAc,MAAM,KAAK,mBACxB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAK,WAAU;8CAAqD;;;;;;8CACrE,6LAAC;oCAAE,WAAU;8CAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOvC;GA3Ga;KAAA"}},
    {"offset": {"line": 1016, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/components/CategoryIcon.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from 'react';\r\nimport * as Icons from \"lucide-react\";\r\n\r\nexport function CategoryIcon({ icon, className }: { icon: string, className?: string }) {\r\n    const LucideIcon = (Icons as any)[icon];\r\n    if (LucideIcon) {\r\n        return <LucideIcon className={className} />;\r\n    }\r\n    return <span className={`material-symbols-outlined ${className} !text-[inherit]`}>{icon}</span>\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKO,SAAS,aAAa,EAAE,IAAI,EAAE,SAAS,EAAwC;IAClF,MAAM,aAAa,AAAC,oKAAa,CAAC,KAAK;IACvC,IAAI,YAAY;QACZ,qBAAO,6LAAC;YAAW,WAAW;;;;;;IAClC;IACA,qBAAO,6LAAC;QAAK,WAAW,CAAC,0BAA0B,EAAE,UAAU,gBAAgB,CAAC;kBAAG;;;;;;AACvF;KANgB"}},
    {"offset": {"line": 1055, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/app/%28dashboard%29/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nimport { DateRangeModal } from '@/components/DateRangeModal';\r\nimport { NotificationsModal } from '@/components/NotificationsModal';\r\nimport { CategoryIcon } from '@/components/CategoryIcon';\r\nimport { useFinance } from '@/context/FinanceContext';\r\nimport { AreaChart, Area, ResponsiveContainer, XAxis, YAxis, Tooltip } from 'recharts';\r\nimport { startOfMonth, endOfMonth, differenceInCalendarDays, addDays, startOfDay, format } from 'date-fns';\r\nimport { es } from 'date-fns/locale';\r\n\r\n\r\n\r\nconst COLOR_MAP: Record<string, { bg: string, text: string, ring: string, border: string, solid: string }> = {\r\n    red: { bg: 'bg-red-100 dark:bg-red-900/30', text: 'text-red-600 dark:text-red-400', ring: 'ring-red-500/10', border: 'border-red-200', solid: 'bg-red-500' },\r\n    orange: { bg: 'bg-orange-100 dark:bg-orange-900/30', text: 'text-orange-600 dark:text-orange-400', ring: 'ring-orange-500/10', border: 'border-orange-200', solid: 'bg-orange-500' },\r\n    amber: { bg: 'bg-amber-100 dark:bg-amber-900/30', text: 'text-amber-600 dark:text-amber-400', ring: 'ring-amber-500/10', border: 'border-amber-200', solid: 'bg-amber-500' },\r\n    yellow: { bg: 'bg-yellow-100 dark:bg-yellow-900/30', text: 'text-yellow-600 dark:text-yellow-400', ring: 'ring-yellow-500/10', border: 'border-yellow-200', solid: 'bg-yellow-500' },\r\n    lime: { bg: 'bg-lime-100 dark:bg-lime-900/30', text: 'text-lime-600 dark:text-lime-400', ring: 'ring-lime-500/10', border: 'border-lime-200', solid: 'bg-lime-500' },\r\n    green: { bg: 'bg-green-100 dark:bg-green-900/30', text: 'text-green-600 dark:text-green-400', ring: 'ring-green-500/10', border: 'border-green-200', solid: 'bg-green-500' },\r\n    emerald: { bg: 'bg-emerald-100 dark:bg-emerald-900/30', text: 'text-emerald-600 dark:text-emerald-400', ring: 'ring-emerald-500/10', border: 'border-emerald-200', solid: 'bg-emerald-500' },\r\n    teal: { bg: 'bg-teal-100 dark:bg-teal-900/30', text: 'text-teal-600 dark:text-teal-400', ring: 'ring-teal-500/10', border: 'border-teal-200', solid: 'bg-teal-500' },\r\n    cyan: { bg: 'bg-cyan-100 dark:bg-cyan-900/30', text: 'text-cyan-600 dark:text-cyan-400', ring: 'ring-cyan-500/10', border: 'border-cyan-200', solid: 'bg-cyan-500' },\r\n    sky: { bg: 'bg-sky-100 dark:bg-sky-900/30', text: 'text-sky-600 dark:text-sky-400', ring: 'ring-sky-500/10', border: 'border-sky-200', solid: 'bg-sky-500' },\r\n    blue: { bg: 'bg-blue-100 dark:bg-blue-900/30', text: 'text-blue-600 dark:text-blue-400', ring: 'ring-blue-500/10', border: 'border-blue-200', solid: 'bg-blue-500' },\r\n    indigo: { bg: 'bg-indigo-100 dark:bg-indigo-900/30', text: 'text-indigo-600 dark:text-indigo-400', ring: 'ring-indigo-500/10', border: 'border-indigo-200', solid: 'bg-indigo-500' },\r\n    violet: { bg: 'bg-violet-100 dark:bg-violet-900/30', text: 'text-violet-600 dark:text-violet-400', ring: 'ring-violet-500/10', border: 'border-violet-200', solid: 'bg-violet-500' },\r\n    purple: { bg: 'bg-purple-100 dark:bg-purple-900/30', text: 'text-purple-600 dark:text-purple-400', ring: 'ring-purple-500/10', border: 'border-purple-200', solid: 'bg-purple-500' },\r\n    fuchsia: { bg: 'bg-fuchsia-100 dark:bg-fuchsia-900/30', text: 'text-fuchsia-600 dark:text-fuchsia-400', ring: 'ring-fuchsia-500/10', border: 'border-fuchsia-200', solid: 'bg-fuchsia-500' },\r\n    pink: { bg: 'bg-pink-100 dark:bg-pink-900/30', text: 'text-pink-600 dark:text-pink-400', ring: 'ring-pink-500/10', border: 'border-pink-200', solid: 'bg-pink-500' },\r\n    rose: { bg: 'bg-rose-100 dark:bg-rose-900/30', text: 'text-rose-600 dark:text-rose-400', ring: 'ring-rose-500/10', border: 'border-rose-200', solid: 'bg-rose-500' },\r\n    slate: { bg: 'bg-slate-100 dark:bg-slate-800', text: 'text-slate-600 dark:text-slate-400', ring: 'ring-slate-500/10', border: 'border-slate-200', solid: 'bg-slate-500' },\r\n};\r\n\r\nexport default function Dashboard() {\r\n    const router = useRouter();\r\n    const { transactions, accounts, totalBalance, budgets, commitments, recurringRules, categories, openTransactionModal, formatAmount, ledgers, activeBookId } = useFinance();\r\n    const [showBalance, setShowBalance] = useState(true);\r\n    const [activeTab, setActiveTab] = useState('Este mes');\r\n    const [dateRange, setDateRange] = useState<{ start: Date | null, end: Date | null }>({\r\n        start: new Date(new Date().getFullYear(), new Date().getMonth(), 1),\r\n        end: new Date()\r\n    });\r\n    const [isDateModalOpen, setIsDateModalOpen] = useState(false);\r\n    const [isNotificationsOpen, setIsNotificationsOpen] = useState(false);\r\n\r\n    const tabs = ['Este mes', 'Mes pasado', 'Últimos 3 meses', 'Personalizado'];\r\n    const dateMeta = React.useMemo(() => {\r\n        const now = new Date();\r\n        const start = startOfMonth(now);\r\n        const end = endOfMonth(now);\r\n        return {\r\n            today: now,\r\n            currentMonthStart: start,\r\n            currentMonthEnd: end,\r\n            daysInMonth: differenceInCalendarDays(end, start) + 1,\r\n            daysElapsed: differenceInCalendarDays(now, start) + 1\r\n        };\r\n    }, []);\r\n    const { today, currentMonthStart, currentMonthEnd, daysInMonth, daysElapsed } = dateMeta;\r\n\r\n    const parseRuleDate = useCallback((value?: string | null) => {\r\n        if (!value) return null;\r\n        const direct = new Date(value);\r\n        if (!Number.isNaN(direct.getTime())) {\r\n            return direct;\r\n        }\r\n        const normalized = value.replace(/de/gi, '').replace(',', '').trim();\r\n        const match = normalized.match(/(\\d{1,2})\\s+([A-Za-z]+)/);\r\n        if (match) {\r\n            const day = Number(match[1]);\r\n            const monthKey = match[2].slice(0, 3).toLowerCase();\r\n            const monthMap: Record<string, number> = {\r\n                ene: 0, feb: 1, mar: 2, abr: 3, may: 4, jun: 5,\r\n                jul: 6, ago: 7, sep: 8, oct: 9, nov: 10, dic: 11\r\n            };\r\n            if (monthMap[monthKey] !== undefined) {\r\n                const candidate = new Date(today.getFullYear(), monthMap[monthKey], day);\r\n                if (candidate < today) {\r\n                    candidate.setFullYear(candidate.getFullYear() + 1);\r\n                }\r\n                return candidate;\r\n            }\r\n        }\r\n        return null;\r\n    }, [today]);\r\n\r\n    const currencySymbol = React.useMemo(() => {\r\n        const curr = ledgers.find(l => l.id === activeBookId)?.currency || 'PEN';\r\n        return curr === 'PEN' ? 'S/' : (curr === 'USD' ? '$' : curr);\r\n    }, [ledgers, activeBookId]);\r\n\r\n    const handleTabClick = (tab: string) => {\r\n        if (tab === 'Personalizado') {\r\n            setIsDateModalOpen(true);\r\n            setActiveTab(tab);\r\n            return;\r\n        }\r\n\r\n        setActiveTab(tab);\r\n        const now = new Date();\r\n        let start: Date | null = null;\r\n        let end: Date | null = null;\r\n\r\n        if (tab === 'Este mes') {\r\n            start = new Date(now.getFullYear(), now.getMonth(), 1);\r\n            end = now;\r\n        } else if (tab === 'Mes pasado') {\r\n            start = new Date(now.getFullYear(), now.getMonth() - 1, 1);\r\n            end = new Date(now.getFullYear(), now.getMonth(), 0);\r\n        } else if (tab === 'Últimos 3 meses') {\r\n            start = new Date(now.getFullYear(), now.getMonth() - 3, 1);\r\n            end = now;\r\n        }\r\n\r\n        if (start && end) {\r\n            setDateRange({ start, end });\r\n        }\r\n    };\r\n\r\n    const handleCustomDateApply = (start: Date, end: Date) => {\r\n        setDateRange({ start, end });\r\n    };\r\n\r\n    const filteredTransactions = transactions.filter(t => {\r\n        if (!dateRange.start || !dateRange.end) return true;\r\n        const tDate = new Date(t.date); // Assuming t.date is ISO or Date object. Context says t.occurred_at mapped to t.date\r\n        return tDate >= dateRange.start && tDate <= dateRange.end;\r\n    });\r\n\r\n    const monthlyIncome = filteredTransactions\r\n        .filter(t => t.type === 'INCOME')\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n    const monthlyExpense = filteredTransactions\r\n        .filter(t => t.type === 'EXPENSE')\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n    const currentMonthExpenses = React.useMemo(() => {\r\n        return transactions.reduce((sum, t) => {\r\n            const tDate = new Date(t.date);\r\n            if (t.type === 'EXPENSE' && tDate >= currentMonthStart && tDate <= currentMonthEnd) {\r\n                return sum + t.amount;\r\n            }\r\n            return sum;\r\n        }, 0);\r\n    }, [transactions, currentMonthStart, currentMonthEnd]);\r\n\r\n    // Calculate \"Total Planeado\" (Budgeted) to match Budgets Page\r\n    const totalPlannedBudget = React.useMemo(() => {\r\n        // Just sum the limits of active budgets. \r\n        // This matches the \"Total Planned\" on the Budgets page.\r\n        // We do typically assume these are Monthly limits.\r\n        // If the date range is multiple months, the Budgets page currently shows just the single month limit,\r\n        // so we mirror that behavior here to ensure consistency as requested (\"jalar el dato de la pagina Presupuestos\").\r\n        return budgets\r\n            .filter(b => b.period === 'MONTHLY')\r\n            .reduce((sum, b) => sum + b.limit, 0);\r\n    }, [budgets]);\r\n\r\n    const calculatedSaldo = totalPlannedBudget - monthlyExpense;\r\n    // Determine trend (positive if under budget / positive saldo)\r\n    const saldoTrendPositive = calculatedSaldo >= 0;\r\n\r\n    const currentMonthIncome = React.useMemo(() => {\r\n        return transactions.reduce((sum, t) => {\r\n            const tDate = new Date(t.date);\r\n            if (t.type === 'INCOME' && tDate >= currentMonthStart && tDate <= currentMonthEnd) {\r\n                return sum + t.amount;\r\n            }\r\n            return sum;\r\n        }, 0);\r\n    }, [transactions, currentMonthStart, currentMonthEnd]);\r\n\r\n    const monthlyLimit = React.useMemo(() => {\r\n        const monthlyBudgets = budgets.filter(b => b.period === 'MONTHLY');\r\n        if (monthlyBudgets.length > 0) {\r\n            return monthlyBudgets.reduce((sum, b) => sum + b.limit, 0);\r\n        }\r\n        return Math.max(currentMonthIncome * 0.8, currentMonthExpenses * 1.2, 1000);\r\n    }, [budgets, currentMonthIncome, currentMonthExpenses]);\r\n\r\n    const monthlyProgress = monthlyLimit > 0 ? (currentMonthExpenses / monthlyLimit) * 100 : 0;\r\n    const monthlyRemaining = Math.max(monthlyLimit - currentMonthExpenses, 0);\r\n    const dailyAllowance = monthlyLimit > 0 ? monthlyLimit / daysInMonth : 0;\r\n    const dailySpent = daysElapsed > 0 ? currentMonthExpenses / daysElapsed : 0;\r\n    const dailyTrendPositive = dailySpent <= dailyAllowance;\r\n    const dailyTrendDelta = Math.abs(dailyAllowance - dailySpent);\r\n    const dailyTrendMessage = dailyTrendPositive ? 'Vas por debajo del ritmo planificado' : 'Estás superando tu ritmo diario';\r\n\r\n    const dailyExpensesData = React.useMemo(() => {\r\n        const totals = new Map<string, number>();\r\n        transactions.forEach((t) => {\r\n            if (t.type !== 'EXPENSE') return;\r\n            const tDate = new Date(t.date);\r\n            if (tDate < currentMonthStart || tDate > currentMonthEnd) return;\r\n            const key = tDate.toISOString().split('T')[0];\r\n            totals.set(key, (totals.get(key) || 0) + t.amount);\r\n        });\r\n        const days = differenceInCalendarDays(currentMonthEnd, currentMonthStart) + 1;\r\n        return Array.from({ length: days }, (_, idx) => {\r\n            const date = addDays(currentMonthStart, idx);\r\n            const key = date.toISOString().split('T')[0];\r\n            return {\r\n                label: format(date, 'd MMM', { locale: es }),\r\n                amount: Number((totals.get(key) || 0).toFixed(2))\r\n            };\r\n        });\r\n    }, [transactions, currentMonthStart, currentMonthEnd]);\r\n\r\n    const upcomingBills = React.useMemo(() => {\r\n        const start = startOfDay(today);\r\n        const limit = addDays(start, 5);\r\n        return commitments\r\n            .map(commitment => ({\r\n                ...commitment,\r\n                dueDateObj: commitment.nextDueDate ? new Date(commitment.nextDueDate) : null\r\n            }))\r\n            .filter(c => c.dueDateObj && c.dueDateObj >= start && c.dueDateObj <= limit)\r\n            .sort((a, b) => (a.dueDateObj!.getTime() - b.dueDateObj!.getTime()))\r\n            .slice(0, 5);\r\n    }, [commitments, today]);\r\n\r\n    const nextIncomeInfo = React.useMemo(() => {\r\n        const start = startOfDay(today);\r\n        let result: { rule: typeof recurringRules[number]; date: Date } | null = null;\r\n        recurringRules.forEach(rule => {\r\n            if (!rule.active || rule.type !== 'INCOME') return;\r\n            const parsed = parseRuleDate(rule.nextDate);\r\n            if (!parsed || parsed < start) return;\r\n            if (!result || parsed < result.date) {\r\n                result = { rule, date: parsed };\r\n            }\r\n        });\r\n        return result;\r\n    }, [recurringRules, parseRuleDate, today]);\r\n    const daysUntilNextPay = nextIncomeInfo ? differenceInCalendarDays(startOfDay(nextIncomeInfo.date), startOfDay(today)) : null;\r\n\r\n    // Chart Data Calculation\r\n    // Calculate Balance at the END of the selected range\r\n    const balanceAtEndOfRange = React.useMemo(() => {\r\n        if (!dateRange.end) return totalBalance;\r\n\r\n        // Transactions that happened AFTER the selected range\r\n        // We need to \"undo\" them to get the balance at that point in time.\r\n        // BalanceNow = BalanceOld + IncomeAfter - ExpenseAfter\r\n        // BalanceOld = BalanceNow - IncomeAfter + ExpenseAfter\r\n        const futureTransactions = transactions.filter(t => {\r\n            const tDate = new Date(t.date);\r\n            return tDate > dateRange.end!;\r\n        });\r\n\r\n        let calculatedBalance = totalBalance;\r\n        futureTransactions.forEach(t => {\r\n            if (t.type === 'INCOME') {\r\n                calculatedBalance -= t.amount;\r\n            } else if (t.type === 'EXPENSE') {\r\n                calculatedBalance += t.amount;\r\n            }\r\n        });\r\n\r\n        return calculatedBalance;\r\n    }, [totalBalance, transactions, dateRange.end]);\r\n\r\n    // Chart Data Calculation - Historical Balance\r\n    const chartData = React.useMemo(() => {\r\n        if (!dateRange.start || !dateRange.end) return [];\r\n\r\n        const data: { name: string; total: number; originalDate: Date }[] = [];\r\n        let currentBalance = balanceAtEndOfRange;\r\n\r\n        // Create a map of transactions by day (for the range) for fast lookup\r\n        const txsByDay: { [key: string]: { income: number, expense: number } } = {};\r\n\r\n        filteredTransactions.forEach(t => {\r\n            const dateStr = new Date(t.date).toISOString().split('T')[0];\r\n            if (!txsByDay[dateStr]) txsByDay[dateStr] = { income: 0, expense: 0 };\r\n            if (t.type === 'INCOME') txsByDay[dateStr].income += t.amount;\r\n            if (t.type === 'EXPENSE') txsByDay[dateStr].expense += t.amount;\r\n        });\r\n\r\n        // Iterate BACKWARDS from End Date to Start Date\r\n        const curr = new Date(dateRange.end);\r\n        const start = new Date(dateRange.start);\r\n\r\n        // Normalize time to midnight for loop comparison\r\n        curr.setHours(0, 0, 0, 0);\r\n        start.setHours(0, 0, 0, 0);\r\n\r\n        while (curr >= start) {\r\n            const dateStr = curr.toISOString().split('T')[0];\r\n            const displayDate = curr.toLocaleDateString('es-ES', { day: '2-digit', month: 'short' });\r\n\r\n            // Add point for End of Day balance\r\n            data.unshift({\r\n                name: displayDate,\r\n                total: currentBalance,\r\n                originalDate: new Date(curr)\r\n            });\r\n\r\n            // Calculate Start of Day Balance (which is End of Previous Day)\r\n            // StartBal = EndBal - Income + Expense\r\n            const dayTxs = txsByDay[dateStr] || { income: 0, expense: 0 };\r\n            currentBalance = currentBalance - dayTxs.income + dayTxs.expense;\r\n\r\n            // Move to previous day\r\n            curr.setDate(curr.getDate() - 1);\r\n        }\r\n\r\n        return data;\r\n        // Note: If range is huge, we might want to subsample, but for \"This Month\" it's fine (~30 points).\r\n    }, [filteredTransactions, balanceAtEndOfRange, dateRange]);\r\n\r\n    return (\r\n        <div className=\"flex-1 w-full h-full overflow-y-auto scrollbar-hide pb-28 lg:pb-8\">\r\n            <div className=\"max-w-[1200px] mx-auto p-4 md:p-8 flex flex-col gap-8\">\r\n                <header className=\"flex flex-wrap items-end justify-between gap-4 pt-4 md:pt-0 animate-fade-in\">\r\n                    <div className=\"flex flex-col gap-2\">\r\n                        <p className=\"text-text-muted dark:text-dark-muted text-sm font-semibold tracking-wide uppercase\">\r\n                            {new Intl.DateTimeFormat('es-ES', { weekday: 'long', day: 'numeric', month: 'long' }).format(new Date())}\r\n                        </p>\r\n                        <h2 className=\"text-3xl md:text-4xl font-black text-text-main dark:text-white tracking-tight\">Hola, Paul <span className=\"text-2xl\">👋</span></h2>\r\n                        <p className=\"text-text-muted dark:text-dark-muted/80 text-base font-normal max-w-lg\">Aquí tienes el resumen de tu actividad financiera.</p>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <button\r\n                            onClick={() => setIsNotificationsOpen(true)}\r\n                            className=\"btn-interact flex items-center justify-center rounded-xl size-11 bg-white dark:bg-[#292f38] text-text-muted dark:text-white hover:text-primary transition-colors border border-gray-200 dark:border-white/5 shadow-sm relative\"\r\n                        >\r\n                            <span className=\"material-symbols-outlined\">notifications</span>\r\n                            <span className=\"absolute top-2.5 right-2.5 size-2 bg-danger rounded-full ring-2 ring-white dark:ring-background-dark\"></span>\r\n                        </button>\r\n                        <div\r\n                            onClick={() => router.push('/settings')}\r\n                            className=\"lg:hidden btn-interact bg-center bg-no-repeat bg-cover rounded-full size-11 shadow-md border border-white dark:border-white/10 ml-2 cursor-pointer\"\r\n                            style={{ backgroundImage: 'url(\"https://picsum.photos/100/100?random=1\")' }}\r\n                        ></div>\r\n                    </div>\r\n                </header>\r\n\r\n                <section className=\"flex overflow-x-auto pb-2 scrollbar-hide animate-fade-in\">\r\n                    <div className=\"glass-card p-1.5 rounded-xl flex gap-1 whitespace-nowrap\">\r\n                        {tabs.map((tab) => (\r\n                            <button\r\n                                key={tab}\r\n                                onClick={() => handleTabClick(tab)}\r\n                                className={`px-4 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${activeTab === tab\r\n                                    ? 'bg-primary/20 text-primary dark:text-white border border-primary/20 shadow-sm'\r\n                                    : 'text-text-muted dark:text-dark-muted hover:bg-white/5 dark:hover:text-white'\r\n                                    }`}\r\n                            >\r\n                                {tab}\r\n                                {tab === 'Personalizado' && <span className=\"material-symbols-outlined text-[16px]\">calendar_month</span>}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n\r\n\r\n\r\n                <section className=\"grid grid-cols-1 md:grid-cols-3 gap-5\">\r\n                    <div className=\"glass-card rounded-3xl p-6 flex flex-col justify-between min-h-[160px] relative overflow-hidden group hover:shadow-soft transition-all duration-300\">\r\n                        <div className=\"absolute top-0 right-0 p-6 opacity-5 dark:opacity-10 group-hover:opacity-10 dark:group-hover:opacity-20 transition-opacity\">\r\n                            <span className=\"material-symbols-outlined text-7xl\">account_balance_wallet</span>\r\n                        </div>\r\n                        <div className=\"flex flex-col gap-1 z-10\">\r\n                            <p className=\"text-text-muted dark:text-dark-muted text-sm font-semibold\">Saldo Total (Presupuesto Restante)</p>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <p className={`text-text-main dark:text-white text-3xl font-bold tracking-tight transition-all duration-300 ${!showBalance && 'blur-md select-none'}`}>\r\n                                    <span className=\"text-lg align-baseline mr-0.5\">{currencySymbol}</span>\r\n                                    {calculatedSaldo.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                                </p>\r\n                                <button\r\n                                    onClick={() => setShowBalance(!showBalance)}\r\n                                    className=\"btn-interact text-text-muted dark:text-dark-muted hover:text-primary transition-colors\"\r\n                                >\r\n                                    <span className=\"material-symbols-outlined text-[20px]\">{showBalance ? 'visibility' : 'visibility_off'}</span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2 mt-4 z-10\">\r\n                            <div className={`${saldoTrendPositive ? 'bg-success/10 border-success/20 text-success' : 'bg-danger/10 border-danger/20 text-danger'} px-2 py-0.5 rounded-md border flex items-center gap-1`}>\r\n                                <span className=\"material-symbols-outlined text-[14px]\">trending_up</span>\r\n                                <span className=\"text-xs font-bold\">{saldoTrendPositive ? 'En presupuesto' : 'Sobrepasado'}</span>\r\n                            </div>\r\n                            <p className=\"text-text-light dark:text-dark-muted/60 text-xs font-medium\">vs periodo anterior</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"glass-card rounded-3xl p-6 flex flex-col justify-between min-h-[160px] relative group hover:shadow-soft transition-all duration-300\">\r\n                        <div className=\"flex items-center gap-3 mb-2\">\r\n                            <div className=\"size-8 rounded-full bg-success/10 flex items-center justify-center text-success\">\r\n                                <span className=\"material-symbols-outlined text-[20px]\">arrow_downward</span>\r\n                            </div>\r\n                            <p className=\"text-text-muted dark:text-dark-muted text-sm font-semibold\">Ingresos</p>\r\n                        </div>\r\n                        <p className=\"text-text-main dark:text-white text-3xl font-bold tracking-tight\">\r\n                            <span className=\"text-lg align-baseline mr-0.5\">{currencySymbol}</span>\r\n                            {monthlyIncome.toLocaleString()}\r\n                        </p>\r\n                        <div className=\"flex items-center gap-2 mt-4\">\r\n                            <span className=\"text-success text-sm font-medium\">+12%</span>\r\n                            <p className=\"text-text-light dark:text-dark-muted/60 text-xs font-medium shrink-0\">que lo habitual</p>\r\n                            <div className=\"h-1.5 flex-1 bg-gray-100 dark:bg-[#292f38] rounded-full overflow-hidden ml-2\">\r\n                                <div className=\"h-full bg-success w-[75%] rounded-full transition-all duration-1000\"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"glass-card rounded-3xl p-6 flex flex-col justify-between min-h-[160px] relative group hover:shadow-soft transition-all duration-300\">\r\n                        <div className=\"flex items-center gap-3 mb-2\">\r\n                            <div className=\"size-8 rounded-full bg-danger/10 flex items-center justify-center text-danger\">\r\n                                <span className=\"material-symbols-outlined text-[20px]\">arrow_upward</span>\r\n                            </div>\r\n                            <p className=\"text-text-muted dark:text-dark-muted text-sm font-semibold\">Gastos</p>\r\n                        </div>\r\n                        <p className=\"text-text-main dark:text-white text-3xl font-bold tracking-tight\">\r\n                            <span className=\"text-lg align-baseline mr-0.5\">{currencySymbol}</span>\r\n                            {monthlyExpense.toLocaleString()}\r\n                        </p>\r\n                        <div className=\"flex items-center gap-2 mt-4\">\r\n                            <span className=\"text-danger text-sm font-medium\">-5%</span>\r\n                            <p className=\"text-text-light dark:text-dark-muted/60 text-xs font-medium shrink-0\">ahorro vs promedio</p>\r\n                            <div className=\"h-1.5 flex-1 bg-gray-100 dark:bg-[#292f38] rounded-full overflow-hidden ml-2\">\r\n                                <div className=\"h-full bg-danger w-[35%] rounded-full transition-all duration-1000\"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                <section className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                    <div className=\"lg:col-span-2 glass-card rounded-3xl p-6 md:p-8 flex flex-col border border-white/5\">\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <div>\r\n                                <h3 className=\"text-text-main dark:text-white text-lg font-bold\">Historial de Saldo</h3>\r\n                                <p className=\"text-text-muted dark:text-dark-muted text-sm font-medium\">Agregar Cuenta</p>\r\n                            </div>\r\n                            <button className=\"p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors\">\r\n                                <span className=\"material-symbols-outlined text-text-muted dark:text-dark-muted\">more_horiz</span>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"flex-1 h-[260px] w-full\">\r\n                            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                <AreaChart data={chartData} margin={{ top: 10, right: 10, left: -20, bottom: 0 }}>\r\n                                    <defs>\r\n                                        <linearGradient id=\"colorTotal\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                            <stop offset=\"5%\" stopColor=\"#307de8\" stopOpacity={0.2} />\r\n                                            <stop offset=\"95%\" stopColor=\"#307de8\" stopOpacity={0} />\r\n                                        </linearGradient>\r\n                                    </defs>\r\n                                    <XAxis dataKey=\"name\" axisLine={false} tickLine={false} tick={{ fontSize: 10, fill: '#9da9b8', fontWeight: 500 }} dy={10} />\r\n                                    <YAxis axisLine={false} tickLine={false} tick={{ fontSize: 10, fill: '#9da9b8' }} />\r\n                                    <Tooltip\r\n                                        contentStyle={{\r\n                                            borderRadius: '12px',\r\n                                            border: 'none',\r\n                                            boxShadow: '0 8px 30px rgba(0,0,0,0.1)',\r\n                                            backgroundColor: '#111821',\r\n                                            color: '#fff'\r\n                                        }}\r\n                                    />\r\n                                    <Area\r\n                                        type=\"monotone\"\r\n                                        dataKey=\"total\"\r\n                                        stroke=\"#307de8\"\r\n                                        strokeWidth={3}\r\n                                        fillOpacity={1}\r\n                                        fill=\"url(#colorTotal)\"\r\n                                        className=\"chart-glow\"\r\n                                    />\r\n                                </AreaChart>\r\n                            </ResponsiveContainer>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"glass-card rounded-3xl p-0 flex flex-col overflow-hidden\">\r\n                        <div className=\"p-6 border-b border-gray-100 dark:border-white/5 flex items-center justify-between\">\r\n                            <h3 className=\"text-text-main dark:text-white text-lg font-bold\">Actividad Reciente</h3>\r\n                            <Link href=\"/transactions\" className=\"text-primary text-xs font-bold hover:text-primary-hover transition-colors\">VER TODO</Link>\r\n                        </div>\r\n                        <div className=\"flex-1 overflow-y-auto p-2 scrollbar-hide\">\r\n                            <div className=\"flex flex-col gap-1\">\r\n                                {filteredTransactions.slice(0, 8).map((t) => {\r\n                                    const category = categories.find(c => c.name === t.category);\r\n                                    const colorKey = category?.color || 'slate';\r\n                                    const colors = COLOR_MAP[colorKey] || COLOR_MAP.slate;\r\n\r\n                                    return (\r\n                                        <div key={t.id} onClick={() => router.push(`/transaction/${t.id}`)} className=\"flex items-center justify-between p-3 rounded-xl hover:bg-gray-50/80 dark:hover:bg-white/5 transition-colors cursor-pointer group\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className={`size-10 rounded-full flex items-center justify-center transition-transform group-hover:scale-105 border ${colors.bg} ${colors.text} ${colors.border}`}>\r\n                                                    <CategoryIcon icon={t.icon || 'payments'} className=\"text-[20px]\" />\r\n                                                </div>\r\n                                                <div className=\"flex flex-col\">\r\n                                                    <p className=\"text-text-main dark:text-white text-sm font-medium group-hover:text-primary transition-colors\">{t.description || t.category}</p>\r\n                                                    <p className={`text-[11px] font-semibold ${colors.text}`}>{t.category || 'General'}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"flex flex-col items-end\">\r\n                                                <p className={`text-sm font-bold ${t.type === 'INCOME' ? 'text-success' : 'text-text-main dark:text-white'}`}>\r\n                                                    {t.type === 'EXPENSE' ? '-' : '+'}\r\n                                                    <span className=\"text-xs align-baseline mr-0.5\">{currencySymbol}</span>\r\n                                                    {t.amount.toFixed(2)}\r\n                                                </p>\r\n                                                <p className=\"text-text-light dark:text-dark-muted text-[10px] font-medium\">Hoy</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                <section className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                    <div className=\"lg:col-span-2 glass-card rounded-3xl p-6 md:p-8 flex flex-col gap-4 border border-white/5\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p className=\"text-xs font-semibold uppercase text-text-muted dark:text-dark-muted/70 tracking-widest\">Límite mensual</p>\r\n                                <h3 className=\"text-2xl font-black text-text-main dark:text-white\">Seguimiento de gastos</h3>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                                <p className=\"text-sm font-semibold text-text-muted dark:text-dark-muted/70\">Gastado</p>\r\n                                <p className=\"text-2xl font-bold text-primary\">\r\n                                    <span className=\"text-lg align-baseline mr-0.5\">{currencySymbol}</span>\r\n                                    {currentMonthExpenses.toLocaleString(undefined, { maximumFractionDigits: 2 })}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"flex items-center justify-between text-xs font-semibold text-text-muted dark:text-dark-muted mb-2\">\r\n                                <span>{monthlyProgress.toFixed(0)}% utilizado</span>\r\n                                <span>Te quedan {currencySymbol}{monthlyRemaining.toLocaleString(undefined, { maximumFractionDigits: 2 })}</span>\r\n                            </div>\r\n                            <div className=\"h-3 w-full bg-gray-100 dark:bg-white/10 rounded-full overflow-hidden\">\r\n                                <div className={`h-full ${monthlyProgress > 95 ? 'bg-danger' : monthlyProgress > 80 ? 'bg-warning' : 'bg-primary'} transition-all duration-700`} style={{ width: `${Math.min(monthlyProgress, 130)}%` }}></div>\r\n                            </div>\r\n                            <div className=\"mt-2 text-xs text-text-muted dark:text-dark-muted flex items-center justify-between\">\r\n                                <span>Límite: {currencySymbol}{monthlyLimit.toLocaleString(undefined, { maximumFractionDigits: 2 })}</span>\r\n                                <span>Promedio diario permitido: {currencySymbol}{dailyAllowance.toFixed(2)}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className={`px-4 py-3 rounded-2xl border ${dailyTrendPositive ? 'border-emerald-200 bg-emerald-50 text-emerald-700 dark:border-emerald-900/50 dark:bg-emerald-900/20' : 'border-orange-200 bg-orange-50 text-orange-700 dark:border-orange-900/50 dark:bg-orange-900/20'}`}>\r\n                            <p className=\"text-sm font-semibold\">{dailyTrendMessage}</p>\r\n                            <p className=\"text-xs opacity-80\">Diferencia diaria de {currencySymbol}{dailyTrendDelta.toFixed(2)} ({dailyTrendPositive ? 'por debajo' : 'por encima'} del ritmo).</p>\r\n                        </div>\r\n                        <div className=\"h-40\">\r\n                            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                <AreaChart data={dailyExpensesData} margin={{ top: 10, right: 10, left: -20, bottom: 0 }}>\r\n                                    <defs>\r\n                                        <linearGradient id=\"dailyExpenseGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                            <stop offset=\"5%\" stopColor=\"#2563eb\" stopOpacity={0.3} />\r\n                                            <stop offset=\"95%\" stopColor=\"#2563eb\" stopOpacity={0} />\r\n                                        </linearGradient>\r\n                                    </defs>\r\n                                    <XAxis dataKey=\"label\" tick={{ fontSize: 10, fill: '#94a3b8' }} interval={Math.ceil(dailyExpensesData.length / 6)} />\r\n                                    <YAxis hide />\r\n                                    <Tooltip\r\n                                        formatter={(value: any) => [`${currencySymbol}${Number(value).toFixed(2)}`, 'Gasto']}\r\n                                        labelFormatter={(label) => label}\r\n                                        contentStyle={{ borderRadius: 12, border: 'none', boxShadow: '0 10px 30px rgba(0,0,0,0.15)' }}\r\n                                    />\r\n                                    <Area type=\"monotone\" dataKey=\"amount\" stroke=\"#2563eb\" strokeWidth={3} fill=\"url(#dailyExpenseGradient)\" />\r\n                                </AreaChart>\r\n                            </ResponsiveContainer>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"glass-card rounded-3xl p-6 border border-white/5 flex flex-col gap-4\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <h3 className=\"text-lg font-bold text-text-main dark:text-white\">Próximas facturas</h3>\r\n                            <span className=\"text-xs font-semibold text-text-muted dark:text-dark-muted/70\">Próx. 5 días</span>\r\n                        </div>\r\n                        {upcomingBills.length === 0 ? (\r\n                            <div className=\"flex-1 flex flex-col items-center justify-center text-center text-text-muted dark:text-dark-muted/70 text-sm\">\r\n                                <span className=\"material-symbols-outlined text-3xl mb-2\">event_available</span>\r\n                                No tienes pagos pendientes en los próximos días.\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"flex flex-col gap-3\">\r\n                                {upcomingBills.map((bill) => (\r\n                                    <div key={bill.id} className=\"flex items-center justify-between rounded-2xl border border-gray-100 dark:border-white/10 px-4 py-3\">\r\n                                        <div>\r\n                                            <p className=\"text-sm font-semibold text-text-main dark:text-white\">{bill.name}</p>\r\n                                            <p className=\"text-xs text-text-muted dark:text-dark-muted\">{bill.dueDateObj ? format(bill.dueDateObj, \"EEE d 'de' MMM\", { locale: es }) : 'Sin fecha'}</p>\r\n                                        </div>\r\n                                        <div className=\"text-right\">\r\n                                            <p className=\"text-base font-bold text-text-main dark:text-white\">\r\n                                                <span className=\"text-xs align-baseline mr-0.5\">{currencySymbol}</span>\r\n                                                {bill.amount.toFixed(2)}\r\n                                            </p>\r\n                                            <p className=\"text-[10px] text-primary font-semibold uppercase tracking-widest\">{bill.frequency}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"glass-card rounded-3xl p-6 border border-white/5 flex flex-col gap-4\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <h3 className=\"text-lg font-bold text-text-main dark:text-white\">Próximo pago</h3>\r\n                            <button onClick={() => router.push('/rules')} className=\"text-xs font-bold text-primary hover:text-primary-hover\">Configurar</button>\r\n                        </div>\r\n                        {nextIncomeInfo ? (\r\n                            <>\r\n                                <div>\r\n                                    <p className=\"text-4xl font-black text-primary\">{daysUntilNextPay ?? 0}<span className=\"text-base font-medium text-text-muted dark:text-dark-muted ml-2\">días</span></p>\r\n                                    <p className=\"text-sm text-text-muted dark:text-dark-muted/70\">para {nextIncomeInfo.rule.name}</p>\r\n                                </div>\r\n                                <div className=\"bg-primary/10 text-primary rounded-2xl px-4 py-3\">\r\n                                    <p className=\"text-sm font-semibold\">{currencySymbol}{nextIncomeInfo.rule.amount.toLocaleString(undefined, { maximumFractionDigits: 2 })} entrarán a {nextIncomeInfo.rule.account}</p>\r\n                                    <p className=\"text-xs opacity-80\">Fecha estimada: {format(nextIncomeInfo.date, \"EEEE d 'de' MMMM\", { locale: es })}</p>\r\n                                </div>\r\n                            </>\r\n                        ) : (\r\n                            <div className=\"flex-1 flex flex-col items-center justify-center text-center text-text-muted dark:text-dark-muted/70 text-sm\">\r\n                                <span className=\"material-symbols-outlined text-3xl mb-2\">hourglass_empty</span>\r\n                                Aún no registras reglas de ingresos activas.\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </section>\r\n\r\n                <section className=\"animate-fade-in\" style={{ animationDelay: '0.2s' }}>\r\n                    <div className=\"flex items-center justify-between mb-5\">\r\n                        <h3 className=\"text-text-main dark:text-white text-lg font-bold\">Mis Cuentas</h3>\r\n                        <div className=\"flex gap-2\">\r\n                            <button className=\"size-8 rounded-full border border-gray-200 dark:border-white/10 flex items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 text-text-muted dark:text-dark-muted transition-colors\"><span className=\"material-symbols-outlined text-[18px]\">chevron_left</span></button>\r\n                            <button className=\"size-8 rounded-full border border-gray-200 dark:border-white/10 flex items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 text-text-main dark:text-white transition-colors\"><span className=\"material-symbols-outlined text-[18px]\">chevron_right</span></button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                        {accounts.map((acc) => (\r\n                            <div key={acc.id} onClick={() => router.push('/accounts')} className=\"btn-interact glass-card p-5 rounded-xl border border-gray-200 dark:border-white/5 hover:-translate-y-1 hover:shadow-soft transition-transform duration-300 cursor-pointer group\">\r\n                                <div className=\"flex justify-between items-start mb-4\">\r\n                                    <div className=\"size-10 rounded-full bg-gray-50 dark:bg-white/5 flex items-center justify-center text-text-main dark:text-white border border-gray-100 dark:border-white/5 group-hover:bg-primary/20 group-hover:text-primary transition-colors\">\r\n                                        <span className=\"material-symbols-outlined\">account_balance</span>\r\n                                    </div>\r\n                                    <span className=\"text-xs font-bold bg-gray-100 dark:bg-[#292f38] text-text-muted dark:text-dark-muted px-2 py-1 rounded uppercase tracking-widest\">{acc.type}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <p className=\"text-text-muted dark:text-dark-muted text-xs mb-1 font-medium\">{acc.name}</p>\r\n                                    <p className=\"text-text-main dark:text-white text-xl font-bold tracking-tight\">**** {acc.lastFour}</p>\r\n                                    <p className=\"text-text-main dark:text-white text-lg font-medium mt-2\">\r\n                                        <span className=\"text-sm align-baseline mr-0.5\">{currencySymbol}</span>\r\n                                        {acc.balance.toLocaleString('en-US', { minimumFractionDigits: 2 })}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                        <div onClick={() => router.push('/accounts/add')} className=\"btn-interact p-5 rounded-xl border border-dashed border-gray-300 dark:border-white/10 flex flex-col items-center justify-center gap-3 hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer transition-colors min-h-[160px] group\">\r\n                            <div className=\"size-12 rounded-full bg-gray-50 dark:bg-[#292f38] flex items-center justify-center text-text-muted dark:text-dark-muted\">\r\n                                <span className=\"material-symbols-outlined\">add</span>\r\n                            </div>\r\n                            <p className=\"text-text-muted dark:text-dark-muted text-sm font-medium\">Agregar Cuenta</p>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n\r\n            <button onClick={openTransactionModal} className=\"btn-interact fixed z-50 bottom-24 lg:bottom-12 right-6 md:right-12 size-14 md:size-16 bg-primary hover:bg-primary-hover text-white rounded-full shadow-[0_8px_30px_rgba(48,125,232,0.4)] flex items-center justify-center transition-all hover:scale-110 active:scale-95 group\">\r\n                <span className=\"material-symbols-outlined text-3xl md:text-4xl group-hover:rotate-90 transition-transform duration-500\">add</span>\r\n            </button>\r\n            <DateRangeModal\r\n                isOpen={isDateModalOpen}\r\n                onClose={() => setIsDateModalOpen(false)}\r\n                onApply={handleCustomDateApply}\r\n                initialStartDate={dateRange.start}\r\n                initialEndDate={dateRange.end}\r\n            />\r\n            <NotificationsModal isOpen={isNotificationsOpen} onClose={() => setIsNotificationsOpen(false)} />\r\n        </div >\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}