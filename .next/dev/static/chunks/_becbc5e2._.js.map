{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/PD%20-%20255%20SSD/Cio/Proyectos/Internos/Apps/finanzas-pro/components/DateRangeModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useMemo, useLayoutEffect } from 'react';\nimport { DayPicker, DateRange } from 'react-day-picker';\nimport { format, startOfDay, endOfDay, subDays, startOfMonth, endOfMonth, subMonths, addMonths } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport 'react-day-picker/dist/style.css';\n\ninterface DateRangeModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onApply: (start: Date, end: Date) => void;\n    initialStartDate?: Date | null;\n    initialEndDate?: Date | null;\n}\n\ninterface QuickRange {\n    label: string;\n    description?: string;\n    getRange: () => { from: Date; to: Date };\n}\n\nconst quickRanges: QuickRange[] = [\n    {\n        label: 'Hoy',\n        getRange: () => {\n            const today = new Date();\n            return { from: startOfDay(today), to: endOfDay(today) };\n        }\n    },\n    {\n        label: 'Ayer',\n        getRange: () => {\n            const yesterday = subDays(new Date(), 1);\n            return { from: startOfDay(yesterday), to: endOfDay(yesterday) };\n        }\n    },\n    {\n        label: 'Últimos 7 días',\n        getRange: () => ({\n            from: startOfDay(subDays(new Date(), 6)),\n            to: endOfDay(new Date())\n        })\n    },\n    {\n        label: 'Últimos 30 días',\n        getRange: () => ({\n            from: startOfDay(subDays(new Date(), 29)),\n            to: endOfDay(new Date())\n        })\n    },\n    {\n        label: 'Este mes',\n        getRange: () => ({\n            from: startOfMonth(new Date()),\n            to: endOfDay(new Date())\n        })\n    },\n    {\n        label: 'Mes pasado',\n        getRange: () => {\n            const reference = subMonths(new Date(), 1);\n            return {\n                from: startOfMonth(reference),\n                to: endOfMonth(reference)\n            };\n        }\n    },\n    {\n        label: 'Últimos 3 meses',\n        getRange: () => ({\n            from: startOfMonth(subMonths(new Date(), 2)),\n            to: endOfDay(new Date())\n        })\n    }\n];\n\nconst monthNames = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];\n\nexport const DateRangeModal: React.FC<DateRangeModalProps> = ({ isOpen, onClose, onApply, initialStartDate, initialEndDate }) => {\n    const [range, setRange] = useState<DateRange | undefined>({\n        from: initialStartDate || undefined,\n        to: initialEndDate || undefined\n    });\n    const [activePreset, setActivePreset] = useState<string | null>(null);\n    const [leftMonth, setLeftMonth] = useState<Date>(() => startOfMonth(initialStartDate || new Date()));\n    const [rightMonth, setRightMonth] = useState<Date>(() => addMonths(startOfMonth(initialStartDate || new Date()), 1));\n    const [isVisible, setIsVisible] = useState(false);\n    const [isClosing, setIsClosing] = useState(false);\n\n    const syncCalendarMonths = (fromDate?: Date | null, toDate?: Date | null) => {\n        const baseLeft = startOfMonth(fromDate || new Date());\n        let baseRight = toDate ? startOfMonth(toDate) : addMonths(baseLeft, 1);\n        if (baseRight <= baseLeft) {\n            baseRight = addMonths(baseLeft, 1);\n        }\n        setLeftMonth(baseLeft);\n        setRightMonth(baseRight);\n    };\n\n    useEffect(() => {\n        if (isOpen) {\n            setIsVisible(true);\n            setIsClosing(false);\n            setRange({\n                from: initialStartDate || undefined,\n                to: initialEndDate || undefined\n            });\n            setActivePreset(null);\n            syncCalendarMonths(initialStartDate || undefined, initialEndDate || undefined);\n        }\n    }, [isOpen, initialStartDate, initialEndDate]);\n\n    useEffect(() => {\n        if (!isOpen) return;\n        const handleKeyDown = (event: KeyboardEvent) => {\n            if (event.key === 'Escape') {\n                handleClose();\n            }\n        };\n        window.addEventListener('keydown', handleKeyDown);\n        return () => window.removeEventListener('keydown', handleKeyDown);\n    }, [isOpen]);\n\n    const handleClose = () => {\n        setIsClosing(true);\n        setTimeout(() => {\n            setIsVisible(false);\n            onClose();\n        }, 300);\n    };\n\n    const years = useMemo(() => {\n        const current = new Date().getFullYear();\n        return Array.from({ length: 11 }, (_, idx) => current - 5 + idx);\n    }, []);\n\n    const handleRangeSelect = (selected: DateRange | undefined) => {\n        if (!selected?.from) {\n            setRange(undefined);\n            return;\n        }\n\n        if (!selected.to) {\n            setRange({ from: selected.from, to: undefined });\n            syncCalendarMonths(selected.from, undefined);\n            setActivePreset(null);\n            return;\n        }\n\n        const start = startOfDay(selected.from);\n        const end = endOfDay(selected.to);\n\n        if (end < start) {\n            setRange({ from: end, to: undefined });\n            syncCalendarMonths(end, undefined);\n            setActivePreset(null);\n            return;\n        }\n\n        setRange({ from: start, to: end });\n        syncCalendarMonths(start, end);\n        setActivePreset(null);\n    };\n\n    const handlePresetClick = (preset: QuickRange) => {\n        const presetRange = preset.getRange();\n        setRange(presetRange);\n        setActivePreset(preset.label);\n        syncCalendarMonths(presetRange.from, presetRange.to);\n    };\n\n    const handleApply = () => {\n        if (range?.from && range?.to) {\n            onApply(range.from, range.to);\n            handleClose();\n        }\n    };\n\n    const formattedRange = useMemo(() => {\n        if (!range?.from || !range?.to) return 'Selecciona un rango';\n        return `${format(range.from, \"d MMM, yyyy\", { locale: es })} - ${format(range.to, \"d MMM, yyyy\", { locale: es })}`;\n    }, [range]);\n\n    const handleLeftMonthChange = (next: Date) => {\n        const normalized = startOfMonth(next);\n        setLeftMonth(normalized);\n        if (rightMonth <= normalized) {\n            setRightMonth(addMonths(normalized, 1));\n        }\n    };\n\n    const handleRightMonthChange = (next: Date) => {\n        const normalized = startOfMonth(next);\n        if (normalized <= leftMonth) {\n            setRightMonth(addMonths(leftMonth, 1));\n            return;\n        }\n        setRightMonth(normalized);\n    };\n\n    const MonthControls = ({\n        month,\n        onChange,\n        disablePrev,\n        disableNext\n    }: {\n        month: Date;\n        onChange: (date: Date) => void;\n        disablePrev?: boolean;\n        disableNext?: boolean;\n    }) => (\n        <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"flex items-center gap-2\">\n                <select\n                    value={month.getMonth()}\n                    onChange={(event) => {\n                        const updated = new Date(month);\n                        updated.setMonth(Number(event.target.value));\n                        updated.setDate(1);\n                        onChange(updated);\n                    }}\n                    className=\"px-2 py-1 text-xs font-semibold rounded-lg border border-slate-200 bg-white focus:border-primary focus:outline-none dark:bg-transparent dark:border-white/20 dark:text-white\"\n                >\n                    {monthNames.map((name, idx) => (\n                        <option key={name} value={idx}>\n                            {name.charAt(0).toUpperCase() + name.slice(1)}\n                        </option>\n                    ))}\n                </select>\n                <select\n                    value={month.getFullYear()}\n                    onChange={(event) => {\n                        const updated = new Date(month);\n                        updated.setFullYear(Number(event.target.value));\n                        updated.setDate(1);\n                        onChange(updated);\n                    }}\n                    className=\"px-2 py-1 text-xs font-semibold rounded-lg border border-slate-200 bg-white focus:border-primary focus:outline-none dark:bg-transparent dark:border-white/20 dark:text-white\"\n                >\n                    {years.map((year) => (\n                        <option key={year} value={year}>\n                            {year}\n                        </option>\n                    ))}\n                </select>\n            </div>\n            <div className=\"flex items-center gap-1 text-primary\">\n                <button\n                    type=\"button\"\n                    onClick={() => onChange(addMonths(month, -1))}\n                    disabled={disablePrev}\n                    className=\"size-7 flex items-center justify-center rounded-full bg-primary/10 text-primary hover:bg-primary/20 disabled:opacity-40\"\n                >\n                    <span className=\"material-symbols-outlined text-sm\">chevron_left</span>\n                </button>\n                <button\n                    type=\"button\"\n                    onClick={() => onChange(addMonths(month, 1))}\n                    disabled={disableNext}\n                    className=\"size-7 flex items-center justify-center rounded-full bg-primary/10 text-primary hover:bg-primary/20 disabled:opacity-40\"\n                >\n                    <span className=\"material-symbols-outlined text-sm\">chevron_right</span>\n                </button>\n            </div>\n        </div>\n    );\n\n    if (!isOpen && !isVisible) return null;\n\n    return (\n        <div\n            className={`fixed inset-0 z-[120] flex transition-opacity duration-300 ${isVisible && !isClosing ? 'opacity-100' : 'opacity-0'}`}\n            onClick={handleClose}\n        >\n            <div\n                className=\"hidden lg:block h-full\"\n                style={{ width: 'var(--sidebar-width, 280px)' }}\n            />\n            <div\n                className={`flex-1 w-full relative flex items-center justify-center bg-slate-900/35 p-3 sm:p-4 backdrop-blur-sm transition-all duration-300 ${isVisible && !isClosing ? 'opacity-100' : 'opacity-0'}`}\n            >\n                <div\n                    className={`date-range-modal w-full max-w-5xl bg-white dark:bg-[#101828] rounded-[28px] shadow-2xl border border-slate-200/80 dark:border-white/10 p-4 sm:p-5 transition-all duration-300 transform ${isVisible && !isClosing ? 'scale-100 translate-y-0' : 'scale-95 translate-y-4'}`}\n                    onClick={(e) => e.stopPropagation()}\n                >\n                    <div className=\"flex items-start justify-between gap-3 mb-4\">\n                        <h3 className=\"text-base font-black text-slate-900 dark:text-white\">Seleccionar Rango</h3>\n                        <button\n                            onClick={handleClose}\n                            className=\"size-8 flex items-center justify-center rounded-full bg-slate-100 text-slate-500 hover:text-primary hover:bg-primary/10 transition-colors dark:bg-white/10 dark:text-white\"\n                        >\n                            <span className=\"material-symbols-outlined text-lg\">close</span>\n                        </button>\n                    </div>\n\n                    <div className=\"flex flex-col lg:flex-row gap-4\">\n                        <aside className=\"flex flex-col gap-2 w-full lg:w-56\">\n                            <p className=\"text-[9px] font-semibold text-slate-500 uppercase tracking-wide\">Rangos rápidos</p>\n                            <div className=\"grid grid-cols-2 lg:grid-cols-1 gap-2\">\n                                {quickRanges.map((preset) => {\n                                    const isActive = activePreset === preset.label;\n                                    return (\n                                        <button\n                                            key={preset.label}\n                                            onClick={() => handlePresetClick(preset)}\n                                            className={`text-left px-3 py-1.5 rounded-2xl border text-[11px] font-semibold transition-all ${isActive\n                                                ? 'bg-primary/10 border-primary/40 text-primary'\n                                                : 'border-slate-200 text-slate-600 hover:border-primary/30 hover:text-primary'\n                                                }`}\n                                        >\n                                            {preset.label}\n                                        </button>\n                                    );\n                                })}\n                            </div>\n                        </aside>\n\n                        <div className=\"flex-1 overflow-hidden px-2 md:px-4\">\n                            <style>{`\n                                .date-range-modal .rdp {\n                                    --rdp-cell-size: 30px;\n                                    --rdp-accent-color: #2563eb;\n                                    --rdp-background-color: rgba(37, 99, 235, 0.12);\n                                    --rdp-range_border-radius: 999px;\n                                    margin: 0;\n                                    color: #0f172a;\n                                }\n                                .dark .date-range-modal .rdp {\n                                    color: #f8fafc;\n                                }\n                                .date-range-modal .rdp-head_cell {\n                                    color: #94a3b8;\n                                    font-weight: 600;\n                                    font-size: 0.7rem;\n                                    text-transform: uppercase;\n                                }\n                                .dark .date-range-modal .rdp-head_cell {\n                                    color: rgba(255,255,255,0.7);\n                                }\n                                .date-range-modal .rdp-day {\n                                    font-weight: 500;\n                                    font-size: 0.85rem;\n                                }\n                                .date-range-modal .rdp-day_selected:not([disabled]) {\n                                    background-color: #2563eb;\n                                    color: #fff;\n                                }\n                                .date-range-modal .rdp-day_range_middle {\n                                    background-color: rgba(37,99,235,0.12);\n                                    color: inherit;\n                                    border-radius: 999px !important;\n                                }\n                                .date-range-modal .rdp-root,\n                                .date-range-modal .rdp-months,\n                                .date-range-modal .rdp-month {\n                                    width: 100%;\n                                }\n                                .date-range-modal .rdp-caption,\n                                .date-range-modal .rdp-nav {\n                                    display: none;\n                                }\n                            `}</style>\n                            <div className=\"w-full flex flex-col md:flex-row gap-3 md:gap-6 justify-between\">\n                                <div className=\"flex-1 border border-slate-100 rounded-2xl p-2 shadow-sm dark:border-white/10 backdrop-blur-sm\">\n                                    <MonthControls\n                                        month={leftMonth}\n                                        onChange={handleLeftMonthChange}\n                                    />\n                                    <DayPicker\n                                        mode=\"range\"\n                                        selected={range}\n                                        onSelect={handleRangeSelect}\n                                        month={leftMonth}\n                                        onMonthChange={handleLeftMonthChange}\n                                        numberOfMonths={1}\n                                        locale={es}\n                                    />\n                                </div>\n                                <div className=\"flex-1 border border-slate-100 rounded-2xl p-2 shadow-sm dark:border-white/10 backdrop-blur-sm\">\n                                    <MonthControls\n                                        month={rightMonth}\n                                        onChange={handleRightMonthChange}\n                                        disablePrev={rightMonth <= addMonths(leftMonth, 1)}\n                                    />\n                                    <DayPicker\n                                        mode=\"range\"\n                                        selected={range}\n                                        onSelect={handleRangeSelect}\n                                        month={rightMonth}\n                                        onMonthChange={handleRightMonthChange}\n                                        numberOfMonths={1}\n                                        locale={es}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"mt-5 border-t border-slate-100 dark:border-white/10 pt-3 flex flex-col gap-3\">\n                        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\n                            <div className=\"flex flex-col sm:flex-row sm:items-center gap-2 flex-1\">\n                                <div className=\"flex items-center gap-2 w-full sm:w-auto\">\n                                    <input\n                                        readOnly\n                                        value={range?.from ? format(range.from, 'dd/MM/yyyy') : ''}\n                                        placeholder=\"Inicio\"\n                                        className=\"flex-1 sm:w-32 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-[11px] text-slate-700 focus:border-primary focus:outline-none dark:border-white/10 dark:bg-white/5 dark:text-white\"\n                                    />\n                                    <span className=\"text-slate-400 text-xs\">-</span>\n                                    <input\n                                        readOnly\n                                        value={range?.to ? format(range.to, 'dd/MM/yyyy') : ''}\n                                        placeholder=\"Fin\"\n                                        className=\"flex-1 sm:w-32 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-[11px] text-slate-700 focus:border-primary focus:outline-none dark:border-white/10 dark:bg-white/5 dark:text-white\"\n                                    />\n                                </div>\n                                <p className=\"text-[11px] text-slate-400 dark:text-white/60\">{formattedRange}</p>\n                            </div>\n                            <div className=\"flex flex-col sm:flex-row items-center gap-2 justify-end w-full sm:w-auto\">\n                                <button onClick={handleClose} className=\"px-4 py-2 rounded-xl border border-slate-200 text-slate-600 text-[11px] font-semibold hover:border-slate-300 dark:border-white/10 dark:text-white\">\n                                    Cancelar\n                                </button>\n                                <button\n                                    onClick={handleApply}\n                                    disabled={!range?.from || !range?.to}\n                                    className=\"px-6 py-2 rounded-xl bg-primary text-white text-[11px] font-bold shadow-lg shadow-primary/30 hover:bg-primary-hover transition disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none\"\n                                >\n                                    Aplicar\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 712, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/PD%20-%20255%20SSD/Cio/Proyectos/Internos/Apps/finanzas-pro/components/NotificationsModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\n\ntype NotificationType = \"WARNING\" | \"INFO\" | \"SUCCESS\";\n\ninterface Notification {\n  id: number;\n  title: string;\n  message: string;\n  time: string;\n  type: NotificationType;\n  read: boolean;\n}\n\nconst notificationsData: Notification[] = [\n  {\n    id: 1,\n    title: \"Presupuesto excedido\",\n    message: \"Has superado el 80% de tu presupuesto de Comida para este mes.\",\n    time: \"Hace 2 horas\",\n    type: \"WARNING\",\n    read: false\n  },\n  {\n    id: 2,\n    title: \"Pago recibido\",\n    message: \"Se ha registrado el ingreso de Nómina por $5,000.00.\",\n    time: \"Ayer, 10:30 AM\",\n    type: \"SUCCESS\",\n    read: true\n  },\n  {\n    id: 3,\n    title: \"Nueva función\",\n    message: \"Ahora puedes crear reglas recurrentes para automatizar tus gastos.\",\n    time: \"20 Oct, 2023\",\n    type: \"INFO\",\n    read: true\n  },\n  {\n    id: 4,\n    title: \"Factura pendiente\",\n    message: \"Recuerda pagar tu servicio de Internet antes del día 25.\",\n    time: \"18 Oct, 2023\",\n    type: \"WARNING\",\n    read: true\n  }\n];\n\ninterface NotificationsModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  notifications?: Notification[];\n}\n\nexport const NotificationsModal: React.FC<NotificationsModalProps> = ({\n  isOpen,\n  onClose,\n  notifications = notificationsData\n}) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    if (!isOpen) return;\n    setIsMounted(true);\n    const micro = requestAnimationFrame(() => setIsVisible(true));\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === \"Escape\") {\n        onClose();\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      cancelAnimationFrame(micro);\n      setIsVisible(false);\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [isOpen, onClose]);\n\n  useEffect(() => {\n    if (!isOpen && isMounted) {\n      const timeout = setTimeout(() => {\n        setIsMounted(false);\n      }, 250);\n      return () => clearTimeout(timeout);\n    }\n  }, [isOpen, isMounted]);\n\n  if (!isMounted) return null;\n\n  return (\n    <div\n      className={`fixed inset-0 z-[140] flex justify-end p-4 sm:p-6 bg-black/20 backdrop-blur-sm transition-opacity duration-300 ease-out ${isVisible ? \"opacity-100\" : \"opacity-0\"\n        }`}\n      onClick={onClose}\n    >\n      <div\n        className={`relative w-full max-w-md bg-white/95 dark:bg-slate-900 rounded-3xl shadow-2xl border border-white/60 dark:border-slate-800 flex flex-col gap-6 overflow-hidden transition-all duration-500 ease-[cubic-bezier(0.22,1,0.36,1)] ${isVisible ? \"opacity-100 translate-x-0\" : \"opacity-0 translate-x-28 sm:translate-x-40\"\n          }`}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"flex items-center justify-between px-6 pt-6\">\n          <h2 className=\"text-lg font-black text-slate-900 dark:text-white tracking-tight uppercase\">Notificaciones</h2>\n          <div className=\"flex items-center gap-2\">\n            <button className=\"text-[10px] font-black uppercase tracking-wider text-primary hover:text-primary-hover\">\n              Marcar todo leído\n            </button>\n            <button onClick={onClose} className=\"size-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500 hover:text-primary\">\n              <span className=\"material-symbols-outlined text-base\">close</span>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"px-6 pb-6 pt-2 max-h-[70vh] overflow-y-auto flex flex-col gap-4 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700\">\n          {notifications.map((notif) => (\n            <div\n              key={notif.id}\n              className={`glass-card p-4 rounded-2xl border transition-all hover:bg-white dark:hover:bg-slate-800 ${\n                notif.read\n                  ? \"border-transparent opacity-80\"\n                  : \"border-l-4 border-l-primary border-y-white/60 border-r-white/60 dark:border-y-slate-800 dark:border-r-slate-800 bg-white/70 dark:bg-slate-800/70 shadow-md\"\n              }`}\n            >\n              <div className=\"flex items-start gap-4\">\n                <div\n                  className={`mt-1 size-10 rounded-xl flex items-center justify-center shrink-0 ${\n                    notif.type === \"WARNING\"\n                      ? \"bg-orange-100 text-orange-600 dark:bg-orange-900/30\"\n                      : notif.type === \"SUCCESS\"\n                        ? \"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30\"\n                        : \"bg-blue-100 text-blue-600 dark:bg-blue-900/30\"\n                  }`}\n                >\n                  <span className=\"material-symbols-outlined text-[20px]\">\n                    {notif.type === \"WARNING\" ? \"warning\" : notif.type === \"SUCCESS\" ? \"check_circle\" : \"info\"}\n                  </span>\n                </div>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <h3 className={`font-black text-sm ${notif.read ? \"text-slate-700 dark:text-slate-300\" : \"text-slate-900 dark:text-white\"}`}>\n                      {notif.title}\n                    </h3>\n                    <span className=\"text-[10px] font-bold text-slate-400 uppercase tracking-wider\">{notif.time}</span>\n                  </div>\n                  <p className=\"text-xs text-slate-600 dark:text-slate-400 font-medium leading-relaxed\">{notif.message}</p>\n                </div>\n                {!notif.read && <div className=\"size-2 rounded-full bg-primary mt-2\"></div>}\n              </div>\n            </div>\n          ))}\n\n          {notifications.length === 0 && (\n            <div className=\"flex flex-col items-center justify-center py-20 text-slate-400\">\n              <span className=\"material-symbols-outlined text-6xl mb-4 opacity-50\">notifications_off</span>\n              <p className=\"font-bold\">No tienes notificaciones</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 999, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/PD%20-%20255%20SSD/Cio/Proyectos/Internos/Apps/finanzas-pro/components/CategoryIcon.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport * as Icons from \"lucide-react\";\n\nexport function CategoryIcon({ icon, className }: { icon: string, className?: string }) {\n    const LucideIcon = (Icons as any)[icon];\n    if (LucideIcon) {\n        return <LucideIcon className={className} />;\n    }\n\n    // Simple check: if it contains non-alphanumeric/underscore characters, assume it's an emoji\n    // Material icons are usually snake_case words. Emojis are unicode.\n    const isEmoji = !/^[a-z0-9_]+$/.test(icon);\n\n    if (isEmoji) {\n        return <span className={`${className} inline-flex items-center justify-center leading-none grayscale-0 pb-[2px]`}>{icon}</span>\n    }\n\n    return <span className={`material-symbols-outlined ${className} !text-[inherit] inline-flex items-center justify-center leading-none pb-[2px]`}>{icon}</span>\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKO,SAAS,aAAa,EAAE,IAAI,EAAE,SAAS,EAAwC;IAClF,MAAM,aAAa,AAAC,oKAAa,CAAC,KAAK;IACvC,IAAI,YAAY;QACZ,qBAAO,6LAAC;YAAW,WAAW;;;;;;IAClC;IAEA,4FAA4F;IAC5F,mEAAmE;IACnE,MAAM,UAAU,CAAC,eAAe,IAAI,CAAC;IAErC,IAAI,SAAS;QACT,qBAAO,6LAAC;YAAK,WAAW,GAAG,UAAU,0EAA0E,CAAC;sBAAG;;;;;;IACvH;IAEA,qBAAO,6LAAC;QAAK,WAAW,CAAC,0BAA0B,EAAE,UAAU,8EAA8E,CAAC;kBAAG;;;;;;AACrJ;KAfgB"}}]
}