{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/components/CreateBudgetModal.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useFinance } from '@/context/FinanceContext';\r\n\r\ninterface CreateBudgetModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n}\r\n\r\nexport default function CreateBudgetModal({ isOpen, onClose }: CreateBudgetModalProps) {\r\n    const { categories, addBudget, ledgers, activeBookId } = useFinance();\r\n    const [amount, setAmount] = useState('');\r\n    const [categoryId, setCategoryId] = useState('');\r\n    const [isRecurring, setIsRecurring] = useState(false);\r\n    const [recurrenceOption, setRecurrenceOption] = useState('MONTHLY');\r\n    const [endDate, setEndDate] = useState('');\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n    // Reset form when opening\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setAmount('');\r\n            setCategoryId('');\r\n            setIsRecurring(false);\r\n            setRecurrenceOption('MONTHLY');\r\n            setEndDate('');\r\n        }\r\n    }, [isOpen]);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const currencySymbol = ledgers.find(l => l.id === activeBookId)?.currency || '$';\r\n\r\n    const recurrenceOptions = [\r\n        { label: 'Diariamente', value: 'DAILY_1' },\r\n        { label: 'Semanalmente', value: 'WEEKLY_1' },\r\n        { label: 'Cada 2 semanas', value: 'WEEKLY_2' },\r\n        { label: 'Cada 3 semanas', value: 'WEEKLY_3' },\r\n        { label: 'Cada 4 semanas', value: 'WEEKLY_4' },\r\n        { label: 'Mensual', value: 'MONTHLY_1' },\r\n        { label: 'Cada 2 meses', value: 'MONTHLY_2' },\r\n        { label: 'Trimestral', value: 'MONTHLY_3' },\r\n        { label: 'Semestral', value: 'MONTHLY_6' },\r\n        { label: 'Anual', value: 'YEARLY_1' },\r\n    ];\r\n\r\n    const handleSubmit = async () => {\r\n        if (!amount || !categoryId) return;\r\n        setIsSubmitting(true);\r\n\r\n        try {\r\n            let recurrenceType = 'MONTHLY';\r\n            let recurrenceInterval = 1;\r\n\r\n            if (isRecurring) {\r\n                const [type, interval] = recurrenceOption.split('_');\r\n                recurrenceType = type;\r\n                recurrenceInterval = parseInt(interval);\r\n            }\r\n\r\n            await addBudget({\r\n                amount: parseFloat(amount),\r\n                categoryId,\r\n                recurrenceType: isRecurring ? recurrenceType : undefined,\r\n                recurrenceInterval: isRecurring ? recurrenceInterval : undefined,\r\n                startDate: new Date().toISOString(), // Starts now\r\n                endDate: isRecurring && endDate ? endDate : undefined\r\n            });\r\n\r\n            onClose();\r\n        } catch (error) {\r\n            console.error(error);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in\">\r\n            <div className=\"w-full max-w-lg bg-white dark:bg-[#1e293b] rounded-[2rem] shadow-2xl flex flex-col max-h-[90vh] overflow-hidden animate-scale-in border border-slate-200 dark:border-slate-700\">\r\n\r\n                {/* Header */}\r\n                <header className=\"flex-none px-8 py-6 flex justify-between items-start border-b border-slate-100 dark:border-slate-800\">\r\n                    <div className=\"flex flex-col gap-1\">\r\n                        <h2 className=\"text-xl font-bold text-slate-900 dark:text-white\">Nuevo Presupuesto</h2>\r\n                        <p className=\"text-slate-500 dark:text-slate-400 text-sm\">Define un límite de gasto para una categoría.</p>\r\n                    </div>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors bg-slate-50 dark:bg-slate-800 p-2 rounded-full\"\r\n                    >\r\n                        <span className=\"material-symbols-outlined text-xl\">close</span>\r\n                    </button>\r\n                </header>\r\n\r\n                {/* Body */}\r\n                <div className=\"flex-1 overflow-y-auto px-8 py-6 flex flex-col gap-6 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700\">\r\n\r\n                    {/* Amount */}\r\n                    <div className=\"space-y-2\">\r\n                        <label className=\"text-xs font-bold text-slate-700 dark:text-slate-300 ml-1\">Monto ({currencySymbol})</label>\r\n                        <div className=\"flex items-center rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-4 h-14 focus-within:ring-2 focus-within:ring-primary/20 focus-within:border-primary transition-all\">\r\n                            <span className=\"text-slate-900 dark:text-white font-bold text-lg mr-2\">{currencySymbol}</span>\r\n                            <input\r\n                                value={amount}\r\n                                onChange={(e) => setAmount(e.target.value)}\r\n                                className=\"w-full bg-transparent border-none outline-none text-slate-900 dark:text-white text-2xl font-bold placeholder:text-slate-300\"\r\n                                placeholder=\"0.00\"\r\n                                type=\"number\"\r\n                                autoFocus\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Category */}\r\n                    <div className=\"space-y-2\">\r\n                        <label className=\"text-xs font-bold text-slate-700 dark:text-slate-300 ml-1\">Categoría</label>\r\n                        <select\r\n                            value={categoryId}\r\n                            onChange={(e) => setCategoryId(e.target.value)}\r\n                            className=\"w-full h-12 px-4 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white text-sm font-semibold appearance-none cursor-pointer focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none\"\r\n                        >\r\n                            <option value=\"\">Seleccionar categoría</option>\r\n                            {categories.map(cat => (\r\n                                <option key={cat.id} value={cat.id}>{cat.name}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    {/* Recurrence Toggle */}\r\n                    <div className=\"flex items-center justify-between p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-800\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className={`p-2 rounded-lg ${isRecurring ? 'bg-primary/10 text-primary' : 'bg-slate-200 dark:bg-slate-700 text-slate-500'}`}>\r\n                                <span className=\"material-symbols-outlined\">update</span>\r\n                            </div>\r\n                            <div className=\"flex flex-col\">\r\n                                <span className=\"text-sm font-bold text-slate-900 dark:text-white\">Repetir Presupuesto</span>\r\n                                <span className=\"text-xs text-slate-500\">Renovar automáticamente</span>\r\n                            </div>\r\n                        </div>\r\n                        <div\r\n                            onClick={() => setIsRecurring(!isRecurring)}\r\n                            className={`w-11 h-6 rounded-full p-1 cursor-pointer transition-colors ${isRecurring ? 'bg-primary' : 'bg-slate-300 dark:bg-slate-600'}`}\r\n                        >\r\n                            <div className={`size-4 bg-white rounded-full shadow-sm transition-transform ${isRecurring ? 'translate-x-5' : ''}`} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Recurrence Options */}\r\n                    {isRecurring && (\r\n                        <div className=\"space-y-4 animate-slide-down pl-2 border-l-2 border-primary/20 ml-4 py-2\">\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-xs font-bold text-slate-700 dark:text-slate-300 ml-1\">Frecuencia</label>\r\n                                <select\r\n                                    value={recurrenceOption}\r\n                                    onChange={(e) => setRecurrenceOption(e.target.value)}\r\n                                    className=\"w-full h-10 px-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-sm font-medium focus:ring-2 focus:ring-primary/20 outline-none\"\r\n                                >\r\n                                    {recurrenceOptions.map(opt => (\r\n                                        <option key={opt.value} value={opt.value}>{opt.label}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-xs font-bold text-slate-700 dark:text-slate-300 ml-1\">Fecha de Finalización (Opcional)</label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    value={endDate}\r\n                                    onChange={(e) => setEndDate(e.target.value)}\r\n                                    className=\"w-full h-10 px-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-sm font-medium focus:ring-2 focus:ring-primary/20 outline-none text-slate-900 dark:text-white\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <footer className=\"flex-none px-8 py-5 flex justify-end gap-3 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50\">\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"px-5 py-2.5 rounded-xl text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 font-bold text-sm transition-colors\"\r\n                    >\r\n                        Cancelar\r\n                    </button>\r\n                    <button\r\n                        onClick={handleSubmit}\r\n                        disabled={!amount || !categoryId || isSubmitting}\r\n                        className=\"px-6 py-2.5 rounded-xl bg-primary hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold text-sm shadow-md shadow-blue-500/20 transition-all flex items-center gap-2 active:scale-95\"\r\n                    >\r\n                        {isSubmitting ? (\r\n                            <span className=\"size-4 border-2 border-white/30 border-t-white rounded-full animate-spin\"></span>\r\n                        ) : (\r\n                            <span className=\"material-symbols-outlined text-[18px]\">check</span>\r\n                        )}\r\n                        Crear Presupuesto\r\n                    </button>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 466, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/app/%28dashboard%29/budgets/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useFinance } from '@/context/FinanceContext';\r\nimport { useFinance } from '@/context/FinanceContext';\r\nimport { Budget, Transaction } from '@/types';\r\nimport CreateBudgetModal from '@/components/CreateBudgetModal';\r\nimport { DateRangeModal } from '@/components/DateRangeModal';\r\nimport { startOfMonth, endOfMonth, isWithinInterval } from 'date-fns';\r\n\r\nexport default function Budgets() {\r\n    const router = useRouter();\r\n    const { budgets, categories } = useFinance();\r\n    const [filter, setFilter] = useState<'all' | 'danger' | 'exceeded' | 'healthy'>('all');\r\n    const [sortBy, setSortBy] = useState('amount_desc');\r\n    const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\r\n\r\n    // Date Range State\r\n    const [isDateModalOpen, setIsDateModalOpen] = useState(false);\r\n    const [dateRange, setDateRange] = useState<{ start: Date; end: Date }>({\r\n        start: startOfMonth(new Date()),\r\n        end: endOfMonth(new Date())\r\n    });\r\n\r\n    // Calculate real spent for each budget based on transactions\r\n    const calculatedBudgets = useMemo(() => {\r\n        return budgets.map(budget => {\r\n            const budgetSpent = transactions\r\n                .filter(t => {\r\n                    if (t.type !== 'EXPENSE') return false;\r\n                    // Filter by category\r\n                    // If budget has category_id, match it. \r\n                    // If not, match by name (legacy support)\r\n                    const matchesCategory = budget.category_id\r\n                        ? t.category_id === budget.category_id\r\n                        : t.category === budget.category; // fallback\r\n\r\n                    if (!matchesCategory) return false;\r\n\r\n                    // Filter by Date Range\r\n                    const txDate = new Date(t.date);\r\n                    return isWithinInterval(txDate, { start: dateRange.start, end: dateRange.end });\r\n                })\r\n                .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n            return {\r\n                ...budget,\r\n                spent: budgetSpent\r\n            };\r\n        });\r\n    }, [budgets, transactions, dateRange]);\r\n\r\n    // Calcular métricas globales usando calculatedBudgets\r\n    const totalPlanned = useMemo(() => calculatedBudgets.reduce((sum, b) => sum + b.limit, 0), [calculatedBudgets]);\r\n    const totalSpent = useMemo(() => calculatedBudgets.reduce((sum, b) => sum + b.spent, 0), [calculatedBudgets]);\r\n    const totalAvailable = totalPlanned - totalSpent;\r\n    const availablePercent = totalPlanned > 0 ? (totalAvailable / totalPlanned) * 100 : 0;\r\n\r\n    // Categorías cerca del límite (alertas)\r\n    const alertsCount = useMemo(() => calculatedBudgets.filter(b => (b.spent / b.limit) >= 0.9 && (b.spent / b.limit) < 1).length, [calculatedBudgets]);\r\n\r\n    // Lógica de filtrado y ordenación\r\n    const filteredBudgets = useMemo(() => {\r\n        let result = calculatedBudgets.filter(b => {\r\n            const ratio = b.limit > 0 ? b.spent / b.limit : 0;\r\n            if (filter === 'danger') return ratio >= 0.9 && ratio < 1;\r\n            if (filter === 'exceeded') return ratio >= 1;\r\n            if (filter === 'healthy') return ratio < 0.9;\r\n            return true;\r\n        });\r\n\r\n        return result.sort((a, b) => {\r\n            if (sortBy === 'amount_desc') return b.limit - a.limit;\r\n            if (sortBy === 'amount_asc') return a.limit - b.limit;\r\n            if (sortBy === 'name') {\r\n                // Client-side lookup for sorting if needed, but 'category' field is present from context mapping (Loading...)\r\n                // We can look up here or just use what we have. \r\n                // Context returns 'Loading...' but Page maps it. \r\n                // Let's rely on the ID match logic inside the render for display, \r\n                // but for sorting we might need the name.\r\n                // Ideally calculatedBudgets should include the resolved name.\r\n                // For now, let's leave as is, sorting might be slightly off until mapped.\r\n                return a.category.localeCompare(b.category);\r\n            }\r\n            return 0;\r\n        });\r\n    }, [calculatedBudgets, filter, sortBy]);\r\n\r\n    const getStatusInfo = (spent: number, limit: number) => {\r\n        const ratio = limit > 0 ? spent / limit : 0;\r\n        if (ratio >= 1) return { label: 'Excedido', colorClass: 'text-danger', bgClass: 'bg-red-50 dark:bg-red-900/20', borderClass: 'border-l-danger', barClass: 'bg-danger' };\r\n        if (ratio >= 0.9) return { label: 'Cuidado', colorClass: 'text-warning', bgClass: 'bg-orange-50 dark:bg-orange-900/20', borderClass: 'border-l-warning', barClass: 'bg-warning' };\r\n        return { label: 'Normal', colorClass: 'text-primary', bgClass: 'bg-blue-50 dark:bg-blue-900/20', borderClass: 'border-l-primary', barClass: 'bg-primary' };\r\n    };\r\n\r\n    const getIcon = (category: string) => {\r\n        const cat = category.toLowerCase();\r\n        if (cat.includes('super')) return 'shopping_cart';\r\n        if (cat.includes('transporte')) return 'directions_bus';\r\n        if (cat.includes('entretenimiento')) return 'local_activity';\r\n        if (cat.includes('ropa')) return 'checkroom';\r\n        if (cat.includes('restaurante')) return 'restaurant';\r\n        if (cat.includes('mascota')) return 'pets';\r\n        return 'payments';\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex-1 flex flex-col h-full overflow-y-auto overflow-x-hidden relative scrollbar-hide pb-24\">\r\n            {/* Background Decor */}\r\n            <div className=\"fixed inset-0 -z-10 pointer-events-none opacity-40 dark:opacity-10\">\r\n                <div className=\"absolute top-0 left-0 w-[500px] h-[500px] bg-blue-100 rounded-full blur-[120px]\"></div>\r\n                <div className=\"absolute bottom-0 right-0 w-[500px] h-[500px] bg-indigo-100 rounded-full blur-[120px]\"></div>\r\n            </div>\r\n\r\n            <div className=\"container mx-auto max-w-[1200px] p-6 lg:p-10 flex flex-col gap-8\">\r\n                {/* Page Header */}\r\n                <header className=\"flex flex-col md:flex-row md:items-end justify-between gap-6 animate-fade-in\">\r\n                    <div className=\"flex flex-col gap-1\">\r\n                        <h1 className=\"text-3xl lg:text-4xl font-black tracking-tight text-[#111418] dark:text-white\">Presupuestos</h1>\r\n                        <p className=\"text-gray-500 dark:text-gray-400 text-lg font-normal capitalize\">\r\n                            Planificación de {dateRange.start.toLocaleDateString('es-ES', { month: 'long', year: 'numeric' })}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"flex flex-col sm:flex-row gap-3 w-full md:w-auto\">\r\n                        <button\r\n                            onClick={() => setIsDateModalOpen(true)}\r\n                            className=\"flex items-center gap-2 px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-600 dark:text-slate-300 font-medium text-sm hover:border-primary hover:text-primary transition-colors h-12\"\r\n                        >\r\n                            <span className=\"material-symbols-outlined text-[20px]\">calendar_month</span>\r\n                            <span>{dateRange.start.toLocaleDateString('es-ES', { day: 'numeric', month: 'short' })} - {dateRange.end.toLocaleDateString('es-ES', { day: 'numeric', month: 'short' })}</span>\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={() => setIsCreateModalOpen(true)}\r\n                            className=\"flex items-center justify-center gap-2 bg-primary hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-xl shadow-lg shadow-blue-500/30 transition-all active:scale-95 h-12\"\r\n                        >\r\n                            <span className=\"material-symbols-outlined text-[20px]\">add</span>\r\n                            <span className=\"text-sm\">Nuevo Presupuesto</span>\r\n                        </button>\r\n                    </div>\r\n                </header>\r\n\r\n                {/* Summary Stats */}\r\n                <section className=\"grid grid-cols-1 md:grid-cols-3 gap-5 animate-fade-in\" style={{ animationDelay: '0.1s' }}>\r\n                    <div className=\"glass-panel rounded-2xl p-6 flex flex-col gap-3 shadow-glass group hover:shadow-lg transition-all duration-300\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div className=\"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg text-primary\">\r\n                                <span className=\"material-symbols-outlined\">assignment</span>\r\n                            </div>\r\n                            <span className=\"text-xs font-semibold text-gray-400 uppercase tracking-wider\">Total Planeado</span>\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"text-3xl font-bold text-[#111418] dark:text-white tracking-tight\">${totalPlanned.toLocaleString('en-US', { minimumFractionDigits: 2 })}</h3>\r\n                            <p className=\"text-sm text-gray-500 mt-1\">Suma de todas las categorías</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"glass-panel rounded-2xl p-6 flex flex-col gap-3 shadow-glass group hover:shadow-lg transition-all duration-300\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div className=\"p-2 bg-green-50 dark:bg-green-900/30 rounded-lg text-emerald-600\">\r\n                                <span className=\"material-symbols-outlined\">savings</span>\r\n                            </div>\r\n                            <span className=\"text-xs font-semibold text-gray-400 uppercase tracking-wider\">Disponible</span>\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"text-3xl font-bold text-[#111418] dark:text-white tracking-tight\">${totalAvailable.toLocaleString('en-US', { minimumFractionDigits: 2 })}</h3>\r\n                            <p className=\"text-sm text-emerald-600 mt-1 font-medium flex items-center gap-1\">\r\n                                <span className=\"material-symbols-outlined text-sm\">trending_up</span>\r\n                                {availablePercent.toFixed(0)}% Restante del mes\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"glass-panel rounded-2xl p-6 flex flex-col gap-3 shadow-glass group hover:shadow-lg transition-all duration-300 relative overflow-hidden\">\r\n                        <div className=\"absolute -right-4 -top-4 w-20 h-20 bg-orange-100 dark:bg-orange-900/20 rounded-full blur-2xl\"></div>\r\n                        <div className=\"flex items-center justify-between relative z-10\">\r\n                            <div className=\"p-2 bg-orange-50 dark:bg-orange-900/30 rounded-lg text-orange-500\">\r\n                                <span className=\"material-symbols-outlined\">notifications_active</span>\r\n                            </div>\r\n                            <span className=\"text-xs font-semibold text-gray-400 uppercase tracking-wider\">Alertas</span>\r\n                        </div>\r\n                        <div className=\"relative z-10\">\r\n                            <h3 className=\"text-3xl font-bold text-[#111418] dark:text-white tracking-tight\">{alertsCount}</h3>\r\n                            <p className=\"text-sm text-gray-500 mt-1\">Categorías cerca del límite</p>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Filters */}\r\n                <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4 py-2 animate-fade-in\" style={{ animationDelay: '0.15s' }}>\r\n                    <div className=\"flex gap-2 overflow-x-auto w-full sm:w-auto pb-2 sm:pb-0 scrollbar-hide\">\r\n                        {[\r\n                            { id: 'all', label: 'Todos' },\r\n                            { id: 'danger', label: 'En Peligro' },\r\n                            { id: 'exceeded', label: 'Excedidos' },\r\n                            { id: 'healthy', label: 'Saludables' }\r\n                        ].map(btn => (\r\n                            <button\r\n                                key={btn.id}\r\n                                onClick={() => setFilter(btn.id as any)}\r\n                                className={`px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap ${filter === btn.id\r\n                                    ? 'bg-[#111418] text-white shadow-md'\r\n                                    : 'glass-panel text-gray-600 dark:text-gray-300 hover:bg-white hover:text-primary'\r\n                                    }`}\r\n                            >\r\n                                {btn.label}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 w-full sm:w-auto text-gray-500 text-sm\">\r\n                        <span className=\"hidden sm:inline\">Ordenar por:</span>\r\n                        <select\r\n                            value={sortBy}\r\n                            onChange={(e) => setSortBy(e.target.value)}\r\n                            className=\"bg-transparent font-medium text-gray-700 dark:text-gray-300 focus:outline-none cursor-pointer border-none p-0\"\r\n                        >\r\n                            <option value=\"amount_desc\">Mayor monto</option>\r\n                            <option value=\"amount_asc\">Menor monto</option>\r\n                            <option value=\"name\">Nombre</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Budgets Grid */}\r\n                <section className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 animate-fade-in\" style={{ animationDelay: '0.2s' }}>\r\n                    {filteredBudgets.map((budget) => {\r\n                        const percentage = Math.min((budget.spent / budget.limit) * 100, 100);\r\n                        const status = getStatusInfo(budget.spent, budget.limit);\r\n                        const remaining = budget.limit - budget.spent;\r\n\r\n                        // Client-side category lookup\r\n                        const categoryObj = categories.find(c => c.id === budget.category_id);\r\n                        const displayCategory = categoryObj ? categoryObj.name : (budget.category || 'Sin categoría');\r\n                        const displayIcon = categoryObj?.icon || getIcon(displayCategory);\r\n\r\n                        return (\r\n                            <div\r\n                                key={budget.id}\r\n                                onClick={() => router.push(`/budget/${budget.id}`)}\r\n                                className={`glass-panel rounded-2xl p-5 shadow-glass hover:shadow-xl transition-all duration-300 group cursor-pointer border-l-4 border-l-transparent hover:${status.borderClass}`}\r\n                            >\r\n                                <div className=\"flex justify-between items-start mb-4\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <div className={`size-10 rounded-full flex items-center justify-center ${status.bgClass} ${status.colorClass}`}>\r\n                                            <span className=\"material-symbols-outlined\">{displayIcon}</span>\r\n                                        </div>\r\n                                        <div>\r\n                                            <h4 className=\"font-bold text-gray-900 dark:text-white\">{displayCategory}</h4>\r\n                                            <span className=\"text-xs text-gray-500\">Mensual</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <span className={`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${status.bgClass} ${status.colorClass}`}>\r\n                                        {status.label}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"flex flex-col gap-2\">\r\n                                    <div className=\"flex justify-between items-end\">\r\n                                        <span className=\"text-2xl font-bold text-gray-900 dark:text-white\">${budget.spent.toLocaleString()}</span>\r\n                                        <span className=\"text-sm font-medium text-gray-500 mb-1\">de ${budget.limit.toLocaleString()}</span>\r\n                                    </div>\r\n                                    <div className=\"h-3 w-full bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden relative\">\r\n                                        {/* Background faint bar for exceeded state */}\r\n                                        {percentage >= 100 && <div className=\"absolute inset-0 bg-red-400 opacity-20\"></div>}\r\n                                        <div\r\n                                            className={`h-full rounded-full transition-all duration-1000 ease-out ${status.barClass}`}\r\n                                            style={{ width: `${percentage}%` }}\r\n                                        ></div>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between text-xs text-gray-400 mt-1\">\r\n                                        <span>{percentage.toFixed(0)}% gastado</span>\r\n                                        <span className={`font-medium ${remaining < 0 ? 'text-danger' : remaining < (budget.limit * 0.1) ? 'text-orange-500' : ''}`}>\r\n                                            {remaining < 0 ? `+$${Math.abs(remaining)} sobre límite` : `$${remaining} restante`}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n\r\n                    {/* Add New Placeholder Card */}\r\n                    <div\r\n                        onClick={() => setIsCreateModalOpen(true)}\r\n                        className=\"w-full border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-2xl p-8 flex flex-col items-center justify-center gap-4 text-gray-400 hover:text-primary hover:border-primary hover:bg-white/50 dark:hover:bg-slate-800/20 transition-all cursor-pointer group min-h-[160px]\"\r\n                    >\r\n                        <div className=\"size-14 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center group-hover:bg-primary/10 transition-colors\">\r\n                            <span className=\"material-symbols-outlined text-3xl\">add</span>\r\n                        </div>\r\n                        <p className=\"font-medium\">Crear nuevo presupuesto</p>\r\n                    </div>\r\n                </section>\r\n\r\n                <CreateBudgetModal\r\n                    isOpen={isCreateModalOpen}\r\n                    onClose={() => setIsCreateModalOpen(false)}\r\n                />\r\n\r\n                {filteredBudgets.length === 0 && (\r\n                    <div className=\"py-20 text-center opacity-40\">\r\n                        <span className=\"material-symbols-outlined text-6xl mb-4\">search_off</span>\r\n                        <p className=\"font-medium\">No se encontraron presupuestos con este filtro.</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1345, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/node_modules/date-fns/constants.js"],"sourcesContent":["/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n\n/**\n * @constant\n * @name constructFromSymbol\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\n *\n * The symbol is used to enable the `constructFrom` function to construct a date\n * using a reference date and a value. It allows to transfer extra properties\n * from the reference date to the new date. It's useful for extensions like\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\n * a constructor argument.\n */\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;CAeC,GAED;;;;CAIC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACM,MAAM,aAAa;AAenB,MAAM,aAAa;AAgBnB,MAAM,UAAU,KAAK,GAAG,CAAC,IAAI,KAAK,KAAK,KAAK,KAAK;AAgBjD,MAAM,UAAU,CAAC;AAOjB,MAAM,qBAAqB;AAO3B,MAAM,oBAAoB;AAO1B,MAAM,uBAAuB;AAO7B,MAAM,qBAAqB;AAO3B,MAAM,uBAAuB;AAO7B,MAAM,gBAAgB;AAOtB,MAAM,iBAAiB;AAOvB,MAAM,eAAe;AAOrB,MAAM,gBAAgB;AAOtB,MAAM,kBAAkB;AAOxB,MAAM,eAAe;AAOrB,MAAM,iBAAiB;AAOvB,MAAM,gBAAgB;AAOtB,MAAM,kBAAkB;AAOxB,MAAM,eAAe,gBAAgB;AAOrC,MAAM,gBAAgB,eAAe;AAOrC,MAAM,gBAAgB,eAAe;AAOrC,MAAM,iBAAiB,gBAAgB;AAOvC,MAAM,mBAAmB,iBAAiB;AAa1C,MAAM,sBAAsB,OAAO,GAAG,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1442, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/node_modules/date-fns/constructFrom.js"],"sourcesContent":["import { constructFromSymbol } from \"./constants.js\";\n\n/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * Starting from v3.7.0, it allows to construct a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from \"./constructFrom/date-fns\";\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date>(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use constructor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   );\n * }\n */\nexport function constructFrom(date, value) {\n  if (typeof date === \"function\") return date(value);\n\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\n    return date[constructFromSymbol](value);\n\n  if (date instanceof Date) return new date.constructor(value);\n\n  return new Date(value);\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n"],"names":[],"mappings":";;;;;;AAAA;;AAqCO,SAAS,cAAc,IAAI,EAAE,KAAK;IACvC,IAAI,OAAO,SAAS,YAAY,OAAO,KAAK;IAE5C,IAAI,QAAQ,OAAO,SAAS,YAAY,+JAAmB,IAAI,MAC7D,OAAO,IAAI,CAAC,+JAAmB,CAAC,CAAC;IAEnC,IAAI,gBAAgB,MAAM,OAAO,IAAI,KAAK,WAAW,CAAC;IAEtD,OAAO,IAAI,KAAK;AAClB;uCAGe","ignoreList":[0]}},
    {"offset": {"line": 1461, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/node_modules/date-fns/toDate.js"],"sourcesContent":["import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * Starting from v3.7.0, it clones a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument, context) {\n  // [TODO] Get rid of `toDate` or `constructFrom`?\n  return constructFrom(context || argument, argument);\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n"],"names":[],"mappings":";;;;;;AAAA;;AAwCO,SAAS,OAAO,QAAQ,EAAE,OAAO;IACtC,iDAAiD;IACjD,OAAO,IAAA,6JAAa,EAAC,WAAW,UAAU;AAC5C;uCAGe","ignoreList":[0]}},
    {"offset": {"line": 1478, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/node_modules/date-fns/startOfMonth.js"],"sourcesContent":["import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfMonth} function options.\n */\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date. The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments.\n * Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed,\n * or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n"],"names":[],"mappings":";;;;;;AAAA;;AA6BO,SAAS,aAAa,IAAI,EAAE,OAAO;IACxC,MAAM,QAAQ,IAAA,+IAAM,EAAC,MAAM,SAAS;IACpC,MAAM,OAAO,CAAC;IACd,MAAM,QAAQ,CAAC,GAAG,GAAG,GAAG;IACxB,OAAO;AACT;uCAGe","ignoreList":[0]}},
    {"offset": {"line": 1497, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/node_modules/date-fns/endOfMonth.js"],"sourcesContent":["import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfMonth} function options.\n */\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n"],"names":[],"mappings":";;;;;;AAAA;;AA4BO,SAAS,WAAW,IAAI,EAAE,OAAO;IACtC,MAAM,QAAQ,IAAA,+IAAM,EAAC,MAAM,SAAS;IACpC,MAAM,QAAQ,MAAM,QAAQ;IAC5B,MAAM,WAAW,CAAC,MAAM,WAAW,IAAI,QAAQ,GAAG;IAClD,MAAM,QAAQ,CAAC,IAAI,IAAI,IAAI;IAC3B,OAAO;AACT;uCAGe","ignoreList":[0]}},
    {"offset": {"line": 1517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/node_modules/date-fns/isWithinInterval.js"],"sourcesContent":["import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link isWithinInterval} function options.\n */\n\n/**\n * @name isWithinInterval\n * @category Interval Helpers\n * @summary Is the given date within the interval?\n *\n * @description\n * Is the given date within the interval? (Including start and end.)\n *\n * @param date - The date to check\n * @param interval - The interval to check\n * @param options - An object with options\n *\n * @returns The date is within the interval\n *\n * @example\n * // For the date within the interval:\n * isWithinInterval(new Date(2014, 0, 3), {\n *   start: new Date(2014, 0, 1),\n *   end: new Date(2014, 0, 7)\n * })\n * // => true\n *\n * @example\n * // For the date outside of the interval:\n * isWithinInterval(new Date(2014, 0, 10), {\n *   start: new Date(2014, 0, 1),\n *   end: new Date(2014, 0, 7)\n * })\n * // => false\n *\n * @example\n * // For date equal to the interval start:\n * isWithinInterval(date, { start, end: date })\n * // => true\n *\n * @example\n * // For date equal to the interval end:\n * isWithinInterval(date, { start: date, end })\n * // => true\n */\nexport function isWithinInterval(date, interval, options) {\n  const time = +toDate(date, options?.in);\n  const [startTime, endTime] = [\n    +toDate(interval.start, options?.in),\n    +toDate(interval.end, options?.in),\n  ].sort((a, b) => a - b);\n\n  return time >= startTime && time <= endTime;\n}\n\n// Fallback for modularized imports:\nexport default isWithinInterval;\n"],"names":[],"mappings":";;;;;;AAAA;;AA8CO,SAAS,iBAAiB,IAAI,EAAE,QAAQ,EAAE,OAAO;IACtD,MAAM,OAAO,CAAC,IAAA,+IAAM,EAAC,MAAM,SAAS;IACpC,MAAM,CAAC,WAAW,QAAQ,GAAG;QAC3B,CAAC,IAAA,+IAAM,EAAC,SAAS,KAAK,EAAE,SAAS;QACjC,CAAC,IAAA,+IAAM,EAAC,SAAS,GAAG,EAAE,SAAS;KAChC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI;IAErB,OAAO,QAAQ,aAAa,QAAQ;AACtC;uCAGe","ignoreList":[0]}}]
}