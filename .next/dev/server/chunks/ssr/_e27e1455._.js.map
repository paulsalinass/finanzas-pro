{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/utils/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\r\nimport { cookies } from 'next/headers'\r\n\r\nexport async function createClient() {\r\n    const cookieStore = await cookies()\r\n\r\n    return createServerClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n        {\r\n            cookies: {\r\n                getAll() {\r\n                    return cookieStore.getAll()\r\n                },\r\n                setAll(cookiesToSet) {\r\n                    try {\r\n                        cookiesToSet.forEach(({ name, value, options }) =>\r\n                            cookieStore.set(name, value, options)\r\n                        )\r\n                    } catch {\r\n                        // The `setAll` method was called from a Server Component.\r\n                        // This can be ignored if you have middleware refreshing\r\n                        // user sessions.\r\n                    }\r\n                },\r\n            },\r\n        }\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IAClB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,OAAO,IAAA,+LAAkB,sUAGrB;QACI,SAAS;YACL;gBACI,OAAO,YAAY,MAAM;YAC7B;YACA,QAAO,YAAY;gBACf,IAAI;oBACA,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC1C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAErC,EAAE,OAAM;gBACJ,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACrB;YACJ;QACJ;IACJ;AAER"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/app/actions/book-actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { createClient } from \"@/utils/supabase/server\"\r\nimport { revalidatePath } from \"next/cache\"\r\nimport { redirect } from \"next/navigation\"\r\n\r\nexport type BookFormState = {\r\n    message?: string\r\n    errors?: {\r\n        [key: string]: string[]\r\n    }\r\n}\r\n\r\nexport async function createBook(prevState: BookFormState, formData: FormData) {\r\n    const supabase = await createClient()\r\n\r\n    const { data: { user }, error: authError } = await supabase.auth.getUser()\r\n\r\n    if (authError || !user) {\r\n        return { message: 'Error: No autorizado. Por favor inicia sesi√≥n.' }\r\n    }\r\n\r\n    const name = formData.get('name') as string\r\n    const description = formData.get('description') as string\r\n    const currency = formData.get('currency') as string\r\n    const periodStart = formData.get('periodStart') as string\r\n    const fiscalClose = formData.get('fiscalClose') as string\r\n\r\n    // Appearance\r\n    const color = formData.get('color') as string || 'blue'\r\n    const icon = formData.get('icon') as string || 'Wallet'\r\n\r\n    // Visualization settings\r\n    const hideCents = formData.get('hideCents') === 'on'\r\n    const groupSmall = formData.get('groupSmall') === 'on'\r\n    const autoDark = formData.get('autoDark') === 'on'\r\n\r\n    // Notification settings\r\n    const weeklySummary = formData.get('weeklySummary') === 'on'\r\n    const budgetAlerts = formData.get('budgetAlerts') === 'on'\r\n    const paymentReminders = formData.get('paymentReminders') === 'on'\r\n\r\n    const { data, error } = await supabase.from('books').insert({\r\n        user_id: user.id,\r\n        name,\r\n        short_description: description,\r\n        currency,\r\n        color,\r\n        icon,\r\n        period_start: periodStart || null,\r\n        fiscal_close_month: fiscalClose,\r\n        visualization_settings: {\r\n            hide_cents: hideCents,\r\n            group_small_categories: groupSmall,\r\n            auto_dark_mode: autoDark\r\n        },\r\n        notification_settings: {\r\n            weekly_summary: weeklySummary,\r\n            budget_alerts: budgetAlerts,\r\n            payment_reminders: paymentReminders\r\n        }\r\n    }).select().single()\r\n\r\n    if (error) {\r\n        return { message: 'Error creating book: ' + error.message }\r\n    }\r\n\r\n    if (data) {\r\n        revalidatePath('/dashboard')\r\n        return { message: 'Libro creado correctamente', data: data }\r\n    }\r\n\r\n    return { message: 'Error desconocido al crear el libro' }\r\n}\r\n\r\nexport async function updateBook(id: string, prevState: BookFormState, formData: FormData) {\r\n    const supabase = await createClient()\r\n\r\n    const name = formData.get('name') as string\r\n    const description = formData.get('description') as string\r\n    const currency = formData.get('currency') as string\r\n    const periodStart = formData.get('periodStart') as string\r\n    const fiscalClose = formData.get('fiscalClose') as string\r\n\r\n    // Appearance\r\n    const color = formData.get('color') as string || 'blue'\r\n    const icon = formData.get('icon') as string || 'Wallet'\r\n\r\n    // Visualization settings\r\n    const hideCents = formData.get('hideCents') === 'on'\r\n    const groupSmall = formData.get('groupSmall') === 'on'\r\n    const autoDark = formData.get('autoDark') === 'on'\r\n\r\n    // Notification settings\r\n    const weeklySummary = formData.get('weeklySummary') === 'on'\r\n    const budgetAlerts = formData.get('budgetAlerts') === 'on'\r\n    const paymentReminders = formData.get('paymentReminders') === 'on'\r\n\r\n    const { error } = await supabase.from('books').update({\r\n        name,\r\n        short_description: description,\r\n        currency,\r\n        color,\r\n        icon,\r\n        period_start: periodStart || null,\r\n        fiscal_close_month: fiscalClose,\r\n        visualization_settings: {\r\n            hide_cents: hideCents,\r\n            group_small_categories: groupSmall,\r\n            auto_dark_mode: autoDark\r\n        },\r\n        notification_settings: {\r\n            weekly_summary: weeklySummary,\r\n            budget_alerts: budgetAlerts,\r\n            payment_reminders: paymentReminders\r\n        }\r\n    }).eq('id', id)\r\n\r\n    if (error) {\r\n        return { message: 'Error updating book: ' + error.message }\r\n    }\r\n\r\n    revalidatePath(`/books/${id}/settings`)\r\n    return { message: 'Libro actualizado correctamente' }\r\n}\r\n\r\nexport async function deleteBook(id: string) {\r\n    const supabase = await createClient()\r\n    const { error } = await supabase.from('books').delete().eq('id', id)\r\n\r\n    if (error) {\r\n        throw new Error(error.message)\r\n    }\r\n\r\n    revalidatePath('/dashboard')\r\n    redirect('/dashboard')\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/.next-internal/server/app/%28dashboard%29/books/create/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {createBook as '6095f0c14631a054e1fcd79cfd112a6245dfe25f6d'} from 'ACTIONS_MODULE0'\nexport {updateBook as '70063ef086deaa73ce98203c3b48b46dddf6c2ed0b'} from 'ACTIONS_MODULE0'\nexport {deleteBook as '40e45e70d015f84a65d26dca3e235a6efb164dd243'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}