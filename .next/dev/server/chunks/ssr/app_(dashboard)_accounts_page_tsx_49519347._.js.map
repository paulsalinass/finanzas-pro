{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/PD%20-%20255%20SSD/Cio/Proyectos/Internos/Apps/finanzas-pro/app/%28dashboard%29/accounts/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useMemo } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useFinance } from '@/context/FinanceContext';\nimport { LineChart, Line, ResponsiveContainer, AreaChart, Area } from 'recharts';\nimport { MoneyDisplay } from '@/components/MoneyDisplay';\n\nexport default function Accounts() {\n    const router = useRouter();\n    const { accounts, totalBalance, ledgers, activeBookId, addAccount, updateAccount, deleteAccount, transactions } = useFinance();\n\n    // Modal & Form State\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [editingId, setEditingId] = useState<string | null>(null);\n\n    const [accountName, setAccountName] = useState('');\n    const [initialBalance, setInitialBalance] = useState('');\n    const [accountType, setAccountType] = useState('cash');\n    const [labelColor, setLabelColor] = useState('blue');\n\n    // Enhanced Fields\n    const [selectedCurrency, setSelectedCurrency] = useState('PEN');\n    const [isDefault, setIsDefault] = useState(false);\n\n    // Credit Card Specifics\n    const [cardNetwork, setCardNetwork] = useState('VISA');\n    const [lastFour, setLastFour] = useState('');\n    const [cutoffDay, setCutoffDay] = useState('');\n    const [payDay, setPayDay] = useState('');\n    const [creditLimit, setCreditLimit] = useState('');\n    const [availableCredit, setAvailableCredit] = useState('');\n    const [autoBilling, setAutoBilling] = useState(false);\n\n    // Delete Modal State\n    const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n    const [accountToDelete, setAccountToDelete] = useState<any>(null);\n\n    const resetForm = () => {\n        setEditingId(null);\n        setAccountName('');\n        setInitialBalance('');\n        setAccountType('cash');\n        setLabelColor('blue');\n        setSelectedCurrency('PEN');\n        setIsDefault(false);\n        setCardNetwork('VISA');\n        setLastFour('');\n        setCutoffDay('');\n        setPayDay('');\n        setCreditLimit('');\n        setAvailableCredit('');\n        setAutoBilling(false);\n    };\n\n    const openCreateModal = () => {\n        resetForm();\n        setIsModalOpen(true);\n    };\n\n    const handleEdit = (acc: any) => {\n        setEditingId(acc.id);\n        setAccountName(acc.name);\n        setInitialBalance(acc.balance.toString());\n        setAccountType(acc.type.toLowerCase() === 'credit' ? 'credit' : acc.type.toLowerCase());\n        setLabelColor(acc.color || 'blue');\n        setSelectedCurrency(acc.currency || 'PEN');\n        setIsDefault(acc.is_default || false);\n\n        // Credit fields\n        if (acc.type === 'CREDIT') {\n            setCardNetwork(acc.network || 'VISA');\n            setLastFour(acc.last_four || '');\n            setCutoffDay(acc.cutoff_day || '');\n            setPayDay(acc.pay_day || '');\n            setCreditLimit(acc.credit_limit || '');\n            setAvailableCredit(acc.available_credit || '');\n            setAutoBilling(acc.auto_pay || false);\n        }\n\n        setIsModalOpen(true);\n    };\n\n    const handleDeleteClick = (acc: any) => {\n        setAccountToDelete(acc);\n        setIsDeleteModalOpen(true);\n    };\n\n    const confirmDelete = async () => {\n        if (accountToDelete) {\n            await deleteAccount(accountToDelete.id);\n            setIsDeleteModalOpen(false);\n            setAccountToDelete(null);\n        }\n    };\n\n    const handleSaveAccount = async () => {\n        if (!accountName) return;\n\n        const accountData: any = {\n            name: accountName,\n            balance: parseFloat(initialBalance) || 0,\n            type: accountType.toUpperCase(),\n            currency: selectedCurrency,\n            isDefault,\n            network: cardNetwork,\n            cutoffDay: parseInt(cutoffDay),\n            payDay: parseInt(payDay),\n            creditLimit: parseFloat(creditLimit),\n            availableCredit: parseFloat(availableCredit),\n            autoPay: autoBilling,\n            lastFour: accountType === 'credit' ? lastFour : undefined\n        };\n\n        if (editingId) {\n            await updateAccount(editingId, accountData);\n        } else {\n            await addAccount(accountData);\n        }\n\n        setIsModalOpen(false);\n        resetForm();\n    };\n\n    // Dropdown Component Helper\n    const AccountActions = ({ account }: { account: any }) => {\n        const [isOpen, setIsOpen] = useState(false);\n        return (\n            <div className=\"relative z-50\">\n                <button\n                    onClick={(e) => {\n                        e.stopPropagation();\n                        setIsOpen(!isOpen);\n                    }}\n                    onBlur={() => setTimeout(() => setIsOpen(false), 200)}\n                    className=\"text-slate-300 hover:text-slate-500 transition-colors p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800\"\n                >\n                    <span className=\"material-symbols-outlined\">more_horiz</span>\n                </button>\n                {isOpen && (\n                    <div className=\"absolute right-0 top-8 w-32 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden z-[100] animate-scale-in origin-top-right\">\n                        <button\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                handleEdit(account);\n                                setIsOpen(false);\n                            }}\n                            className=\"w-full text-left px-4 py-2.5 text-xs font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2\"\n                        >\n                            <span className=\"material-symbols-outlined text-[16px]\">edit</span>\n                            Editar\n                        </button>\n                        <button\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                handleDeleteClick(account);\n                                setIsOpen(false);\n                            }}\n                            className=\"w-full text-left px-4 py-2.5 text-xs font-bold text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 border-t border-slate-100 dark:border-slate-700\"\n                        >\n                            <span className=\"material-symbols-outlined text-[16px]\">delete</span>\n                            Eliminar\n                        </button>\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    const currencySymbol = useMemo(() => {\n        const curr = ledgers.find(l => l.id === activeBookId)?.currency || 'PEN';\n        return curr === 'PEN' ? 'S/' : (curr === 'USD' ? '$' : curr);\n    }, [ledgers, activeBookId]);\n\n    // Calcular métricas para el resumen\n    const totalAssets = accounts\n        .filter(acc => acc.type !== 'CREDIT')\n        .reduce((sum, acc) => sum + acc.balance, 0);\n\n    const totalLiabilities = accounts\n        .filter(acc => acc.type === 'CREDIT')\n        .reduce((sum, acc) => sum + acc.balance, 0);\n\n    // User requested Net Worth to be ONLY Cash + Banks (Assets), ignoring debt.\n    const netWorth = totalAssets;\n\n    // Calculate Monthly Change (Income - Expenses for current month)\n    const currentYear = new Date().getFullYear();\n    const currentMonth = new Date().getMonth();\n\n    const monthlyTransactions = transactions.filter(t => {\n        const d = new Date(t.date);\n        return d.getFullYear() === currentYear && d.getMonth() === currentMonth;\n    });\n\n    const monthlyIncome = monthlyTransactions\n        .filter(t => t.type === 'INCOME')\n        .reduce((sum, t) => sum + t.amount, 0);\n\n    const monthlyExpense = monthlyTransactions\n        .filter(t => t.type === 'EXPENSE')\n        .reduce((sum, t) => sum + t.amount, 0);\n\n    const monthlyChange = monthlyIncome - monthlyExpense;\n    const isPositiveChange = monthlyChange >= 0;\n\n    const accountTypes = [\n        { id: 'cash', label: 'Efectivo', icon: 'payments' },\n        { id: 'bank', label: 'Banco', icon: 'account_balance' },\n        { id: 'credit', label: 'Tarjeta', icon: 'credit_card' },\n        { id: 'investment', label: 'Inversión', icon: 'trending_up' },\n        { id: 'other', label: 'Otro', icon: 'category' },\n    ];\n\n    const colors = [\n        { id: 'blue', hex: '#307de8' },\n        { id: 'green', hex: '#10b981' },\n        { id: 'amber', hex: '#f59e0b' },\n        { id: 'red', hex: '#ef4444' },\n        { id: 'purple', hex: '#8b5cf6' },\n        { id: 'pink', hex: '#ec4899' },\n        { id: 'gray', hex: '#6b7280' },\n    ];\n\n    // Mock data for sparklines\n    const mockTrendData = [\n        { value: 100 }, { value: 110 }, { value: 105 }, { value: 125 }, { value: 120 }, { value: 140 }, { value: 135 }\n    ];\n    const mockTrendDataStable = [\n        { value: 100 }, { value: 102 }, { value: 101 }, { value: 103 }, { value: 102 }, { value: 104 }, { value: 103 }\n    ];\n\n    const assetsList = accounts.filter(acc => acc.type !== 'CREDIT');\n    const liabilitiesList = accounts.filter(acc => acc.type === 'CREDIT');\n\n    return (\n        <div className=\"flex-1 flex flex-col h-full overflow-y-auto overflow-x-hidden relative scrollbar-hide pb-24\">\n            {/* Background Decor */}\n            <div className=\"fixed inset-0 -z-10 pointer-events-none opacity-40 dark:opacity-10\">\n                <div className=\"absolute top-0 left-0 w-[500px] h-[500px] bg-blue-100 rounded-full blur-[120px]\"></div>\n                <div className=\"absolute bottom-0 right-0 w-[500px] h-[500px] bg-indigo-100 rounded-full blur-[120px]\"></div>\n            </div>\n\n            <div className=\"container mx-auto max-w-[1200px] p-6 lg:p-10 flex flex-col gap-8\">\n                {/* Page Header */}\n                <header className=\"flex flex-col md:flex-row md:items-end justify-between gap-6 animate-fade-in\">\n                    <div className=\"flex flex-col gap-1\">\n                        <h1 className=\"text-3xl lg:text-4xl font-black tracking-tight text-[#111418] dark:text-white\">Mis Cuentas</h1>\n                        <p className=\"text-gray-500 dark:text-gray-400 text-lg font-normal capitalize\">\n                            Visión general de tu liquidez y patrimonio.\n                        </p>\n                    </div>\n                    <div className=\"flex flex-col sm:flex-row gap-3 w-full md:w-auto\">\n                        <button\n                            onClick={openCreateModal}\n                            className=\"flex items-center justify-center gap-2 bg-primary hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-xl shadow-lg shadow-blue-500/30 transition-all active:scale-95 h-12\"\n                        >\n                            <span className=\"material-symbols-outlined text-[20px]\">add_circle</span>\n                            <span className=\"text-sm\">Nueva Cuenta</span>\n                        </button>\n                    </div>\n                </header>\n\n                {/* Summary Metrics */}\n                <section className=\"grid grid-cols-1 md:grid-cols-3 gap-5 animate-fade-in\" style={{ animationDelay: '0.1s' }}>\n                    {/* Patrimonio Neto */}\n                    <div className=\"glass-card p-5 rounded-3xl flex flex-col justify-between relative overflow-hidden group border border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900/50 min-h-[140px]\">\n                        <div className=\"flex flex-col gap-1 z-10\">\n                            <p className=\"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest\">Patrimonio Neto Total</p>\n                            <h3 className=\"text-3xl font-bold text-slate-900 dark:text-white tracking-tight\">\n                                <span className=\"text-lg align-baseline mr-0.5\">{currencySymbol}</span>\n                                {netWorth.toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                            </h3>\n                        </div>\n                        <div className=\"flex items-center gap-2 mt-3 z-10\">\n                            <div className=\"bg-emerald-50 dark:bg-emerald-900/20 px-2.5 py-1 rounded-full flex items-center gap-1\">\n                                <span className=\"material-symbols-outlined text-emerald-600 dark:text-emerald-400 text-[14px]\">trending_up</span>\n                                <span className=\"text-emerald-700 dark:text-emerald-400 text-[11px] font-bold\">+2.5%</span>\n                            </div>\n                            <span className=\"text-slate-400 dark:text-slate-500 text-[11px] font-medium\">vs mes anterior</span>\n                        </div>\n                        {/* Decorative Icon */}\n                        <div className=\"absolute top-3 right-3 opacity-5 dark:opacity-10 scale-100\">\n                            <span className=\"material-symbols-outlined text-7xl text-indigo-500\">account_balance</span>\n                        </div>\n                    </div>\n\n                    {/* Cambio Mensual */}\n                    <div className=\"glass-card p-5 rounded-3xl flex flex-col justify-between relative overflow-hidden group border border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900/50 min-h-[140px]\">\n                        <div className=\"flex flex-col gap-1 z-10\">\n                            <p className=\"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest\">Cambio Mensual</p>\n                            <h3 className={`text-3xl font-bold tracking-tight ${isPositiveChange ? 'text-emerald-500' : 'text-slate-900 dark:text-white'}`}>\n                                {isPositiveChange ? '+' : ''}\n                                <span className=\"text-lg align-baseline mr-0.5\">{currencySymbol}</span>\n                                {monthlyChange.toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                            </h3>\n                        </div>\n                        <div className=\"h-10 w-full mt-2\">\n                            {/* Simple visual cue or sparkline could go here, keeping existing simple line for now or removing if irrelevant */}\n                            <ResponsiveContainer width=\"100%\" height=\"100%\">\n                                <LineChart data={mockTrendData}>\n                                    <Line type=\"monotone\" dataKey=\"value\" stroke={isPositiveChange ? \"#10b981\" : \"#f59e0b\"} strokeWidth={2} dot={false} />\n                                </LineChart>\n                            </ResponsiveContainer>\n                        </div>\n                    </div>\n\n                    {/* Deuda Total */}\n                    <div className=\"glass-card p-5 rounded-3xl flex flex-col justify-between relative overflow-hidden group border border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900/50 min-h-[140px]\">\n                        <div className=\"flex flex-col gap-1 z-10\">\n                            <p className=\"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest\">Deuda Total</p>\n                            <div className=\"flex items-center gap-3\">\n                                <h3 className=\"text-3xl font-bold text-slate-900 dark:text-white tracking-tight\">\n                                    <span className=\"text-lg align-baseline mr-0.5\">{currencySymbol}</span>\n                                    {Math.abs(totalLiabilities).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                                </h3>\n                            </div>\n                        </div>\n                        <div className=\"flex items-center gap-2 mt-3 z-10\">\n                            <span className=\"material-symbols-outlined text-slate-400 text-[16px]\">check_circle</span>\n                            <span className=\"text-slate-500 dark:text-slate-400 text-xs font-medium\">Pagos al día</span>\n                        </div>\n                    </div>\n                </section>\n\n                {/* Assets Section */}\n                <section className=\"animate-fade-in\" style={{ animationDelay: '0.2s' }}>\n                    <div className=\"flex items-center justify-between mb-4 px-1\">\n                        <h3 className=\"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2\">\n                            <div className=\"size-8 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center justify-center\">\n                                <span className=\"material-symbols-outlined text-[20px]\">account_balance_wallet</span>\n                            </div>\n                            Efectivo y Bancos\n                        </h3>\n                        <span className=\"text-xs font-bold text-slate-500 dark:text-slate-400 tabular-nums bg-slate-100 dark:bg-slate-800/50 px-3 py-1 rounded-full\">\n                            {currencySymbol}{totalAssets.toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                        </span>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5\">\n                        {assetsList.map((acc, idx) => (\n                            <div key={acc.id} onClick={() => router.push(`/accounts?id=${acc.id}`)} className=\"glass-card !overflow-visible p-5 rounded-3xl flex flex-col gap-5 cursor-pointer hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900/50 group\">\n                                <div className=\"flex items-start justify-between\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <div className=\"size-10 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-700 flex items-center justify-center text-slate-700 dark:text-slate-200\">\n                                            <span className=\"material-symbols-outlined text-[20px]\">\n                                                {acc.type === 'CASH' ? 'payments' : 'account_balance'}\n                                            </span>\n                                        </div>\n                                        <div>\n                                            <h4 className=\"text-sm font-bold text-slate-900 dark:text-white\">{acc.name}</h4>\n                                            <p className=\"text-[10px] font-semibold text-slate-400 dark:text-slate-500 uppercase tracking-wide mt-0.5\">**** {acc.lastFour || '----'}</p>\n                                        </div>\n                                    </div>\n                                    <div onClick={(e) => e.stopPropagation()}>\n                                        <AccountActions account={acc} />\n                                    </div>\n                                </div>\n\n                                <div>\n                                    <p className=\"text-2xl font-bold text-slate-900 dark:text-white tracking-tight\">\n                                        <span className=\"text-sm align-baseline mr-0.5\">{currencySymbol}</span>\n                                        {acc.balance.toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                                    </p>\n                                </div>\n\n                                <div className=\"flex items-end justify-between mt-auto\">\n                                    <div className=\"w-20 h-8\">\n                                        <ResponsiveContainer width=\"100%\" height=\"100%\">\n                                            <LineChart data={idx % 2 === 0 ? mockTrendData : mockTrendDataStable}>\n                                                <Line type=\"monotone\" dataKey=\"value\" stroke={idx % 2 === 0 ? \"#10b981\" : \"#94a3b8\"} strokeWidth={2} dot={false} />\n                                            </LineChart>\n                                        </ResponsiveContainer>\n                                        <p className=\"text-[9px] font-bold text-slate-400 uppercase tracking-widest mt-0.5\">7 Días</p>\n                                    </div>\n                                    <span className={`px-2 py-0.5 rounded-lg text-[10px] font-bold ${idx % 2 === 0 ? 'bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400' : 'bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400'}`}>\n                                        {idx % 2 === 0 ? 'Estable' : 'Sin cambios'}\n                                    </span>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </section>\n\n                {/* Liabilities Section */}\n                <section className=\"animate-fade-in\" style={{ animationDelay: '0.3s' }}>\n                    <div className=\"flex items-center justify-between mb-4 px-1\">\n                        <h3 className=\"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2\">\n                            <div className=\"size-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center\">\n                                <span className=\"material-symbols-outlined text-[20px]\">credit_card</span>\n                            </div>\n                            Tarjetas de Crédito\n                        </h3>\n                        <span className=\"text-xs font-bold text-slate-500 dark:text-slate-400 tabular-nums bg-slate-100 dark:bg-slate-800/50 px-3 py-1 rounded-full\">\n                            -{currencySymbol}{Math.abs(totalLiabilities).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                        </span>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5\">\n                        {liabilitiesList.map((acc) => (\n                            <div key={acc.id} className=\"glass-card !overflow-visible p-5 rounded-3xl flex flex-col gap-5 cursor-pointer hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900/50 group\">\n                                <div className=\"flex items-start justify-between\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <div className=\"size-10 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800 flex items-center justify-center text-indigo-600 dark:text-indigo-400\">\n                                            <span className=\"font-black text-[8px] tracking-tighter\">VISA</span>\n                                        </div>\n                                        <div>\n                                            <h4 className=\"text-sm font-bold text-slate-900 dark:text-white\">{acc.name}</h4>\n                                            <p className=\"text-[10px] font-semibold text-slate-400 dark:text-slate-500 uppercase tracking-wide mt-0.5\">**** {acc.lastFour || '----'}</p>\n                                        </div>\n                                    </div>\n                                    <div onClick={(e) => e.stopPropagation()}>\n                                        <AccountActions account={acc} />\n                                    </div>\n                                </div>\n\n                                <div>\n                                    <p className=\"text-2xl font-bold text-slate-900 dark:text-white tracking-tight\">\n                                        -<span className=\"text-sm align-baseline mr-0.5\">{currencySymbol}</span>\n                                        {Math.abs(acc.balance).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                                    </p>\n                                    <p className=\"text-[11px] text-slate-400 font-medium mt-1\">Límite disponible: {currencySymbol}4,550.00</p>\n                                </div>\n\n                                <div className=\"mt-auto pt-2\">\n                                    <div className=\"flex justify-between text-[9px] font-bold text-slate-400 uppercase tracking-widest mb-1.5\">\n                                        <span>Uso del crédito</span>\n                                        <span>9%</span>\n                                    </div>\n                                    <div className=\"h-1.5 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden\">\n                                        <div className=\"h-full bg-indigo-500 w-[9%] rounded-full\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </section>\n            </div>\n\n            {/* ACCOUNT DETAILS MODAL */}\n            {isModalOpen && (\n                <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in group/modal\">\n                    {/* Modal Container: Centered in visible area (approx) */}\n                    <main className=\"w-full max-w-2xl bg-white dark:bg-[#1e293b] rounded-[2rem] shadow-2xl flex flex-col max-h-[90vh] overflow-hidden animate-scale-in relative border border-slate-200 dark:border-slate-700\">\n\n                        {/* Modal Header */}\n                        <header className=\"flex-none px-8 py-6 flex justify-between items-start border-b border-slate-100 dark:border-slate-800\">\n                            <div className=\"flex flex-col gap-1\">\n                                <h2 className=\"text-xl font-bold text-slate-900 dark:text-white\">{editingId ? 'Editar Cuenta' : 'Detalles de la Cuenta'}</h2>\n                                <p className=\"text-slate-500 dark:text-slate-400 text-sm\">{editingId ? 'Modifica los datos de la cuenta.' : 'Configura los detalles de tu nueva cuenta.'}</p>\n                            </div>\n                            <button\n                                onClick={() => setIsModalOpen(false)}\n                                className=\"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors bg-slate-50 dark:bg-slate-800 p-2 rounded-full\"\n                            >\n                                <span className=\"material-symbols-outlined text-xl\">close</span>\n                            </button>\n                        </header>\n\n                        {/* Modal Content */}\n                        <div className=\"flex-1 overflow-y-auto px-8 py-6 flex flex-col gap-8 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700\">\n\n                            {/* Account Type Selection */}\n                            <div className=\"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-5 gap-3\">\n                                {accountTypes.map(type => (\n                                    <button\n                                        key={type.id}\n                                        onClick={() => setAccountType(type.id)}\n                                        className={`p-3 flex flex-col items-center justify-center gap-2 rounded-2xl border transition-all duration-200 min-h-[80px] ${accountType === type.id\n                                            ? 'border-primary bg-primary/5 ring-1 ring-primary'\n                                            : 'border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600 bg-white dark:bg-slate-800'\n                                            }`}\n                                    >\n                                        <span className={`material-symbols-outlined text-2xl ${accountType === type.id ? 'text-primary' : 'text-slate-500'}`}>\n                                            {type.icon}\n                                        </span>\n                                        <span className={`text-[10px] font-bold uppercase tracking-tight ${accountType === type.id ? 'text-primary' : 'text-slate-600 dark:text-slate-400'}`}>\n                                            {type.label}\n                                        </span>\n                                    </button>\n                                ))}\n                            </div>\n\n                            {/* Main Info */}\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n                                <div className=\"space-y-2\">\n                                    <label className=\"text-xs font-bold text-slate-700 dark:text-slate-300 ml-1\">Nombre</label>\n                                    <div className=\"flex items-center rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/50 h-12 px-4 focus-within:ring-2 focus-within:ring-primary/20 focus-within:border-primary transition-all\">\n                                        <input\n                                            value={accountName}\n                                            onChange={(e) => setAccountName(e.target.value)}\n                                            className=\"w-full bg-transparent border-none outline-none text-slate-900 dark:text-white placeholder:text-slate-400 text-sm font-semibold\"\n                                            placeholder=\"Ej. BCP Ahorros\"\n                                        />\n                                    </div>\n                                </div>\n                                <div className=\"space-y-2\">\n                                    <label className=\"text-xs font-bold text-slate-700 dark:text-slate-300 ml-1\">Divisa</label>\n                                    <div className=\"flex gap-2\">\n                                        {['PEN', 'USD', 'MXN', 'EUR'].map(curr => (\n                                            <button\n                                                key={curr}\n                                                onClick={() => setSelectedCurrency(curr)}\n                                                className={`flex-1 h-12 rounded-xl border text-xs font-bold transition-all ${selectedCurrency === curr\n                                                    ? 'bg-slate-900 text-white border-slate-900 dark:bg-white dark:text-slate-900'\n                                                    : 'bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500 hover:border-slate-300'}`}\n                                            >\n                                                {curr}\n                                            </button>\n                                        ))}\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Balance & Default */}\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5 items-center\">\n                                <div className=\"space-y-2\">\n                                    <label className=\"text-xs font-bold text-slate-700 dark:text-slate-300 ml-1\">Saldo Inicial</label>\n                                    <div className=\"flex items-center rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 h-12 px-4 focus-within:ring-2 focus-within:ring-primary/20 focus-within:border-primary transition-all\">\n                                        <span className=\"text-slate-400 font-bold mr-2 text-xs\">{selectedCurrency}</span>\n                                        <input\n                                            value={initialBalance}\n                                            onChange={(e) => setInitialBalance(e.target.value)}\n                                            className=\"w-full bg-transparent border-none outline-none text-slate-900 dark:text-white placeholder:text-slate-400 text-lg font-bold\"\n                                            placeholder=\"0.00\"\n                                            type=\"number\"\n                                        />\n                                    </div>\n                                </div>\n                                <div className=\"flex items-center gap-3 p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/50 mt-6\">\n                                    <div\n                                        onClick={() => setIsDefault(!isDefault)}\n                                        className={`w-10 h-6 rounded-full p-1 cursor-pointer transition-colors ${isDefault ? 'bg-primary' : 'bg-slate-300 dark:bg-slate-600'}`}\n                                    >\n                                        <div className={`size-4 bg-white rounded-full shadow-sm transition-transform ${isDefault ? 'translate-x-4' : ''}`} />\n                                    </div>\n                                    <span className=\"text-xs font-bold text-slate-600 dark:text-slate-300 select-none cursor-pointer\" onClick={() => setIsDefault(!isDefault)}>Cuenta Predeterminada</span>\n                                </div>\n                            </div>\n\n                            {/* CREDIT CARD SPECIFIC FIELDS */}\n                            {accountType === 'credit' && (\n                                <div className=\"space-y-6 pt-4 border-t border-slate-100 dark:border-slate-800 animate-slide-down\">\n                                    <div className=\"flex items-center gap-2 mb-2\">\n                                        <span className=\"material-symbols-outlined text-indigo-500\">credit_card_gear</span>\n                                        <h3 className=\"text-sm font-bold text-slate-900 dark:text-white\">Configuración de Tarjeta</h3>\n                                    </div>\n\n                                    {/* Card Network & Last 4 */}\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                        <div className=\"space-y-3\">\n                                            <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wider\">Red de Tarjeta</label>\n                                            <div className=\"flex gap-3 overflow-x-auto pb-2 scrollbar-hide\">\n                                                {['VISA', 'MASTERCARD', 'AMEX', 'DINERS'].map(net => (\n                                                    <button\n                                                        key={net}\n                                                        onClick={() => setCardNetwork(net)}\n                                                        className={`px-4 py-2 rounded-lg border text-xs font-bold whitespace-nowrap transition-all ${cardNetwork === net\n                                                            ? 'bg-indigo-50 border-indigo-200 text-indigo-700 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400'\n                                                            : 'bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500'}`}\n                                                    >\n                                                        {net}\n                                                    </button>\n                                                ))}\n                                            </div>\n                                        </div>\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-xs font-bold text-slate-700 dark:text-slate-300\">Últimos 4 Dígitos</label>\n                                            <div className=\"flex items-center rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-3 h-10\">\n                                                <span className=\"text-slate-400 text-sm mr-2\">•••• •••• ••••</span>\n                                                <input\n                                                    value={lastFour}\n                                                    onChange={(e) => {\n                                                        const val = e.target.value.replace(/\\D/g, '').slice(0, 4);\n                                                        setLastFour(val);\n                                                    }}\n                                                    className=\"w-full bg-transparent border-none outline-none text-sm font-semibold text-slate-900 dark:text-white\"\n                                                    placeholder=\"4679\"\n                                                    type=\"text\"\n                                                />\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    {/* Credit Lines */}\n                                    <div className=\"grid grid-cols-2 gap-4\">\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-xs font-bold text-slate-700 dark:text-slate-300\">Línea Total</label>\n                                            <div className=\"flex items-center rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-3 h-10\">\n                                                <span className=\"text-slate-500 text-xs font-bold mr-2\">{selectedCurrency}</span>\n                                                <input\n                                                    value={creditLimit}\n                                                    onChange={(e) => setCreditLimit(e.target.value)}\n                                                    className=\"w-full bg-transparent border-none outline-none text-sm font-semibold text-slate-900 dark:text-white placeholder:text-slate-400\"\n                                                    placeholder=\"0.00\"\n                                                    type=\"number\"\n                                                />\n                                            </div>\n                                        </div>\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-xs font-bold text-slate-700 dark:text-slate-300\">Línea Disponible</label>\n                                            <div className=\"flex items-center rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-3 h-10\">\n                                                <span className=\"text-slate-500 text-xs font-bold mr-2\">{selectedCurrency}</span>\n                                                <input\n                                                    value={availableCredit}\n                                                    onChange={(e) => setAvailableCredit(e.target.value)}\n                                                    className=\"w-full bg-transparent border-none outline-none text-sm font-semibold text-slate-900 dark:text-white placeholder:text-slate-400\"\n                                                    placeholder=\"0.00\"\n                                                    type=\"number\"\n                                                />\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    {/* Dates */}\n                                    <div className=\"grid grid-cols-2 gap-4\">\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-xs font-bold text-slate-700 dark:text-slate-300\">Día de Cierre</label>\n                                            <select\n                                                value={cutoffDay}\n                                                onChange={(e) => setCutoffDay(e.target.value)}\n                                                className=\"w-full h-10 px-3 rounded-lg bg-slate-50 dark:bg-slate-800 border-none text-xs font-medium appearance-none cursor-pointer\"\n                                            >\n                                                <option value=\"\">Seleccionar día</option>\n                                                {[...Array(31)].map((_, i) => (\n                                                    <option key={i} value={i + 1}>Día {i + 1}</option>\n                                                ))}\n                                            </select>\n                                        </div>\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-xs font-bold text-slate-700 dark:text-slate-300\">Día de Pago</label>\n                                            <select\n                                                value={payDay}\n                                                onChange={(e) => setPayDay(e.target.value)}\n                                                className=\"w-full h-10 px-3 rounded-lg bg-slate-50 dark:bg-slate-800 border-none text-xs font-medium appearance-none cursor-pointer\"\n                                            >\n                                                <option value=\"\">Seleccionar día</option>\n                                                {[...Array(31)].map((_, i) => (\n                                                    <option key={i} value={i + 1}>Día {i + 1}</option>\n                                                ))}\n                                            </select>\n                                        </div>\n                                    </div>\n\n                                    {/* Auto Billing */}\n                                    <div className=\"flex items-center justify-between p-3 rounded-xl bg-indigo-50/50 dark:bg-indigo-900/10 border border-indigo-100 dark:border-indigo-900/30\">\n                                        <div className=\"flex items-center gap-2\">\n                                            <span className=\"material-symbols-outlined text-indigo-500 text-lg\">autorenew</span>\n                                            <span className=\"text-xs font-bold text-indigo-900 dark:text-indigo-300\">Facturación Automática</span>\n                                        </div>\n                                        <div\n                                            onClick={() => setAutoBilling(!autoBilling)}\n                                            className={`w-9 h-5 rounded-full p-0.5 cursor-pointer transition-colors ${autoBilling ? 'bg-indigo-500' : 'bg-slate-300 dark:bg-slate-600'}`}\n                                        >\n                                            <div className={`size-4 bg-white rounded-full shadow-sm transition-transform ${autoBilling ? 'translate-x-4' : ''}`} />\n                                        </div>\n                                    </div>\n                                </div>\n                            )}\n\n                            {/* Color Selection */}\n                            <div className=\"space-y-3\">\n                                <label className=\"text-xs font-bold text-slate-700 dark:text-slate-300 ml-1\">Color de Etiqueta</label>\n                                <div className=\"flex flex-wrap gap-3\">\n                                    {colors.map(color => (\n                                        <button\n                                            key={color.id}\n                                            onClick={() => setLabelColor(color.id)}\n                                            style={{ backgroundColor: color.hex }}\n                                            className={`size-8 rounded-full transition-transform hover:scale-110 ${labelColor === color.id\n                                                ? 'ring-2 ring-offset-2 ring-blue-500 dark:ring-offset-slate-900 scale-110'\n                                                : ''\n                                                }`}\n                                        />\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Modal Footer */}\n                        <footer className=\"flex-none px-8 py-5 flex justify-end gap-3 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50\">\n                            <button\n                                onClick={() => setIsModalOpen(false)}\n                                className=\"px-5 py-2.5 rounded-xl text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 font-bold text-sm transition-colors\"\n                            >\n                                Cancelar\n                            </button>\n                            <button\n                                onClick={handleSaveAccount}\n                                className=\"px-6 py-2.5 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold text-sm shadow-md shadow-blue-500/20 transition-all flex items-center gap-2 active:scale-95\"\n                            >\n                                <span className=\"material-symbols-outlined text-[18px]\">check</span>\n                                {editingId ? 'Actualizar Cuenta' : 'Guardar Cuenta'}\n                            </button>\n                        </footer>\n                    </main>\n                </div>\n            )}\n\n            {/* DELETE MODAL */}\n            {isDeleteModalOpen && accountToDelete && (\n                <div className=\"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in\">\n                    <div className=\"w-full max-w-sm bg-white dark:bg-[#1e293b] rounded-[2rem] shadow-2xl p-6 animate-scale-in border border-slate-200 dark:border-slate-700\">\n                        <div className=\"flex flex-col items-center gap-4 text-center\">\n                            <div className=\"size-16 rounded-full bg-red-50 dark:bg-red-900/20 flex items-center justify-center mb-2\">\n                                <span className=\"material-symbols-outlined text-3xl text-red-500\">priority_high</span>\n                            </div>\n                            <h3 className=\"text-xl font-bold text-slate-900 dark:text-white\">¿Eliminar cuenta?</h3>\n                            <p className=\"text-slate-500 dark:text-slate-400 text-sm\">\n                                Estás a punto de eliminar <strong>{accountToDelete.name}</strong>. Esta acción no se puede deshacer.\n                            </p>\n                            <div className=\"flex gap-3 w-full mt-4\">\n                                <button\n                                    onClick={() => setIsDeleteModalOpen(false)}\n                                    className=\"flex-1 px-4 py-2.5 rounded-xl text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 font-bold text-sm transition-colors bg-slate-100 dark:bg-slate-800\"\n                                >\n                                    Cancelar\n                                </button>\n                                <button\n                                    onClick={confirmDelete}\n                                    className=\"flex-1 px-4 py-2.5 rounded-xl bg-red-500 hover:bg-red-600 text-white font-bold text-sm shadow-md shadow-red-500/20 transition-all\"\n                                >\n                                    Eliminar\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}