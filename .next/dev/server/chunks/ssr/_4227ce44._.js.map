{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/utils/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\r\nimport { cookies } from 'next/headers'\r\n\r\nexport async function createClient() {\r\n    const cookieStore = await cookies()\r\n\r\n    return createServerClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n        {\r\n            cookies: {\r\n                getAll() {\r\n                    return cookieStore.getAll()\r\n                },\r\n                setAll(cookiesToSet) {\r\n                    try {\r\n                        cookiesToSet.forEach(({ name, value, options }) =>\r\n                            cookieStore.set(name, value, options)\r\n                        )\r\n                    } catch {\r\n                        // The `setAll` method was called from a Server Component.\r\n                        // This can be ignored if you have middleware refreshing\r\n                        // user sessions.\r\n                    }\r\n                },\r\n            },\r\n        }\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IAClB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,OAAO,IAAA,+LAAkB,sUAGrB;QACI,SAAS;YACL;gBACI,OAAO,YAAY,MAAM;YAC7B;YACA,QAAO,YAAY;gBACf,IAAI;oBACA,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC1C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAErC,EAAE,OAAM;gBACJ,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACrB;YACJ;QACJ;IACJ;AAER"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/app/actions/transaction-actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { createClient } from \"@/utils/supabase/server\"\r\nimport { revalidatePath } from \"next/cache\"\r\n\r\nexport async function resetAndSeedTransactions(bookId: string) {\r\n    const supabase = await createClient()\r\n\r\n    // 1. Delete all transactions for this book\r\n    const { error: deleteError } = await supabase.from('transactions').delete().eq('book_id', bookId)\r\n    if (deleteError) return { error: 'Error deleting transactions: ' + deleteError.message }\r\n\r\n    // 2. Fetch available resources\r\n    const { data: categories } = await supabase.from('categories').select('id, name').eq('book_id', bookId)\r\n    const { data: accounts } = await supabase.from('accounts').select('id, name').eq('book_id', bookId)\r\n\r\n    if (!categories || categories.length === 0) return { error: 'No hay categorÃ­as disponibles para crear transacciones.' }\r\n    if (!accounts || accounts.length === 0) return { error: 'No hay cuentas disponibles. Crea una cuenta primero.' }\r\n\r\n    // 3. Generate Data\r\n    const transactions = []\r\n    const now = new Date()\r\n\r\n    // Helper to get random item\r\n    const getRand = (arr: any[]) => arr[Math.floor(Math.random() * arr.length)]\r\n\r\n    // 2 Incomes\r\n    for (let i = 0; i < 2; i++) {\r\n        transactions.push({\r\n            book_id: bookId,\r\n            account_id: getRand(accounts).id,\r\n            category_id: getRand(categories).id,\r\n            amount: Number((Math.random() * 4000 + 500).toFixed(2)), // 500 - 4500\r\n            type: 'INCOME',\r\n            description: `Ingreso de prueba ${i + 1}`,\r\n            occurred_at: new Date(now.getTime() - Math.random() * 1000 * 60 * 60 * 24 * 30).toISOString(), // Random time in last 30 days\r\n        })\r\n    }\r\n\r\n    // 2 Expenses\r\n    for (let i = 0; i < 2; i++) {\r\n        transactions.push({\r\n            book_id: bookId,\r\n            account_id: getRand(accounts).id,\r\n            category_id: getRand(categories).id,\r\n            amount: Number((Math.random() * 200 + 10).toFixed(2)), // 10 - 210\r\n            type: 'EXPENSE',\r\n            description: `Gasto de prueba ${i + 1}`,\r\n            occurred_at: new Date(now.getTime() - Math.random() * 1000 * 60 * 60 * 24 * 30).toISOString(),\r\n        })\r\n    }\r\n\r\n    // 4. Insert\r\n    const { error: insertError } = await supabase.from('transactions').insert(transactions)\r\n\r\n    if (insertError) return { error: 'Error inserting generic data: ' + insertError.message }\r\n\r\n    revalidatePath('/')\r\n    return { success: true }\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;;AAEO,eAAe,yBAAyB,MAAc;IACzD,MAAM,WAAW,MAAM,IAAA,2IAAY;IAEnC,2CAA2C;IAC3C,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,gBAAgB,MAAM,GAAG,EAAE,CAAC,WAAW;IAC1F,IAAI,aAAa,OAAO;QAAE,OAAO,kCAAkC,YAAY,OAAO;IAAC;IAEvF,+BAA+B;IAC/B,MAAM,EAAE,MAAM,UAAU,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,cAAc,MAAM,CAAC,YAAY,EAAE,CAAC,WAAW;IAChG,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC,YAAY,EAAE,CAAC,WAAW;IAE5F,IAAI,CAAC,cAAc,WAAW,MAAM,KAAK,GAAG,OAAO;QAAE,OAAO;IAA0D;IACtH,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,GAAG,OAAO;QAAE,OAAO;IAAuD;IAE/G,mBAAmB;IACnB,MAAM,eAAe,EAAE;IACvB,MAAM,MAAM,IAAI;IAEhB,4BAA4B;IAC5B,MAAM,UAAU,CAAC,MAAe,GAAG,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,IAAI,MAAM,EAAE;IAE3E,YAAY;IACZ,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;QACxB,aAAa,IAAI,CAAC;YACd,SAAS;YACT,YAAY,QAAQ,UAAU,EAAE;YAChC,aAAa,QAAQ,YAAY,EAAE;YACnC,QAAQ,OAAO,CAAC,KAAK,MAAM,KAAK,OAAO,GAAG,EAAE,OAAO,CAAC;YACpD,MAAM;YACN,aAAa,CAAC,kBAAkB,EAAE,IAAI,GAAG;YACzC,aAAa,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,MAAM,KAAK,OAAO,KAAK,KAAK,KAAK,IAAI,WAAW;QAC/F;IACJ;IAEA,aAAa;IACb,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;QACxB,aAAa,IAAI,CAAC;YACd,SAAS;YACT,YAAY,QAAQ,UAAU,EAAE;YAChC,aAAa,QAAQ,YAAY,EAAE;YACnC,QAAQ,OAAO,CAAC,KAAK,MAAM,KAAK,MAAM,EAAE,EAAE,OAAO,CAAC;YAClD,MAAM;YACN,aAAa,CAAC,gBAAgB,EAAE,IAAI,GAAG;YACvC,aAAa,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,MAAM,KAAK,OAAO,KAAK,KAAK,KAAK,IAAI,WAAW;QAC/F;IACJ;IAEA,YAAY;IACZ,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,gBAAgB,MAAM,CAAC;IAE1E,IAAI,aAAa,OAAO;QAAE,OAAO,mCAAmC,YAAY,OAAO;IAAC;IAExF,IAAA,+IAAc,EAAC;IACf,OAAO;QAAE,SAAS;IAAK;AAC3B;;;IAtDsB;;AAAA,+OAAA"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/.next-internal/server/app/%28dashboard%29/transactions/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {resetAndSeedTransactions as '409177d0e1657581eae6dcd075dd20681ea0fe4bf6'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}