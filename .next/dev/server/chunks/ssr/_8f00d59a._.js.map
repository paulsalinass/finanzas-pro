{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/utils/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\r\nimport { cookies } from 'next/headers'\r\n\r\nexport async function createClient() {\r\n    const cookieStore = await cookies()\r\n\r\n    return createServerClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n        {\r\n            cookies: {\r\n                getAll() {\r\n                    return cookieStore.getAll()\r\n                },\r\n                setAll(cookiesToSet) {\r\n                    try {\r\n                        cookiesToSet.forEach(({ name, value, options }) =>\r\n                            cookieStore.set(name, value, options)\r\n                        )\r\n                    } catch {\r\n                        // The `setAll` method was called from a Server Component.\r\n                        // This can be ignored if you have middleware refreshing\r\n                        // user sessions.\r\n                    }\r\n                },\r\n            },\r\n        }\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IAClB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,OAAO,IAAA,+LAAkB,sUAGrB;QACI,SAAS;YACL;gBACI,OAAO,YAAY,MAAM;YAC7B;YACA,QAAO,YAAY;gBACf,IAAI;oBACA,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC1C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAErC,EAAE,OAAM;gBACJ,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACrB;YACJ;QACJ;IACJ;AAER"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/app/actions/category-actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { createClient } from \"@/utils/supabase/server\"\r\nimport { revalidatePath } from \"next/cache\"\r\n\r\nexport async function createCategory(formData: FormData) {\r\n    const supabase = await createClient()\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n\r\n    if (!user) return { error: 'Unauthorized' }\r\n\r\n    const name = formData.get('name') as string\r\n    const folderId = formData.get('folderId') as string\r\n    const color = formData.get('color') as string\r\n    const icon = formData.get('icon') as string\r\n    const bookId = formData.get('bookId') as string\r\n\r\n    if (!bookId) return { error: 'Book ID is required' }\r\n\r\n    const { error } = await supabase.from('categories').insert({\r\n        name,\r\n        book_id: bookId,\r\n        folder_id: folderId === 'ungrouped' ? null : folderId,\r\n        color,\r\n        icon,\r\n        user_id: user.id\r\n    })\r\n\r\n    if (error) return { error: error.message }\r\n    revalidatePath('/categories')\r\n    return { success: true }\r\n}\r\n\r\nexport async function createFolder(formData: FormData) {\r\n    const supabase = await createClient()\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n\r\n    if (!user) return { error: 'Unauthorized' }\r\n\r\n    const name = formData.get('name') as string\r\n    const color = formData.get('color') as string\r\n    const icon = formData.get('icon') as string\r\n    const bookId = formData.get('bookId') as string\r\n\r\n    if (!bookId) return { error: 'Book ID is required' }\r\n\r\n    const { error } = await supabase.from('category_folders').insert({\r\n        name,\r\n        book_id: bookId,\r\n        color,\r\n        icon,\r\n        user_id: user.id\r\n    })\r\n\r\n    if (error) return { error: error.message }\r\n    revalidatePath('/categories')\r\n    return { success: true }\r\n}\r\n\r\nexport async function moveCategory(categoryId: string, targetFolderId: string) {\r\n    const supabase = await createClient()\r\n\r\n    const { error } = await supabase.from('categories')\r\n        .update({ folder_id: targetFolderId === 'ungrouped' ? null : targetFolderId })\r\n        .eq('id', categoryId)\r\n\r\n    if (error) return { error: error.message }\r\n    revalidatePath('/categories')\r\n    return { success: true }\r\n}\r\n\r\nexport async function deleteCategory(id: string) {\r\n    const supabase = await createClient()\r\n    const { error } = await supabase.from('categories').delete().eq('id', id)\r\n    if (error) return { error: error.message }\r\n    revalidatePath('/categories')\r\n}\r\n\r\nexport async function deleteFolder(id: string) {\r\n    const supabase = await createClient()\r\n    // Optional logic: delete items or move to ungrouped? \r\n    // Usually cascade or restricted. For now simple delete.\r\n    const { error } = await supabase.from('category_folders').delete().eq('id', id)\r\n    if (error) return { error: error.message }\r\n    revalidatePath('/categories')\r\n}\r\n\r\nexport async function updateCategory(formData: FormData) {\r\n    const supabase = await createClient()\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n\r\n    if (!user) return { error: 'Unauthorized' }\r\n\r\n    const id = formData.get('id') as string\r\n    const name = formData.get('name') as string\r\n    const folderId = formData.get('folderId') as string\r\n    const color = formData.get('color') as string\r\n    const icon = formData.get('icon') as string\r\n\r\n    if (!id) return { error: 'ID is required' }\r\n\r\n    const { error } = await supabase.from('categories').update({\r\n        name,\r\n        folder_id: folderId === 'ungrouped' ? null : folderId,\r\n        color,\r\n        icon\r\n    }).eq('id', id)\r\n\r\n    if (error) return { error: error.message }\r\n    revalidatePath('/categories')\r\n    return { success: true }\r\n}\r\n\r\nexport async function updateFolder(formData: FormData) {\r\n    const supabase = await createClient()\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n\r\n    if (!user) return { error: 'Unauthorized' }\r\n\r\n    const id = formData.get('id') as string\r\n    const name = formData.get('name') as string\r\n    const color = formData.get('color') as string\r\n    const icon = formData.get('icon') as string\r\n\r\n    if (!id) return { error: 'ID is required' }\r\n\r\n    const { error } = await supabase.from('category_folders').update({\r\n        name,\r\n        color,\r\n        icon\r\n    }).eq('id', id)\r\n\r\n    if (error) return { error: error.message }\r\n    revalidatePath('/categories')\r\n    return { success: true }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/grupo/OneDrive/Documentos/Apps/finanzas-pro/.next-internal/server/app/%28dashboard%29/categories/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {moveCategory as '60c23372b8b45b596ffd1839aa760061a49fe9f017'} from 'ACTIONS_MODULE0'\nexport {createCategory as '40ef68b1e954541f24d8a4aaa3cade72ef55cd2e67'} from 'ACTIONS_MODULE0'\nexport {updateCategory as '40a680bceef55496edf0f120787b0ff31a2336938a'} from 'ACTIONS_MODULE0'\nexport {createFolder as '409da29aca1f799ee873ce4b3e42a5dbc85a55b1d1'} from 'ACTIONS_MODULE0'\nexport {updateFolder as '405a0688f2ad623ba4c7dd22759fc48431f55c7cd7'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}