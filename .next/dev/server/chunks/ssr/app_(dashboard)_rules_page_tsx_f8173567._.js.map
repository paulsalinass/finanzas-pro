{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/PD%20-%20255%20SSD/Cio/Proyectos/Internos/Apps/finanzas-pro/app/%28dashboard%29/rules/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useMemo } from 'react';\nimport { useFinance } from '@/context/FinanceContext';\nimport { RecurringRule, TransactionType } from '@/types';\n\nexport default function Rules() {\n    const { recurringRules, toggleRuleStatus } = useFinance();\n    const [filter, setFilter] = useState<'ALL' | 'INCOME' | 'EXPENSE' | 'TRANSFER'>('ALL');\n\n    // Modal State\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [ruleType, setRuleType] = useState<TransactionType>('EXPENSE');\n    const [ruleName, setRuleName] = useState('Netflix Premium');\n    const [amount, setAmount] = useState('15.00');\n    const [freqNumber, setFreqNumber] = useState('1');\n    const [freqUnit, setFreqUnit] = useState('Meses');\n    const [nextOccurrence, setNextOccurrence] = useState('2023-10-01');\n    const [selectedAccount, setSelectedAccount] = useState('Chase Sapphire');\n    const [selectedCategory, setSelectedCategory] = useState('Entretenimiento');\n\n    const stats = useMemo(() => {\n        const totalMonthly = recurringRules\n            .filter(r => r.active && r.type === 'EXPENSE')\n            .reduce((sum, r) => sum + r.amount, 0);\n        const activeCount = recurringRules.filter(r => r.active).length;\n        const nextCharge = recurringRules.find(r => r.active && r.name === 'Suscripción Spotify') || recurringRules[0];\n\n        return { totalMonthly, activeCount, nextCharge };\n    }, [recurringRules]);\n\n    const filteredRules = useMemo(() => {\n        if (filter === 'ALL') return recurringRules;\n        return recurringRules.filter(r => r.type === filter);\n    }, [recurringRules, filter]);\n\n    return (\n        <div className=\"flex-1 w-full h-full overflow-y-auto scrollbar-hide relative pb-24\">\n            {/* Mesh Background blobs */}\n            <div className=\"fixed inset-0 pointer-events-none opacity-40 dark:opacity-10 -z-10\">\n                <div className=\"absolute top-0 left-[20%] w-[30vw] h-[30vh] bg-blue-400/10 rounded-full blur-[100px]\"></div>\n                <div className=\"absolute bottom-0 right-[20%] w-[30vw] h-[30vh] bg-purple-400/10 rounded-full blur-[100px]\"></div>\n            </div>\n\n            <div className=\"max-w-[1024px] mx-auto p-6 md:p-10 flex flex-col gap-8 animate-fade-in\">\n                {/* Page Heading & Actions */}\n                <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-6\">\n                    <div className=\"flex flex-col gap-2\">\n                        <h1 className=\"text-slate-900 dark:text-white text-3xl md:text-4xl font-black tracking-tight uppercase\">Reglas Recurrentes</h1>\n                        <p className=\"text-slate-500 dark:text-slate-400 text-base font-medium max-w-xl\">\n                            Automatiza tus movimientos habituales. Simplifica tu gestión financiera sin perder el control.\n                        </p>\n                    </div>\n                    <button\n                        onClick={() => setIsModalOpen(true)}\n                        className=\"group flex items-center justify-center gap-3 rounded-2xl h-12 px-6 bg-primary hover:bg-primary-hover text-white shadow-lg shadow-primary/20 transition-all active:scale-95 font-black uppercase text-xs tracking-widest\"\n                    >\n                        <span className=\"material-symbols-outlined text-[20px] group-hover:rotate-90 transition-transform duration-500\">add_circle</span>\n                        <span>Nueva Regla</span>\n                    </button>\n                </div>\n\n                {/* Stats Overview */}\n                <section className=\"grid grid-cols-1 md:grid-cols-3 gap-5\">\n                    <div className=\"glass-card p-6 rounded-3xl flex flex-col gap-2 relative overflow-hidden group border border-white/60 dark:border-slate-800\">\n                        <div className=\"absolute -right-4 -top-4 w-24 h-24 bg-blue-100 dark:bg-blue-900/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700\"></div>\n                        <div className=\"flex items-center gap-2 text-slate-500 dark:text-slate-400 z-10 font-black uppercase text-[10px] tracking-widest\">\n                            <span className=\"material-symbols-outlined text-lg text-primary\">calendar_month</span>\n                            <p>Total Mensual</p>\n                        </div>\n                        <p className=\"text-slate-900 dark:text-white text-3xl font-black tracking-tighter z-10\">${stats.totalMonthly.toLocaleString('en-US', { minimumFractionDigits: 2 })}</p>\n                    </div>\n\n                    <div className=\"glass-card p-6 rounded-3xl flex flex-col gap-2 relative overflow-hidden group border border-white/60 dark:border-slate-800\">\n                        <div className=\"absolute -right-4 -top-4 w-24 h-24 bg-purple-100 dark:bg-purple-900/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700\"></div>\n                        <div className=\"flex items-center gap-2 text-slate-500 dark:text-slate-400 z-10 font-black uppercase text-[10px] tracking-widest\">\n                            <span className=\"material-symbols-outlined text-lg text-purple-500\">upcoming</span>\n                            <p>Próximo Cargo</p>\n                        </div>\n                        <div className=\"z-10\">\n                            <p className=\"text-slate-900 dark:text-white text-xl font-black truncate tracking-tight\">{stats.nextCharge?.name || 'Sin cobros'}</p>\n                            <p className=\"text-xs text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider\">{stats.nextCharge?.nextDate || '---'}</p>\n                        </div>\n                    </div>\n\n                    <div className=\"glass-card p-6 rounded-3xl flex flex-col gap-2 relative overflow-hidden group border border-white/60 dark:border-slate-800\">\n                        <div className=\"absolute -right-4 -top-4 w-24 h-24 bg-green-100 dark:bg-green-900/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700\"></div>\n                        <div className=\"flex items-center gap-2 text-slate-500 dark:text-slate-400 z-10 font-black uppercase text-[10px] tracking-widest\">\n                            <span className=\"material-symbols-outlined text-lg text-success\">sync_saved_locally</span>\n                            <p>Reglas Activas</p>\n                        </div>\n                        <p className=\"text-slate-900 dark:text-white text-3xl font-black tracking-tighter z-10\">{stats.activeCount}</p>\n                    </div>\n                </section>\n\n                {/* Filters */}\n                <div className=\"flex flex-wrap gap-2 pb-4 border-b border-gray-200/50 dark:border-slate-800\">\n                    {[\n                        { id: 'ALL', label: 'Todos' },\n                        { id: 'INCOME', label: 'Ingresos' },\n                        { id: 'EXPENSE', label: 'Gastos' },\n                        { id: 'TRANSFER', label: 'Transferencias' }\n                    ].map(btn => (\n                        <button\n                            key={btn.id}\n                            onClick={() => setFilter(btn.id as any)}\n                            className={`px-5 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${filter === btn.id\n                                ? 'bg-primary text-white shadow-md shadow-primary/20'\n                                : 'glass-card text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800'\n                                }`}\n                        >\n                            {btn.label}\n                        </button>\n                    ))}\n                </div>\n\n                {/* Rules List Cards */}\n                <div className=\"flex flex-col gap-4\">\n                    {filteredRules.map((rule) => (\n                        <div\n                            key={rule.id}\n                            className={`glass-card rounded-[2rem] p-5 flex flex-col md:flex-row items-start md:items-center gap-6 border border-white/60 dark:border-slate-800 hover:shadow-lg transition-all duration-300 group ${!rule.active && 'opacity-60 grayscale-[40%]'}`}\n                        >\n                            <div className=\"flex items-center gap-4 flex-1 w-full md:w-auto\">\n                                <div className={`flex-shrink-0 size-14 rounded-2xl flex items-center justify-center shadow-inner ${rule.type === 'INCOME'\n                                    ? 'bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600'\n                                    : rule.category === 'Salud' ? 'bg-blue-50 dark:bg-blue-900/20 text-blue-500' : 'bg-orange-50 dark:bg-orange-900/20 text-orange-600'\n                                    }`}>\n                                    <span className=\"material-symbols-outlined text-[28px]\">{rule.icon}</span>\n                                </div>\n                                <div className=\"flex flex-col min-w-0\">\n                                    <p className=\"text-slate-900 dark:text-white text-base font-black tracking-tight truncate\">{rule.name}</p>\n                                    <div className=\"flex items-center gap-2 mt-1\">\n                                        <span className=\"text-[10px] font-black text-slate-400 dark:text-slate-500 bg-gray-50 dark:bg-slate-800 px-2 py-0.5 rounded uppercase tracking-widest\">{rule.category}</span>\n                                        <span className=\"text-slate-300\">•</span>\n                                        <span className=\"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider truncate\">{rule.account}</span>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-6 w-full md:w-auto md:flex-1\">\n                                <div className=\"flex flex-col\">\n                                    <span className=\"text-[9px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-1\">Monto</span>\n                                    <span className={`font-black text-lg tracking-tighter ${rule.type === 'INCOME' ? 'text-success' : 'text-slate-900 dark:text-white'}`}>\n                                        {rule.type === 'EXPENSE' ? '-' : '+'}${rule.amount.toFixed(2)}\n                                    </span>\n                                </div>\n                                <div className=\"flex flex-col\">\n                                    <span className=\"text-[9px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-1\">Frecuencia</span>\n                                    <span className=\"text-slate-800 dark:text-slate-200 font-bold text-xs uppercase tracking-wider\">{rule.frequency}</span>\n                                </div>\n                                <div className=\"hidden md:flex flex-col\">\n                                    <span className=\"text-[9px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-1\">Próximo</span>\n                                    <span className={`font-black text-xs uppercase tracking-widest flex items-center gap-1.5 ${rule.nextDate.includes('Oct') && rule.active ? 'text-orange-600' : 'text-slate-500'}`}>\n                                        {rule.nextDate}\n                                        {rule.nextDate.includes('Oct') && rule.active && <span className=\"material-symbols-outlined text-[14px]\">warning</span>}\n                                    </span>\n                                </div>\n                            </div>\n\n                            <div className=\"flex items-center justify-between w-full md:w-auto gap-6 border-t md:border-t-0 border-gray-100 dark:border-slate-800 pt-4 md:pt-0\">\n                                <div className=\"md:hidden flex flex-col\">\n                                    <span className=\"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1\">Próximo</span>\n                                    <span className=\"text-slate-900 dark:text-white font-black text-xs\">{rule.nextDate}</span>\n                                </div>\n                                <div className=\"flex items-center gap-4 ml-auto\">\n                                    {/* Custom Toggle Switch */}\n                                    <label className=\"relative inline-flex items-center cursor-pointer\">\n                                        <input\n                                            type=\"checkbox\"\n                                            checked={rule.active}\n                                            onChange={() => toggleRuleStatus(rule.id)}\n                                            className=\"sr-only peer\"\n                                        />\n                                        <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary\"></div>\n                                    </label>\n                                    <div className=\"h-8 w-[1px] bg-gray-100 dark:bg-slate-800 hidden md:block\"></div>\n                                    <button className=\"text-slate-400 hover:text-primary transition-colors p-2 rounded-xl hover:bg-primary/10\">\n                                        <span className=\"material-symbols-outlined text-[20px]\">edit</span>\n                                    </button>\n                                    <button className=\"text-slate-400 hover:text-danger transition-colors p-2 rounded-xl hover:bg-danger/10\">\n                                        <span className=\"material-symbols-outlined text-[20px]\">delete</span>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                <div className=\"flex justify-center mt-4\">\n                    <p className=\"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]\">Mostrando {filteredRules.length} de {recurringRules.length} reglas {filter !== 'ALL' ? 'filtradas' : 'activas'}</p>\n                </div>\n            </div>\n\n            {/* EDIT RECURRING RULE MODAL */}\n            {isModalOpen && (\n                <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6 lg:p-8 bg-slate-900/60 backdrop-blur-md animate-fade-in transition-all\">\n                    <div className=\"relative w-full max-w-[800px] flex flex-col glass-card border border-white/60 dark:border-white/10 shadow-premium rounded-3xl max-h-[90vh] overflow-hidden animate-slide-up\">\n                        {/* Header */}\n                        <div className=\"flex items-start justify-between p-8 border-b border-[#dce0e5]/50 dark:border-gray-700/50 pb-6\">\n                            <div className=\"flex flex-col gap-1\">\n                                <h1 className=\"text-2xl font-black tracking-tight text-[#111418] dark:text-white uppercase tracking-widest\">Editar Regla Recurrente</h1>\n                                <p className=\"text-[#637288] dark:text-gray-400 text-sm font-medium\">Configura los detalles de tus transacciones automáticas.</p>\n                            </div>\n                            <button\n                                onClick={() => setIsModalOpen(false)}\n                                className=\"p-2.5 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-all text-[#637288] dark:text-gray-400 group\"\n                            >\n                                <span className=\"material-symbols-outlined block group-hover:rotate-90 transition-transform duration-300\" style={{ fontSize: '24px' }}>close</span>\n                            </button>\n                        </div>\n\n                        {/* Scrollable Content */}\n                        <div className=\"flex-1 overflow-y-auto p-8 sm:px-10 space-y-10 scrollbar-hide\">\n                            {/* Section 1: Type & Main Info */}\n                            <div className=\"flex flex-col gap-8\">\n                                {/* Transaction Type Toggle */}\n                                <div className=\"flex justify-center\">\n                                    <div className=\"flex h-14 w-full max-w-sm items-center justify-center rounded-2xl bg-slate-100 dark:bg-slate-800 p-1.5\">\n                                        <button\n                                            onClick={() => setRuleType('INCOME')}\n                                            className={`flex-1 h-full rounded-xl text-sm font-black uppercase tracking-widest transition-all ${ruleType === 'INCOME' ? 'bg-white dark:bg-primary shadow-lg text-primary dark:text-white' : 'text-slate-500'}`}\n                                        >\n                                            Ingreso\n                                        </button>\n                                        <button\n                                            onClick={() => setRuleType('EXPENSE')}\n                                            className={`flex-1 h-full rounded-xl text-sm font-black uppercase tracking-widest transition-all ${ruleType === 'EXPENSE' ? 'bg-white dark:bg-primary shadow-lg text-primary dark:text-white' : 'text-slate-500'}`}\n                                        >\n                                            Gasto\n                                        </button>\n                                    </div>\n                                </div>\n\n                                {/* Concept & Amount Row */}\n                                <div className=\"grid grid-cols-1 md:grid-cols-12 gap-8\">\n                                    {/* Concept Input */}\n                                    <div className=\"md:col-span-7 flex flex-col gap-3\">\n                                        <label className=\"text-[#111418] dark:text-gray-200 text-xs font-black uppercase tracking-widest ml-1\">Nombre de la Regla</label>\n                                        <input\n                                            value={ruleName}\n                                            onChange={(e) => setRuleName(e.target.value)}\n                                            className=\"flex w-full rounded-2xl text-[#111418] dark:text-white focus:outline-0 focus:ring-4 focus:ring-primary/10 border border-[#dce0e5] dark:border-slate-700 bg-white/50 dark:bg-slate-800/50 focus:border-primary h-14 placeholder:text-[#9ca3af] px-6 text-base font-bold transition-all shadow-sm\"\n                                            placeholder=\"Ej. Suscripción Netflix\"\n                                            type=\"text\"\n                                        />\n                                    </div>\n                                    {/* Amount Input */}\n                                    <div className=\"md:col-span-5 flex flex-col gap-3\">\n                                        <label className=\"text-[#111418] dark:text-gray-200 text-xs font-black uppercase tracking-widest ml-1\">Monto</label>\n                                        <div className=\"relative flex w-full items-center\">\n                                            <span className=\"absolute left-5 text-slate-400 font-black text-lg\">$</span>\n                                            <input\n                                                value={amount}\n                                                onChange={(e) => setAmount(e.target.value)}\n                                                className=\"flex w-full rounded-2xl text-[#111418] dark:text-white focus:outline-0 focus:ring-4 focus:ring-primary/10 border border-[#dce0e5] dark:border-slate-700 bg-white/50 dark:bg-slate-800/50 focus:border-primary h-14 placeholder:text-[#9ca3af] pl-11 pr-6 text-xl font-black leading-normal transition-all shadow-sm\"\n                                                placeholder=\"0.00\"\n                                                type=\"number\"\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Section 2: Frequency */}\n                            <div className=\"flex flex-col gap-6\">\n                                <h3 className=\"text-[#111418] dark:text-white text-lg font-black uppercase tracking-widest ml-1\">Frecuencia</h3>\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                                    {/* Frequency Setup */}\n                                    <div className=\"flex flex-col gap-3\">\n                                        <label className=\"text-[#111418] dark:text-gray-200 text-xs font-black uppercase tracking-widest ml-1\">Repetir cada</label>\n                                        <div className=\"flex gap-4\">\n                                            <input\n                                                value={freqNumber}\n                                                onChange={(e) => setFreqNumber(e.target.value)}\n                                                className=\"w-24 rounded-2xl border border-[#dce0e5] dark:border-slate-700 bg-white/50 dark:bg-slate-800/50 text-center font-black text-[#111418] dark:text-white focus:border-primary focus:ring-4 focus:ring-primary/10 h-14 text-lg shadow-sm\"\n                                                type=\"number\"\n                                            />\n                                            <div className=\"relative flex-1\">\n                                                <select\n                                                    value={freqUnit}\n                                                    onChange={(e) => setFreqUnit(e.target.value)}\n                                                    className=\"w-full appearance-none rounded-2xl border border-[#dce0e5] dark:border-slate-700 bg-white/50 dark:bg-slate-800/50 px-6 pr-12 text-base font-bold text-[#111418] dark:text-white focus:border-primary focus:ring-4 focus:ring-primary/10 h-14 shadow-sm\"\n                                                >\n                                                    <option>Días</option>\n                                                    <option>Semanas</option>\n                                                    <option>Meses</option>\n                                                    <option>Años</option>\n                                                </select>\n                                                <span className=\"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-[#637288] dark:text-gray-400 material-symbols-outlined\">expand_more</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    {/* Start Date */}\n                                    <div className=\"flex flex-col gap-3\">\n                                        <label className=\"text-[#111418] dark:text-gray-200 text-xs font-black uppercase tracking-widest ml-1\">Próxima ocurrencia</label>\n                                        <div className=\"relative\">\n                                            <input\n                                                value={nextOccurrence}\n                                                onChange={(e) => setNextOccurrence(e.target.value)}\n                                                className=\"w-full rounded-2xl border border-[#dce0e5] dark:border-slate-700 bg-white/50 dark:bg-slate-800/50 px-6 text-base font-bold text-[#111418] dark:text-white focus:border-primary focus:ring-4 focus:ring-primary/10 h-14 shadow-sm\"\n                                                type=\"date\"\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n                                {/* End Date Optional */}\n                                <div className=\"flex items-center gap-3 pt-2 ml-1\">\n                                    <label className=\"relative inline-flex items-center cursor-pointer\">\n                                        <input type=\"checkbox\" className=\"sr-only peer\" />\n                                        <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary\"></div>\n                                        <span className=\"ms-3 text-sm font-bold text-[#111418] dark:text-gray-200 uppercase tracking-widest\">Terminar después de una fecha</span>\n                                    </label>\n                                </div>\n                            </div>\n\n                            {/* Section 3: Classification */}\n                            <div className=\"flex flex-col gap-6\">\n                                <h3 className=\"text-[#111418] dark:text-white text-lg font-black uppercase tracking-widest ml-1\">Clasificación</h3>\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                                    {/* Account Select */}\n                                    <div className=\"flex flex-col gap-3\">\n                                        <label className=\"text-[#111418] dark:text-gray-200 text-xs font-black uppercase tracking-widest ml-1\">Cuenta</label>\n                                        <div className=\"relative\">\n                                            <div className=\"absolute left-4 top-1/2 -translate-y-1/2 flex items-center justify-center size-8 rounded-xl bg-blue-50 dark:bg-blue-900/30 text-primary\">\n                                                <span className=\"material-symbols-outlined text-[20px]\">account_balance_wallet</span>\n                                            </div>\n                                            <select\n                                                value={selectedAccount}\n                                                onChange={(e) => setSelectedAccount(e.target.value)}\n                                                className=\"w-full appearance-none rounded-2xl border border-[#dce0e5] dark:border-slate-700 bg-white/50 dark:bg-slate-800/50 pl-14 pr-12 text-base font-bold text-[#111418] dark:text-white focus:border-primary focus:ring-4 focus:ring-primary/10 h-14 shadow-sm\"\n                                            >\n                                                <option>Chase Sapphire</option>\n                                                <option>Bank of America</option>\n                                                <option>Efectivo</option>\n                                            </select>\n                                            <span className=\"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-[#637288] dark:text-gray-400 material-symbols-outlined\">expand_more</span>\n                                        </div>\n                                    </div>\n                                    {/* Category Select */}\n                                    <div className=\"flex flex-col gap-3\">\n                                        <label className=\"text-[#111418] dark:text-gray-200 text-xs font-black uppercase tracking-widest ml-1\">Categoría</label>\n                                        <div className=\"relative\">\n                                            <div className=\"absolute left-4 top-1/2 -translate-y-1/2 flex items-center justify-center size-8 rounded-xl bg-purple-50 dark:bg-purple-900/30 text-purple-600\">\n                                                <span className=\"material-symbols-outlined text-[20px]\">movie</span>\n                                            </div>\n                                            <select\n                                                value={selectedCategory}\n                                                onChange={(e) => setSelectedCategory(e.target.value)}\n                                                className=\"w-full appearance-none rounded-2xl border border-[#dce0e5] dark:border-slate-700 bg-white/50 dark:bg-slate-800/50 pl-14 pr-12 text-base font-bold text-[#111418] dark:text-white focus:border-primary focus:ring-4 focus:ring-primary/10 h-14 shadow-sm\"\n                                            >\n                                                <option>Entretenimiento</option>\n                                                <option>Servicios</option>\n                                                <option>Comida</option>\n                                            </select>\n                                            <span className=\"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-[#637288] dark:text-gray-400 material-symbols-outlined\">expand_more</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Natural Language Preview */}\n                            <div className=\"rounded-[2rem] bg-primary/5 dark:bg-blue-900/20 p-6 border border-primary/20 animate-fade-in\">\n                                <div className=\"flex items-start gap-4\">\n                                    <div className=\"size-10 rounded-2xl bg-primary/10 flex items-center justify-center text-primary shrink-0\">\n                                        <span className=\"material-symbols-outlined\">info</span>\n                                    </div>\n                                    <p className=\"text-sm text-[#111418] dark:text-blue-100 leading-relaxed font-medium\">\n                                        Resumen: Se registrará un <span className=\"font-black text-primary uppercase text-xs tracking-widest\">{ruleType === 'EXPENSE' ? 'Gasto' : 'Ingreso'}</span> de <span className=\"font-black text-slate-900 dark:text-white\">${amount || '0.00'}</span> para <span className=\"font-black text-slate-900 dark:text-white\">{ruleName || 'Sin nombre'}</span> cada <span className=\"font-black text-slate-900 dark:text-white\">{freqNumber} {freqUnit.toLowerCase()}</span>, comenzando el <span className=\"font-black text-slate-900 dark:text-white\">{nextOccurrence}</span> en la cuenta <span className=\"font-black text-slate-900 dark:text-white\">{selectedAccount}</span>.\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Footer Actions */}\n                        <div className=\"flex items-center justify-end gap-4 p-8 border-t border-[#dce0e5]/50 dark:border-slate-800/50 bg-white/30 dark:bg-slate-900/30 backdrop-blur-xl\">\n                            <button\n                                onClick={() => setIsModalOpen(false)}\n                                className=\"flex h-12 min-w-[120px] items-center justify-center rounded-2xl px-6 text-slate-500 dark:text-slate-400 text-xs font-black uppercase tracking-widest hover:bg-black/5 dark:hover:bg-white/5 transition-all\"\n                            >\n                                <span>Cancelar</span>\n                            </button>\n                            <button\n                                onClick={() => setIsModalOpen(false)}\n                                className=\"flex h-12 min-w-[160px] items-center justify-center rounded-2xl bg-primary hover:bg-primary-hover text-white shadow-xl shadow-primary/25 px-8 text-xs font-black uppercase tracking-[0.15em] transition-all active:scale-95 active:translate-y-0.5\"\n                            >\n                                <span>Guardar Regla</span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}