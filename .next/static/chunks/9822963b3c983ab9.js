(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21786,e=>{"use strict";var s=e.i(43476),a=e.i(71645),l=e.i(18566),t=e.i(52863);function r(){let e=(0,l.useRouter)(),{budgets:r}=(0,t.useFinance)(),[i,n]=(0,a.useState)("all"),[d,o]=(0,a.useState)("amount_desc"),c=(0,a.useMemo)(()=>r.reduce((e,s)=>e+s.limit,0),[r]),x=c-(0,a.useMemo)(()=>r.reduce((e,s)=>e+s.spent,0),[r]),m=c>0?x/c*100:0,g=(0,a.useMemo)(()=>r.filter(e=>e.spent/e.limit>=.9&&e.spent/e.limit<1).length,[r]),u=(0,a.useMemo)(()=>r.filter(e=>{let s=e.spent/e.limit;return"danger"===i?s>=.9&&s<1:"exceeded"===i?s>=1:"healthy"!==i||s<.9}).sort((e,s)=>"amount_desc"===d?s.limit-e.limit:"amount_asc"===d?e.limit-s.limit:"name"===d?e.category.localeCompare(s.category):0),[r,i,d]);return(0,s.jsxs)("div",{className:"flex-1 flex flex-col h-full overflow-y-auto overflow-x-hidden relative scrollbar-hide pb-24",children:[(0,s.jsxs)("div",{className:"fixed inset-0 -z-10 pointer-events-none opacity-40 dark:opacity-10",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-blue-100 rounded-full blur-[120px]"}),(0,s.jsx)("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-indigo-100 rounded-full blur-[120px]"})]}),(0,s.jsxs)("div",{className:"container mx-auto max-w-[1200px] p-6 lg:p-10 flex flex-col gap-8",children:[(0,s.jsxs)("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 animate-fade-in",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("h1",{className:"text-3xl lg:text-4xl font-black tracking-tight text-[#111418] dark:text-white",children:"Presupuestos"}),(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-lg font-normal",children:"Planificación de Octubre 2024"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[(0,s.jsxs)("div",{className:"relative min-w-[200px]",children:[(0,s.jsxs)("select",{className:"appearance-none w-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-text-main dark:text-gray-200 py-3 pl-4 pr-10 rounded-xl leading-tight focus:outline-none focus:ring-2 focus:ring-primary/20 shadow-sm cursor-pointer font-medium text-sm h-12",children:[(0,s.jsx)("option",{children:"Libro Personal"}),(0,s.jsx)("option",{children:"Libro Familiar"}),(0,s.jsx)("option",{children:"Negocio"})]}),(0,s.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-500",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-sm",children:"expand_more"})})]}),(0,s.jsxs)("button",{className:"flex items-center justify-center gap-2 bg-primary hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-xl shadow-lg shadow-blue-500/30 transition-all active:scale-95 h-12",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-[20px]",children:"add"}),(0,s.jsx)("span",{className:"text-sm",children:"Nuevo Presupuesto"})]})]})]}),(0,s.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 animate-fade-in",style:{animationDelay:"0.1s"},children:[(0,s.jsxs)("div",{className:"glass-panel rounded-2xl p-6 flex flex-col gap-3 shadow-glass group hover:shadow-lg transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg text-primary",children:(0,s.jsx)("span",{className:"material-symbols-outlined",children:"assignment"})}),(0,s.jsx)("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Total Planeado"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-3xl font-bold text-[#111418] dark:text-white tracking-tight",children:["$",c.toLocaleString("en-US",{minimumFractionDigits:2})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Suma de todas las categorías"})]})]}),(0,s.jsxs)("div",{className:"glass-panel rounded-2xl p-6 flex flex-col gap-3 shadow-glass group hover:shadow-lg transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"p-2 bg-green-50 dark:bg-green-900/30 rounded-lg text-emerald-600",children:(0,s.jsx)("span",{className:"material-symbols-outlined",children:"savings"})}),(0,s.jsx)("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Disponible"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-3xl font-bold text-[#111418] dark:text-white tracking-tight",children:["$",x.toLocaleString("en-US",{minimumFractionDigits:2})]}),(0,s.jsxs)("p",{className:"text-sm text-emerald-600 mt-1 font-medium flex items-center gap-1",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-sm",children:"trending_up"}),m.toFixed(0),"% Restante del mes"]})]})]}),(0,s.jsxs)("div",{className:"glass-panel rounded-2xl p-6 flex flex-col gap-3 shadow-glass group hover:shadow-lg transition-all duration-300 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute -right-4 -top-4 w-20 h-20 bg-orange-100 dark:bg-orange-900/20 rounded-full blur-2xl"}),(0,s.jsxs)("div",{className:"flex items-center justify-between relative z-10",children:[(0,s.jsx)("div",{className:"p-2 bg-orange-50 dark:bg-orange-900/30 rounded-lg text-orange-500",children:(0,s.jsx)("span",{className:"material-symbols-outlined",children:"notifications_active"})}),(0,s.jsx)("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Alertas"})]}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("h3",{className:"text-3xl font-bold text-[#111418] dark:text-white tracking-tight",children:g}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Categorías cerca del límite"})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 py-2 animate-fade-in",style:{animationDelay:"0.15s"},children:[(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto w-full sm:w-auto pb-2 sm:pb-0 scrollbar-hide",children:[{id:"all",label:"Todos"},{id:"danger",label:"En Peligro"},{id:"exceeded",label:"Excedidos"},{id:"healthy",label:"Saludables"}].map(e=>(0,s.jsx)("button",{onClick:()=>n(e.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap ${i===e.id?"bg-[#111418] text-white shadow-md":"glass-panel text-gray-600 dark:text-gray-300 hover:bg-white hover:text-primary"}`,children:e.label},e.id))}),(0,s.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto text-gray-500 text-sm",children:[(0,s.jsx)("span",{className:"hidden sm:inline",children:"Ordenar por:"}),(0,s.jsxs)("select",{value:d,onChange:e=>o(e.target.value),className:"bg-transparent font-medium text-gray-700 dark:text-gray-300 focus:outline-none cursor-pointer border-none p-0",children:[(0,s.jsx)("option",{value:"amount_desc",children:"Mayor monto"}),(0,s.jsx)("option",{value:"amount_asc",children:"Menor monto"}),(0,s.jsx)("option",{value:"name",children:"Nombre"})]})]})]}),(0,s.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 animate-fade-in",style:{animationDelay:"0.2s"},children:[u.map(a=>{let l,t,r=Math.min(a.spent/a.limit*100,100),i=(l=a.spent/a.limit)>=1?{label:"Excedido",colorClass:"text-danger",bgClass:"bg-red-50 dark:bg-red-900/20",borderClass:"border-l-danger",barClass:"bg-danger"}:l>=.9?{label:"Cuidado",colorClass:"text-warning",bgClass:"bg-orange-50 dark:bg-orange-900/20",borderClass:"border-l-warning",barClass:"bg-warning"}:{label:"Normal",colorClass:"text-primary",bgClass:"bg-blue-50 dark:bg-blue-900/20",borderClass:"border-l-primary",barClass:"bg-primary"},n=a.limit-a.spent;return(0,s.jsxs)("div",{onClick:()=>e.push(`/budget/${a.id}`),className:`glass-panel rounded-2xl p-5 shadow-glass hover:shadow-xl transition-all duration-300 group cursor-pointer border-l-4 border-l-transparent hover:${i.borderClass}`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`size-10 rounded-full flex items-center justify-center ${i.bgClass} ${i.colorClass}`,children:(0,s.jsx)("span",{className:"material-symbols-outlined",children:(t=a.category.toLowerCase()).includes("super")?"shopping_cart":t.includes("transporte")?"directions_bus":t.includes("entretenimiento")?"local_activity":t.includes("ropa")?"checkroom":t.includes("restaurante")?"restaurant":t.includes("mascota")?"pets":"payments"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold text-gray-900 dark:text-white",children:a.category}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"Mensual"})]})]}),(0,s.jsx)("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${i.bgClass} ${i.colorClass}`,children:i.label})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-end",children:[(0,s.jsxs)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",a.spent.toLocaleString()]}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-500 mb-1",children:["de $",a.limit.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"h-3 w-full bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden relative",children:[r>=100&&(0,s.jsx)("div",{className:"absolute inset-0 bg-red-400 opacity-20"}),(0,s.jsx)("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${i.barClass}`,style:{width:`${r}%`}})]}),(0,s.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[(0,s.jsxs)("span",{children:[r.toFixed(0),"% gastado"]}),(0,s.jsx)("span",{className:`font-medium ${n<0?"text-danger":n<.1*a.limit?"text-orange-500":""}`,children:n<0?`+$${Math.abs(n)} sobre l\xedmite`:`$${n} restante`})]})]})]},a.id)}),(0,s.jsxs)("div",{className:"w-full border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-2xl p-8 flex flex-col items-center justify-center gap-4 text-gray-400 hover:text-primary hover:border-primary hover:bg-white/50 dark:hover:bg-slate-800/20 transition-all cursor-pointer group min-h-[160px]",children:[(0,s.jsx)("div",{className:"size-14 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center group-hover:bg-primary/10 transition-colors",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-3xl",children:"add"})}),(0,s.jsx)("p",{className:"font-medium",children:"Crear nuevo presupuesto"})]})]}),0===u.length&&(0,s.jsxs)("div",{className:"py-20 text-center opacity-40",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-6xl mb-4",children:"search_off"}),(0,s.jsx)("p",{className:"font-medium",children:"No se encontraron presupuestos con este filtro."})]})]})]})}e.s(["default",()=>r])}]);