(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48680,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),l=e.i(52863);function r(){let e=(0,a.useRouter)(),{transactions:r,totalBalance:d}=(0,l.useFinance)(),[i,n]=(0,s.useState)(""),[o,c]=(0,s.useState)("ALL"),[x,m]=(0,s.useState)([]),p=(0,s.useMemo)(()=>Array.from(new Set(r.map(e=>e.category))).map(e=>({name:e,icon:r.find(t=>t.category===e)?.icon||"category"})),[r]),h=(0,s.useMemo)(()=>r.filter(e=>{let t=e.description.toLowerCase().includes(i.toLowerCase())||e.category.toLowerCase().includes(i.toLowerCase()),s="ALL"===o||e.type===o,a=0===x.length||x.includes(e.category);return t&&s&&a}),[r,i,o,x]),u=(0,s.useMemo)(()=>{let e={};return h.forEach(t=>{let s=new Date(t.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"});e[s]||(e[s]={date:s,items:[],total:0}),e[s].items.push(t),e[s].total+="INCOME"===t.type?t.amount:-t.amount}),Object.values(e)},[h]);return(0,t.jsxs)("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[(0,t.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[(0,t.jsx)("div",{className:"absolute -top-[10%] -right-[5%] w-[800px] h-[800px] rounded-full bg-blue-100/50 dark:bg-blue-900/10 blur-[100px] mix-blend-multiply dark:mix-blend-screen"}),(0,t.jsx)("div",{className:"absolute top-[20%] -left-[10%] w-[600px] h-[600px] rounded-full bg-purple-100/50 dark:bg-purple-900/10 blur-[100px] mix-blend-multiply dark:mix-blend-screen"})]}),(0,t.jsxs)("main",{className:"flex-1 max-w-7xl mx-auto w-full p-4 lg:p-8 flex gap-8 overflow-hidden",children:[(0,t.jsxs)("aside",{className:"hidden lg:flex flex-col w-72 shrink-0 gap-6 h-full overflow-y-auto pr-2 scrollbar-hide",children:[(0,t.jsxs)("div",{className:"glass-card p-6 rounded-2xl border border-white/40 dark:border-slate-800",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-2",children:"Total Disponible"}),(0,t.jsxs)("h2",{className:"text-3xl font-black text-slate-800 dark:text-white tracking-tight",children:["$",d.toLocaleString("es-ES",{minimumFractionDigits:2})]}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-200/50 dark:border-slate-700/50 flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Este mes"}),(0,t.jsx)("span",{className:"text-emerald-600 font-semibold bg-emerald-50 px-2 py-0.5 rounded-full dark:bg-emerald-900/30",children:"+ $2,120.50"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-bold text-slate-700 dark:text-slate-200",children:"Filtros"}),(0,t.jsx)("button",{onClick:()=>{n(""),c("ALL"),m([])},className:"text-xs text-primary hover:underline font-medium",children:"Resetear"})]}),(0,t.jsxs)("div",{className:"glass-card p-4 rounded-xl space-y-3 border border-white/40 dark:border-slate-800",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-slate-400 dark:text-slate-500 uppercase tracking-wider",children:"Período"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{className:"w-full bg-white/50 dark:bg-slate-800/50 border-0 ring-1 ring-slate-200 dark:ring-slate-700 rounded-lg py-2.5 pl-3 pr-10 text-sm font-medium text-slate-700 dark:text-slate-200 focus:ring-2 focus:ring-primary focus:bg-white transition-all appearance-none cursor-pointer",children:[(0,t.jsx)("option",{children:"Octubre 2024"}),(0,t.jsx)("option",{children:"Septiembre 2024"})]}),(0,t.jsx)("span",{className:"material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none text-lg",children:"calendar_month"})]})]}),(0,t.jsxs)("div",{className:"glass-card p-4 rounded-xl space-y-4 border border-white/40 dark:border-slate-800",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-slate-400 dark:text-slate-500 uppercase tracking-wider",children:"Categorías"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-colors group",children:[(0,t.jsx)("input",{type:"checkbox",checked:0===x.length,onChange:()=>m([]),className:"rounded border-slate-300 text-primary focus:ring-primary bg-transparent"}),(0,t.jsx)("span",{className:"text-sm text-slate-600 dark:text-slate-300 font-medium group-hover:text-primary",children:"Todas"})]}),p.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-colors group",children:[(0,t.jsx)("input",{type:"checkbox",checked:x.includes(e.name),onChange:()=>{var t;return t=e.name,void m(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"rounded border-slate-300 text-primary focus:ring-primary bg-transparent"}),(0,t.jsx)("div",{className:"size-6 rounded-full bg-blue-50 dark:bg-blue-900/30 text-primary flex items-center justify-center",children:(0,t.jsx)("span",{className:"material-symbols-outlined text-[14px]",children:e.icon})}),(0,t.jsx)("span",{className:"text-sm text-slate-600 dark:text-slate-300 group-hover:text-slate-900 dark:group-hover:text-white",children:e.name})]},e.name))]})]})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[(0,t.jsxs)("div",{className:"mb-8 shrink-0 animate-fade-in",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-end justify-between gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Transacciones"}),(0,t.jsx)("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Gestiona tus movimientos con claridad."})]}),(0,t.jsxs)("button",{onClick:()=>e.push("/edit-transaction"),className:"bg-primary hover:bg-primary-hover text-white px-5 py-2.5 rounded-xl font-semibold shadow-lg shadow-primary/30 flex items-center gap-2 transition-all active:scale-95",children:[(0,t.jsx)("span",{className:"material-symbols-outlined text-[20px]",children:"add"}),(0,t.jsx)("span",{children:"Nueva"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:"search"}),(0,t.jsx)("input",{value:i,onChange:e=>n(e.target.value),className:"w-full glass-card pl-11 pr-4 py-3 rounded-xl border-transparent focus:border-primary focus:ring-0 text-sm font-medium placeholder:text-slate-400 text-slate-700 dark:text-white transition-all",placeholder:"Buscar transacción...",type:"text"})]}),(0,t.jsxs)("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[(0,t.jsx)("button",{onClick:()=>c("ALL"),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${"ALL"===o?"bg-slate-800 dark:bg-slate-700 text-white shadow-md":"glass-card text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-800"}`,children:"Todo"}),(0,t.jsx)("button",{onClick:()=>c("INCOME"),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${"INCOME"===o?"bg-slate-800 dark:bg-slate-700 text-white shadow-md":"glass-card text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-800"}`,children:"Ingresos"}),(0,t.jsx)("button",{onClick:()=>c("EXPENSE"),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${"EXPENSE"===o?"bg-slate-800 dark:bg-slate-700 text-white shadow-md":"glass-card text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-800"}`,children:"Gastos"})]})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto pr-2 pb-20 space-y-8 scrollbar-hide animate-fade-in",style:{animationDelay:"0.1s"},children:[u.map((s,a)=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"sticky top-0 z-10 py-3 bg-[#f2f6fa]/95 dark:bg-[#020617]/95 backdrop-blur-md flex justify-between items-center border-b border-slate-200/50 dark:border-slate-800/50 mb-3",children:[(0,t.jsx)("h3",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest capitalize",children:s.date}),(0,t.jsxs)("span",{className:`text-xs font-semibold px-2 py-1 rounded ${s.total>=0?"bg-emerald-100/50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100/50 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400"}`,children:[s.total>=0?"+":"-","$",Math.abs(s.total).toLocaleString("es-ES",{minimumFractionDigits:2})]})]}),(0,t.jsx)("div",{className:"flex flex-col gap-3",children:s.items.map(s=>(0,t.jsxs)("div",{onClick:()=>e.push(`/transaction/${s.id}`),className:"group glass-card rounded-2xl p-4 flex items-center gap-4 cursor-pointer hover:bg-white/90 dark:hover:bg-slate-800/80 hover:-translate-y-0.5 transition-all duration-200 border border-white/40 dark:border-slate-800",children:[(0,t.jsx)("div",{className:`size-12 rounded-2xl flex items-center justify-center shrink-0 border transition-colors ${"INCOME"===s.type?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 border-emerald-100 dark:border-emerald-500/10":"bg-orange-50 dark:bg-orange-900/20 text-orange-500 border-orange-100 dark:border-orange-500/10"}`,children:(0,t.jsx)("span",{className:"material-symbols-outlined",children:s.icon})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 grid grid-cols-[1fr_auto] gap-x-4 gap-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-bold text-slate-800 dark:text-slate-100 truncate",children:s.description}),(0,t.jsxs)("p",{className:`text-sm font-bold text-right ${"INCOME"===s.type?"text-emerald-500":"text-rose-500"}`,children:["EXPENSE"===s.type?"-":"+","$",s.amount.toFixed(2)]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400 truncate",children:[(0,t.jsx)("span",{children:s.account}),(0,t.jsx)("span",{className:"size-1 rounded-full bg-slate-300 dark:bg-slate-700"}),(0,t.jsx)("span",{children:s.category})]}),(0,t.jsx)("p",{className:"text-xs font-medium text-slate-400 text-right",children:new Date(s.date).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]})]},s.id))})]},s.date)),0===u.length&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 opacity-50",children:[(0,t.jsx)("span",{className:"material-symbols-outlined text-6xl mb-4",children:"history_toggle_off"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"No se encontraron transacciones en este período."})]}),u.length>0&&(0,t.jsx)("div",{className:"py-8 text-center",children:(0,t.jsx)("p",{className:"text-sm text-slate-400 dark:text-slate-600",children:"No hay más transacciones"})})]})]})]})]})}e.s(["default",()=>r])}]);