{"version":3,"sources":["../../../../app/edit-transaction/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useFinance } from '../../context/FinanceContext';\r\nimport { TransactionType } from '../../types';\r\n\r\nexport default function EditTransaction() {\r\n    const router = useRouter();\r\n    const { addTransaction, accounts } = useFinance();\r\n\r\n    const [amount, setAmount] = useState('0.00');\r\n    const [description, setDescription] = useState('');\r\n    const [category, setCategory] = useState('Alimentos');\r\n    const [account, setAccount] = useState(accounts[0]?.name || 'Banco Principal');\r\n    const [type, setType] = useState<TransactionType>('EXPENSE');\r\n    const [date, setDate] = useState(new Date().toISOString().split('T')[0]);\r\n\r\n    const handleSave = () => {\r\n        const numAmount = parseFloat(amount);\r\n        if (isNaN(numAmount) || numAmount <= 0) return alert('Por favor ingresa un monto v√°lido');\r\n        if (!description.trim()) return alert('Por favor ingresa una descripci√≥n');\r\n\r\n        addTransaction({\r\n            amount: numAmount,\r\n            type,\r\n            category,\r\n            account,\r\n            description,\r\n            date: new Date(date).toISOString(),\r\n            icon: category === 'Alimentos' ? 'shopping_bag' :\r\n                category === 'Transporte' ? 'local_gas_station' :\r\n                    category === 'Vivienda' ? 'cottage' : 'movie'\r\n        });\r\n\r\n        router.push('/transactions');\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex-1 overflow-y-auto p-4 md:p-8 scrollbar-hide flex flex-col items-center\">\r\n            <div className=\"glass-card w-full max-w-[900px] rounded-[3rem] shadow-glass flex flex-col relative overflow-hidden transition-all duration-500 mb-20 animate-fade-in lg:mt-10\">\r\n                <div className=\"flex items-center justify-between px-8 py-6 border-b border-gray-100/50 dark:border-slate-800/50\">\r\n                    <h2 className=\"text-xl font-black tracking-tight text-text-main dark:text-white flex items-center gap-2 uppercase text-[14px] tracking-widest\">Nuevo Movimiento</h2>\r\n                    <button onClick={() => router.back()} className=\"p-2.5 rounded-2xl hover:bg-gray-100 dark:hover:bg-slate-800 text-text-muted transition-all\">\r\n                        <span className=\"material-symbols-outlined\">close</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"flex flex-col md:flex-row h-full\">\r\n                    <div className=\"w-full md:w-[40%] p-8 md:p-12 border-b md:border-b-0 md:border-r border-gray-100/50 dark:border-slate-800/50 flex flex-col gap-10 bg-white/30 dark:bg-slate-900/30\">\r\n                        <div className=\"flex-1 flex flex-col justify-center items-center py-6\">\r\n                            <label className=\"text-[10px] font-black text-primary bg-primary/10 px-3 py-1.5 rounded-full uppercase tracking-widest mb-4\">Monto Final</label>\r\n                            <div className=\"relative flex items-center justify-center w-full group\">\r\n                                <span className=\"text-5xl font-black text-text-light/50 dark:text-slate-700 absolute left-4 top-1/2 -translate-y-1/2\">$</span>\r\n                                <input\r\n                                    autoFocus\r\n                                    value={amount}\r\n                                    onChange={(e) => setAmount(e.target.value)}\r\n                                    className=\"w-full bg-transparent border-none text-center text-7xl font-black text-text-main dark:text-white placeholder-gray-200 focus:ring-0 p-0 leading-none h-24 tracking-tighter\"\r\n                                    placeholder=\"0.00\"\r\n                                    type=\"text\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center justify-center gap-2\">\r\n                            <button\r\n                                onClick={() => setType('EXPENSE')}\r\n                                className={`flex-1 py-3 px-4 rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg transition-all ${type === 'EXPENSE' ? 'bg-primary text-white shadow-blue-500/20' : 'bg-white/50 dark:bg-slate-800/50 text-text-muted border border-gray-100 dark:border-slate-700'}`}\r\n                            >\r\n                                Gasto\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setType('INCOME')}\r\n                                className={`flex-1 py-3 px-4 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${type === 'INCOME' ? 'bg-success text-white' : 'bg-white/50 dark:bg-slate-800/50 text-text-muted border border-gray-100 dark:border-slate-700'}`}\r\n                            >\r\n                                Ingreso\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"w-full md:w-[60%] p-8 md:p-12 flex flex-col justify-between gap-8\">\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n                            <div className=\"col-span-1 md:col-span-2 space-y-3\">\r\n                                <label className=\"text-[10px] font-black text-text-muted dark:text-slate-500 uppercase tracking-widest ml-2\">Descripci√≥n del comercio</label>\r\n                                <input\r\n                                    value={description}\r\n                                    onChange={(e) => setDescription(e.target.value)}\r\n                                    className=\"block w-full px-6 py-4 border-none ring-1 ring-gray-200 dark:ring-slate-700 rounded-[1.5rem] focus:ring-2 focus:ring-primary text-text-main dark:text-white placeholder-gray-400 bg-white/50 dark:bg-slate-900/50 font-bold transition-all\"\r\n                                    placeholder=\"Ej. Mercadona, Amazon...\"\r\n                                    type=\"text\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"space-y-3\">\r\n                                <label className=\"text-[10px] font-black text-text-muted dark:text-slate-500 uppercase tracking-widest ml-2\">Categor√≠a</label>\r\n                                <select\r\n                                    value={category}\r\n                                    onChange={(e) => setCategory(e.target.value)}\r\n                                    className=\"block w-full px-6 py-4 border-none ring-1 ring-gray-200 dark:ring-slate-700 rounded-[1.5rem] focus:ring-2 focus:ring-primary text-text-main dark:text-white bg-white/50 dark:bg-slate-900/50 font-bold appearance-none cursor-pointer\"\r\n                                >\r\n                                    <option value=\"Alimentos\">üõí Alimentos</option>\r\n                                    <option value=\"Transporte\">üöó Transporte</option>\r\n                                    <option value=\"Vivienda\">üè† Vivienda</option>\r\n                                    <option value=\"Entretenimiento\">üéÅ Entretenimiento</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"space-y-3\">\r\n                                <label className=\"text-[10px] font-black text-text-muted dark:text-slate-500 uppercase tracking-widest ml-2\">Cuenta Origen</label>\r\n                                <select\r\n                                    value={account}\r\n                                    onChange={(e) => setAccount(e.target.value)}\r\n                                    className=\"block w-full px-6 py-4 border-none ring-1 ring-gray-200 dark:ring-slate-700 rounded-[1.5rem] focus:ring-2 focus:ring-primary text-text-main dark:text-white bg-white/50 dark:bg-slate-900/50 font-bold appearance-none cursor-pointer\"\r\n                                >\r\n                                    {accounts.map(acc => (\r\n                                        <option key={acc.id} value={acc.name}>{acc.name}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"col-span-1 md:col-span-2 space-y-3\">\r\n                                <label className=\"text-[10px] font-black text-text-muted dark:text-slate-500 uppercase tracking-widest ml-2\">Fecha del movimiento</label>\r\n                                <input\r\n                                    value={date}\r\n                                    onChange={(e) => setDate(e.target.value)}\r\n                                    className=\"block w-full px-6 py-4 border-none ring-1 ring-gray-200 dark:ring-slate-700 rounded-[1.5rem] focus:ring-2 focus:ring-primary text-text-main dark:text-white placeholder-gray-400 bg-white/50 dark:bg-slate-900/50 font-bold transition-all\"\r\n                                    type=\"date\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex gap-4 pt-6\">\r\n                            <button onClick={() => router.back()} className=\"flex-1 py-4 px-6 rounded-2xl border border-gray-200 dark:border-slate-800 text-text-muted dark:text-slate-400 font-black text-[10px] uppercase tracking-widest hover:bg-gray-50 dark:hover:bg-slate-800 transition-all\">Cancelar</button>\r\n                            <button onClick={handleSave} className=\"flex-[2] py-4 px-6 rounded-2xl bg-primary hover:bg-primary-hover text-white font-black text-[10px] uppercase tracking-widest shadow-xl shadow-blue-500/30 transition-all flex justify-center items-center gap-2\">Guardar Registro</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}